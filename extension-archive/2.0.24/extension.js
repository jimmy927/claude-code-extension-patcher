"use strict";var Lk=Object.create;var mc=Object.defineProperty;var $k=Object.getOwnPropertyDescriptor;var Nk=Object.getOwnPropertyNames;var Fk=Object.getPrototypeOf,jk=Object.prototype.hasOwnProperty;var z=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),wp=(t,e)=>{for(var r in e)mc(t,r,{get:e[r],enumerable:!0})},mv=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Nk(e))!jk.call(t,a)&&a!==r&&mc(t,a,{get:()=>e[a],enumerable:!(s=$k(e,a))||s.enumerable});return t};var ae=(t,e,r)=>(r=t!=null?Lk(Fk(t)):{},mv(e||!t||!t.__esModule?mc(r,"default",{value:t,enumerable:!0}):r,t)),Mk=t=>mv(mc({},"__esModule",{value:!0}),t);var bv=z((K6,xv)=>{xv.exports=yv;yv.sync=qk;var vv=require("fs");function Uk(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var s=0;s<r.length;s++){var a=r[s].toLowerCase();if(a&&t.substr(-a.length).toLowerCase()===a)return!0}return!1}function gv(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:Uk(e,r)}function yv(t,e,r){vv.stat(t,function(s,a){r(s,s?!1:gv(a,t,e))})}function qk(t,e){return gv(vv.statSync(t),t,e)}});var Pv=z((J6,Ev)=>{Ev.exports=wv;wv.sync=zk;var _v=require("fs");function wv(t,e,r){_v.stat(t,function(s,a){r(s,s?!1:Sv(a,e))})}function zk(t,e){return Sv(_v.statSync(t),e)}function Sv(t,e){return t.isFile()&&Bk(t,e)}function Bk(t,e){var r=t.mode,s=t.uid,a=t.gid,i=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),n=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),o=parseInt("100",8),l=parseInt("010",8),c=parseInt("001",8),u=o|l,p=r&c||r&l&&a===n||r&o&&s===i||r&u&&i===0;return p}});var Cv=z((X6,Rv)=>{var Q6=require("fs"),hc;process.platform==="win32"||global.TESTING_WINDOWS?hc=bv():hc=Pv();Rv.exports=Sp;Sp.sync=Hk;function Sp(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(s,a){Sp(t,e||{},function(i,n){i?a(i):s(n)})})}hc(t,e||{},function(s,a){s&&(s.code==="EACCES"||e&&e.ignoreErrors)&&(s=null,a=!1),r(s,a)})}function Hk(t,e){try{return hc.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var Lv=z((Y6,Dv)=>{var kn=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Tv=require("path"),Vk=kn?";":":",Ov=Cv(),kv=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),Av=(t,e)=>{let r=e.colon||Vk,s=t.match(/\//)||kn&&t.match(/\\/)?[""]:[...kn?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],a=kn?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",i=kn?a.split(r):[""];return kn&&t.indexOf(".")!==-1&&i[0]!==""&&i.unshift(""),{pathEnv:s,pathExt:i,pathExtExe:a}},Iv=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:s,pathExt:a,pathExtExe:i}=Av(t,e),n=[],o=c=>new Promise((u,p)=>{if(c===s.length)return e.all&&n.length?u(n):p(kv(t));let h=s[c],d=/^".*"$/.test(h)?h.slice(1,-1):h,m=Tv.join(d,t),f=!d&&/^\.[\\\/]/.test(t)?t.slice(0,2)+m:m;u(l(f,c,0))}),l=(c,u,p)=>new Promise((h,d)=>{if(p===a.length)return h(o(u+1));let m=a[p];Ov(c+m,{pathExt:i},(f,v)=>{if(!f&&v)if(e.all)n.push(c+m);else return h(c+m);return h(l(c,u,p+1))})});return r?o(0).then(c=>r(null,c),r):o(0)},Gk=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:s,pathExtExe:a}=Av(t,e),i=[];for(let n=0;n<r.length;n++){let o=r[n],l=/^".*"$/.test(o)?o.slice(1,-1):o,c=Tv.join(l,t),u=!l&&/^\.[\\\/]/.test(t)?t.slice(0,2)+c:c;for(let p=0;p<s.length;p++){let h=u+s[p];try{if(Ov.sync(h,{pathExt:a}))if(e.all)i.push(h);else return h}catch{}}}if(e.all&&i.length)return i;if(e.nothrow)return null;throw kv(t)};Dv.exports=Iv;Iv.sync=Gk});var Nv=z((eG,Ep)=>{"use strict";var $v=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(s=>s.toUpperCase()==="PATH")||"Path"};Ep.exports=$v;Ep.exports.default=$v});var Uv=z((tG,Mv)=>{"use strict";var Fv=require("path"),Wk=Lv(),Zk=Nv();function jv(t,e){let r=t.options.env||process.env,s=process.cwd(),a=t.options.cwd!=null,i=a&&process.chdir!==void 0&&!process.chdir.disabled;if(i)try{process.chdir(t.options.cwd)}catch{}let n;try{n=Wk.sync(t.command,{path:r[Zk({env:r})],pathExt:e?Fv.delimiter:void 0})}catch{}finally{i&&process.chdir(s)}return n&&(n=Fv.resolve(a?t.options.cwd:"",n)),n}function Kk(t){return jv(t)||jv(t,!0)}Mv.exports=Kk});var qv=z((rG,Rp)=>{"use strict";var Pp=/([()\][%!^"`<>&|;, *?])/g;function Jk(t){return t=t.replace(Pp,"^$1"),t}function Qk(t,e){return t=`${t}`,t=t.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),t=t.replace(/(?=(\\+?)?)\1$/,"$1$1"),t=`"${t}"`,t=t.replace(Pp,"^$1"),e&&(t=t.replace(Pp,"^$1")),t}Rp.exports.command=Jk;Rp.exports.argument=Qk});var Bv=z((sG,zv)=>{"use strict";zv.exports=/^#!(.*)/});var Vv=z((aG,Hv)=>{"use strict";var Xk=Bv();Hv.exports=(t="")=>{let e=t.match(Xk);if(!e)return null;let[r,s]=e[0].replace(/#! ?/,"").split(" "),a=r.split("/").pop();return a==="env"?s:s?`${a} ${s}`:a}});var Wv=z((nG,Gv)=>{"use strict";var Cp=require("fs"),Yk=Vv();function e1(t){let r=Buffer.alloc(150),s;try{s=Cp.openSync(t,"r"),Cp.readSync(s,r,0,150,0),Cp.closeSync(s)}catch{}return Yk(r.toString())}Gv.exports=e1});var Qv=z((iG,Jv)=>{"use strict";var t1=require("path"),Zv=Uv(),Kv=qv(),r1=Wv(),s1=process.platform==="win32",a1=/\.(?:com|exe)$/i,n1=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function i1(t){t.file=Zv(t);let e=t.file&&r1(t.file);return e?(t.args.unshift(t.file),t.command=e,Zv(t)):t.file}function o1(t){if(!s1)return t;let e=i1(t),r=!a1.test(e);if(t.options.forceShell||r){let s=n1.test(e);t.command=t1.normalize(t.command),t.command=Kv.command(t.command),t.args=t.args.map(i=>Kv.argument(i,s));let a=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${a}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function c1(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let s={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?s:o1(s)}Jv.exports=c1});var eg=z((oG,Yv)=>{"use strict";var Tp=process.platform==="win32";function Op(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function l1(t,e){if(!Tp)return;let r=t.emit;t.emit=function(s,a){if(s==="exit"){let i=Xv(a,e);if(i)return r.call(t,"error",i)}return r.apply(t,arguments)}}function Xv(t,e){return Tp&&t===1&&!e.file?Op(e.original,"spawn"):null}function u1(t,e){return Tp&&t===1&&!e.file?Op(e.original,"spawnSync"):null}Yv.exports={hookChildProcess:l1,verifyENOENT:Xv,verifyENOENTSync:u1,notFoundError:Op}});var sg=z((cG,An)=>{"use strict";var tg=require("child_process"),kp=Qv(),Ap=eg();function rg(t,e,r){let s=kp(t,e,r),a=tg.spawn(s.command,s.args,s.options);return Ap.hookChildProcess(a,s),a}function p1(t,e,r){let s=kp(t,e,r),a=tg.spawnSync(s.command,s.args,s.options);return a.error=a.error||Ap.verifyENOENTSync(a.status,s),a}An.exports=rg;An.exports.spawn=rg;An.exports.sync=p1;An.exports._parse=kp;An.exports._enoent=Ap});var Ng=z((sW,$g)=>{"use strict";var{PassThrough:sA}=require("stream");$g.exports=function(){var t=[],e=new sA({objectMode:!0});return e.setMaxListeners(0),e.add=r,e.isEmpty=s,e.on("unpipe",a),Array.prototype.slice.call(arguments).forEach(r),e;function r(i){return Array.isArray(i)?(i.forEach(r),this):(t.push(i),i.once("end",a.bind(null,i)),i.once("error",e.emit.bind(e,"error")),i.pipe(e,{end:!1}),this)}function s(){return t.length==0}function a(i){t=t.filter(function(n){return n!==i}),!t.length&&e.readable&&e.end()}}});var Xi=z((PW,ny)=>{"use strict";var yA="2.0.0",xA=Number.MAX_SAFE_INTEGER||9007199254740991,bA=16,_A=250,wA=["major","premajor","minor","preminor","patch","prepatch","prerelease"];ny.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:bA,MAX_SAFE_BUILD_LENGTH:_A,MAX_SAFE_INTEGER:xA,RELEASE_TYPES:wA,SEMVER_SPEC_VERSION:yA,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Yi=z((RW,iy)=>{"use strict";var SA=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};iy.exports=SA});var Dn=z((as,oy)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:rd,MAX_SAFE_BUILD_LENGTH:EA,MAX_LENGTH:PA}=Xi(),RA=Yi();as=oy.exports={};var CA=as.re=[],TA=as.safeRe=[],fe=as.src=[],OA=as.safeSrc=[],me=as.t={},kA=0,sd="[a-zA-Z0-9-]",AA=[["\\s",1],["\\d",PA],[sd,EA]],IA=t=>{for(let[e,r]of AA)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},ze=(t,e,r)=>{let s=IA(e),a=kA++;RA(t,a,e),me[t]=a,fe[a]=e,OA[a]=s,CA[a]=new RegExp(e,r?"g":void 0),TA[a]=new RegExp(s,r?"g":void 0)};ze("NUMERICIDENTIFIER","0|[1-9]\\d*");ze("NUMERICIDENTIFIERLOOSE","\\d+");ze("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${sd}*`);ze("MAINVERSION",`(${fe[me.NUMERICIDENTIFIER]})\\.(${fe[me.NUMERICIDENTIFIER]})\\.(${fe[me.NUMERICIDENTIFIER]})`);ze("MAINVERSIONLOOSE",`(${fe[me.NUMERICIDENTIFIERLOOSE]})\\.(${fe[me.NUMERICIDENTIFIERLOOSE]})\\.(${fe[me.NUMERICIDENTIFIERLOOSE]})`);ze("PRERELEASEIDENTIFIER",`(?:${fe[me.NONNUMERICIDENTIFIER]}|${fe[me.NUMERICIDENTIFIER]})`);ze("PRERELEASEIDENTIFIERLOOSE",`(?:${fe[me.NONNUMERICIDENTIFIER]}|${fe[me.NUMERICIDENTIFIERLOOSE]})`);ze("PRERELEASE",`(?:-(${fe[me.PRERELEASEIDENTIFIER]}(?:\\.${fe[me.PRERELEASEIDENTIFIER]})*))`);ze("PRERELEASELOOSE",`(?:-?(${fe[me.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${fe[me.PRERELEASEIDENTIFIERLOOSE]})*))`);ze("BUILDIDENTIFIER",`${sd}+`);ze("BUILD",`(?:\\+(${fe[me.BUILDIDENTIFIER]}(?:\\.${fe[me.BUILDIDENTIFIER]})*))`);ze("FULLPLAIN",`v?${fe[me.MAINVERSION]}${fe[me.PRERELEASE]}?${fe[me.BUILD]}?`);ze("FULL",`^${fe[me.FULLPLAIN]}$`);ze("LOOSEPLAIN",`[v=\\s]*${fe[me.MAINVERSIONLOOSE]}${fe[me.PRERELEASELOOSE]}?${fe[me.BUILD]}?`);ze("LOOSE",`^${fe[me.LOOSEPLAIN]}$`);ze("GTLT","((?:<|>)?=?)");ze("XRANGEIDENTIFIERLOOSE",`${fe[me.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);ze("XRANGEIDENTIFIER",`${fe[me.NUMERICIDENTIFIER]}|x|X|\\*`);ze("XRANGEPLAIN",`[v=\\s]*(${fe[me.XRANGEIDENTIFIER]})(?:\\.(${fe[me.XRANGEIDENTIFIER]})(?:\\.(${fe[me.XRANGEIDENTIFIER]})(?:${fe[me.PRERELEASE]})?${fe[me.BUILD]}?)?)?`);ze("XRANGEPLAINLOOSE",`[v=\\s]*(${fe[me.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fe[me.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fe[me.XRANGEIDENTIFIERLOOSE]})(?:${fe[me.PRERELEASELOOSE]})?${fe[me.BUILD]}?)?)?`);ze("XRANGE",`^${fe[me.GTLT]}\\s*${fe[me.XRANGEPLAIN]}$`);ze("XRANGELOOSE",`^${fe[me.GTLT]}\\s*${fe[me.XRANGEPLAINLOOSE]}$`);ze("COERCEPLAIN",`(^|[^\\d])(\\d{1,${rd}})(?:\\.(\\d{1,${rd}}))?(?:\\.(\\d{1,${rd}}))?`);ze("COERCE",`${fe[me.COERCEPLAIN]}(?:$|[^\\d])`);ze("COERCEFULL",fe[me.COERCEPLAIN]+`(?:${fe[me.PRERELEASE]})?(?:${fe[me.BUILD]})?(?:$|[^\\d])`);ze("COERCERTL",fe[me.COERCE],!0);ze("COERCERTLFULL",fe[me.COERCEFULL],!0);ze("LONETILDE","(?:~>?)");ze("TILDETRIM",`(\\s*)${fe[me.LONETILDE]}\\s+`,!0);as.tildeTrimReplace="$1~";ze("TILDE",`^${fe[me.LONETILDE]}${fe[me.XRANGEPLAIN]}$`);ze("TILDELOOSE",`^${fe[me.LONETILDE]}${fe[me.XRANGEPLAINLOOSE]}$`);ze("LONECARET","(?:\\^)");ze("CARETTRIM",`(\\s*)${fe[me.LONECARET]}\\s+`,!0);as.caretTrimReplace="$1^";ze("CARET",`^${fe[me.LONECARET]}${fe[me.XRANGEPLAIN]}$`);ze("CARETLOOSE",`^${fe[me.LONECARET]}${fe[me.XRANGEPLAINLOOSE]}$`);ze("COMPARATORLOOSE",`^${fe[me.GTLT]}\\s*(${fe[me.LOOSEPLAIN]})$|^$`);ze("COMPARATOR",`^${fe[me.GTLT]}\\s*(${fe[me.FULLPLAIN]})$|^$`);ze("COMPARATORTRIM",`(\\s*)${fe[me.GTLT]}\\s*(${fe[me.LOOSEPLAIN]}|${fe[me.XRANGEPLAIN]})`,!0);as.comparatorTrimReplace="$1$2$3";ze("HYPHENRANGE",`^\\s*(${fe[me.XRANGEPLAIN]})\\s+-\\s+(${fe[me.XRANGEPLAIN]})\\s*$`);ze("HYPHENRANGELOOSE",`^\\s*(${fe[me.XRANGEPLAINLOOSE]})\\s+-\\s+(${fe[me.XRANGEPLAINLOOSE]})\\s*$`);ze("STAR","(<|>)?=?\\s*\\*");ze("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");ze("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var kc=z((CW,cy)=>{"use strict";var DA=Object.freeze({loose:!0}),LA=Object.freeze({}),$A=t=>t?typeof t!="object"?DA:t:LA;cy.exports=$A});var ad=z((TW,py)=>{"use strict";var ly=/^[0-9]+$/,uy=(t,e)=>{let r=ly.test(t),s=ly.test(e);return r&&s&&(t=+t,e=+e),t===e?0:r&&!s?-1:s&&!r?1:t<e?-1:1},NA=(t,e)=>uy(e,t);py.exports={compareIdentifiers:uy,rcompareIdentifiers:NA}});var Bt=z((OW,fy)=>{"use strict";var Ac=Yi(),{MAX_LENGTH:dy,MAX_SAFE_INTEGER:Ic}=Xi(),{safeRe:Dc,t:Lc}=Dn(),FA=kc(),{compareIdentifiers:Ln}=ad(),nd=class t{constructor(e,r){if(r=FA(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>dy)throw new TypeError(`version is longer than ${dy} characters`);Ac("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let s=e.trim().match(r.loose?Dc[Lc.LOOSE]:Dc[Lc.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>Ic||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ic||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ic||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(a=>{if(/^[0-9]+$/.test(a)){let i=+a;if(i>=0&&i<Ic)return i}return a}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ac("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Ln(this.major,e.major)||Ln(this.minor,e.minor)||Ln(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let s=this.prerelease[r],a=e.prerelease[r];if(Ac("prerelease compare",r,s,a),s===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(s===void 0)return-1;if(s===a)continue;return Ln(s,a)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let s=this.build[r],a=e.build[r];if(Ac("build compare",r,s,a),s===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(s===void 0)return-1;if(s===a)continue;return Ln(s,a)}while(++r)}inc(e,r,s){if(e.startsWith("pre")){if(!r&&s===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let a=`-${r}`.match(this.options.loose?Dc[Lc.PRERELEASELOOSE]:Dc[Lc.PRERELEASE]);if(!a||a[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,s),this.inc("pre",r,s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,s),this.inc("pre",r,s);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let a=Number(s)?1:0;if(this.prerelease.length===0)this.prerelease=[a];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&s===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(a)}}if(r){let i=[r,a];s===!1&&(i=[r]),Ln(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};fy.exports=nd});var Ea=z((kW,hy)=>{"use strict";var my=Bt(),jA=(t,e,r=!1)=>{if(t instanceof my)return t;try{return new my(t,e)}catch(s){if(!r)return null;throw s}};hy.exports=jA});var gy=z((AW,vy)=>{"use strict";var MA=Ea(),UA=(t,e)=>{let r=MA(t,e);return r?r.version:null};vy.exports=UA});var xy=z((IW,yy)=>{"use strict";var qA=Ea(),zA=(t,e)=>{let r=qA(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};yy.exports=zA});var wy=z((DW,_y)=>{"use strict";var by=Bt(),BA=(t,e,r,s,a)=>{typeof r=="string"&&(a=s,s=r,r=void 0);try{return new by(t instanceof by?t.version:t,r).inc(e,s,a).version}catch{return null}};_y.exports=BA});var Py=z((LW,Ey)=>{"use strict";var Sy=Ea(),HA=(t,e)=>{let r=Sy(t,null,!0),s=Sy(e,null,!0),a=r.compare(s);if(a===0)return null;let i=a>0,n=i?r:s,o=i?s:r,l=!!n.prerelease.length;if(!!o.prerelease.length&&!l){if(!o.patch&&!o.minor)return"major";if(o.compareMain(n)===0)return o.minor&&!o.patch?"minor":"patch"}let u=l?"pre":"";return r.major!==s.major?u+"major":r.minor!==s.minor?u+"minor":r.patch!==s.patch?u+"patch":"prerelease"};Ey.exports=HA});var Cy=z(($W,Ry)=>{"use strict";var VA=Bt(),GA=(t,e)=>new VA(t,e).major;Ry.exports=GA});var Oy=z((NW,Ty)=>{"use strict";var WA=Bt(),ZA=(t,e)=>new WA(t,e).minor;Ty.exports=ZA});var Ay=z((FW,ky)=>{"use strict";var KA=Bt(),JA=(t,e)=>new KA(t,e).patch;ky.exports=JA});var Dy=z((jW,Iy)=>{"use strict";var QA=Ea(),XA=(t,e)=>{let r=QA(t,e);return r&&r.prerelease.length?r.prerelease:null};Iy.exports=XA});var Rr=z((MW,$y)=>{"use strict";var Ly=Bt(),YA=(t,e,r)=>new Ly(t,r).compare(new Ly(e,r));$y.exports=YA});var Fy=z((UW,Ny)=>{"use strict";var eI=Rr(),tI=(t,e,r)=>eI(e,t,r);Ny.exports=tI});var My=z((qW,jy)=>{"use strict";var rI=Rr(),sI=(t,e)=>rI(t,e,!0);jy.exports=sI});var $c=z((zW,qy)=>{"use strict";var Uy=Bt(),aI=(t,e,r)=>{let s=new Uy(t,r),a=new Uy(e,r);return s.compare(a)||s.compareBuild(a)};qy.exports=aI});var By=z((BW,zy)=>{"use strict";var nI=$c(),iI=(t,e)=>t.sort((r,s)=>nI(r,s,e));zy.exports=iI});var Vy=z((HW,Hy)=>{"use strict";var oI=$c(),cI=(t,e)=>t.sort((r,s)=>oI(s,r,e));Hy.exports=cI});var eo=z((VW,Gy)=>{"use strict";var lI=Rr(),uI=(t,e,r)=>lI(t,e,r)>0;Gy.exports=uI});var Nc=z((GW,Wy)=>{"use strict";var pI=Rr(),dI=(t,e,r)=>pI(t,e,r)<0;Wy.exports=dI});var id=z((WW,Zy)=>{"use strict";var fI=Rr(),mI=(t,e,r)=>fI(t,e,r)===0;Zy.exports=mI});var od=z((ZW,Ky)=>{"use strict";var hI=Rr(),vI=(t,e,r)=>hI(t,e,r)!==0;Ky.exports=vI});var Fc=z((KW,Jy)=>{"use strict";var gI=Rr(),yI=(t,e,r)=>gI(t,e,r)>=0;Jy.exports=yI});var jc=z((JW,Qy)=>{"use strict";var xI=Rr(),bI=(t,e,r)=>xI(t,e,r)<=0;Qy.exports=bI});var cd=z((QW,Xy)=>{"use strict";var _I=id(),wI=od(),SI=eo(),EI=Fc(),PI=Nc(),RI=jc(),CI=(t,e,r,s)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return _I(t,r,s);case"!=":return wI(t,r,s);case">":return SI(t,r,s);case">=":return EI(t,r,s);case"<":return PI(t,r,s);case"<=":return RI(t,r,s);default:throw new TypeError(`Invalid operator: ${e}`)}};Xy.exports=CI});var ex=z((XW,Yy)=>{"use strict";var TI=Bt(),OI=Ea(),{safeRe:Mc,t:Uc}=Dn(),kI=(t,e)=>{if(t instanceof TI)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?Mc[Uc.COERCEFULL]:Mc[Uc.COERCE]);else{let l=e.includePrerelease?Mc[Uc.COERCERTLFULL]:Mc[Uc.COERCERTL],c;for(;(c=l.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(r===null)return null;let s=r[2],a=r[3]||"0",i=r[4]||"0",n=e.includePrerelease&&r[5]?`-${r[5]}`:"",o=e.includePrerelease&&r[6]?`+${r[6]}`:"";return OI(`${s}.${a}.${i}${n}${o}`,e)};Yy.exports=kI});var rx=z((YW,tx)=>{"use strict";var ld=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let a=this.map.keys().next().value;this.delete(a)}this.map.set(e,r)}return this}};tx.exports=ld});var Cr=z((eZ,ix)=>{"use strict";var AI=/\s+/g,ud=class t{constructor(e,r){if(r=DI(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof pd)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(AI," "),this.set=this.raw.split("||").map(s=>this.parseRange(s.trim())).filter(s=>s.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let s=this.set[0];if(this.set=this.set.filter(a=>!ax(a[0])),this.set.length===0)this.set=[s];else if(this.set.length>1){for(let a of this.set)if(a.length===1&&UI(a[0])){this.set=[a];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let s=0;s<r.length;s++)s>0&&(this.formatted+=" "),this.formatted+=r[s].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let s=((this.options.includePrerelease&&jI)|(this.options.loose&&MI))+":"+e,a=sx.get(s);if(a)return a;let i=this.options.loose,n=i?Yt[Gt.HYPHENRANGELOOSE]:Yt[Gt.HYPHENRANGE];e=e.replace(n,JI(this.options.includePrerelease)),yt("hyphen replace",e),e=e.replace(Yt[Gt.COMPARATORTRIM],$I),yt("comparator trim",e),e=e.replace(Yt[Gt.TILDETRIM],NI),yt("tilde trim",e),e=e.replace(Yt[Gt.CARETTRIM],FI),yt("caret trim",e);let o=e.split(" ").map(p=>qI(p,this.options)).join(" ").split(/\s+/).map(p=>KI(p,this.options));i&&(o=o.filter(p=>(yt("loose invalid filter",p,this.options),!!p.match(Yt[Gt.COMPARATORLOOSE])))),yt("range list",o);let l=new Map,c=o.map(p=>new pd(p,this.options));for(let p of c){if(ax(p))return[p];l.set(p.value,p)}l.size>1&&l.has("")&&l.delete("");let u=[...l.values()];return sx.set(s,u),u}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(s=>nx(s,r)&&e.set.some(a=>nx(a,r)&&s.every(i=>a.every(n=>i.intersects(n,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new LI(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(QI(this.set[r],e,this.options))return!0;return!1}};ix.exports=ud;var II=rx(),sx=new II,DI=kc(),pd=to(),yt=Yi(),LI=Bt(),{safeRe:Yt,t:Gt,comparatorTrimReplace:$I,tildeTrimReplace:NI,caretTrimReplace:FI}=Dn(),{FLAG_INCLUDE_PRERELEASE:jI,FLAG_LOOSE:MI}=Xi(),ax=t=>t.value==="<0.0.0-0",UI=t=>t.value==="",nx=(t,e)=>{let r=!0,s=t.slice(),a=s.pop();for(;r&&s.length;)r=s.every(i=>a.intersects(i,e)),a=s.pop();return r},qI=(t,e)=>(yt("comp",t,e),t=HI(t,e),yt("caret",t),t=zI(t,e),yt("tildes",t),t=GI(t,e),yt("xrange",t),t=ZI(t,e),yt("stars",t),t),Wt=t=>!t||t.toLowerCase()==="x"||t==="*",zI=(t,e)=>t.trim().split(/\s+/).map(r=>BI(r,e)).join(" "),BI=(t,e)=>{let r=e.loose?Yt[Gt.TILDELOOSE]:Yt[Gt.TILDE];return t.replace(r,(s,a,i,n,o)=>{yt("tilde",t,s,a,i,n,o);let l;return Wt(a)?l="":Wt(i)?l=`>=${a}.0.0 <${+a+1}.0.0-0`:Wt(n)?l=`>=${a}.${i}.0 <${a}.${+i+1}.0-0`:o?(yt("replaceTilde pr",o),l=`>=${a}.${i}.${n}-${o} <${a}.${+i+1}.0-0`):l=`>=${a}.${i}.${n} <${a}.${+i+1}.0-0`,yt("tilde return",l),l})},HI=(t,e)=>t.trim().split(/\s+/).map(r=>VI(r,e)).join(" "),VI=(t,e)=>{yt("caret",t,e);let r=e.loose?Yt[Gt.CARETLOOSE]:Yt[Gt.CARET],s=e.includePrerelease?"-0":"";return t.replace(r,(a,i,n,o,l)=>{yt("caret",t,a,i,n,o,l);let c;return Wt(i)?c="":Wt(n)?c=`>=${i}.0.0${s} <${+i+1}.0.0-0`:Wt(o)?i==="0"?c=`>=${i}.${n}.0${s} <${i}.${+n+1}.0-0`:c=`>=${i}.${n}.0${s} <${+i+1}.0.0-0`:l?(yt("replaceCaret pr",l),i==="0"?n==="0"?c=`>=${i}.${n}.${o}-${l} <${i}.${n}.${+o+1}-0`:c=`>=${i}.${n}.${o}-${l} <${i}.${+n+1}.0-0`:c=`>=${i}.${n}.${o}-${l} <${+i+1}.0.0-0`):(yt("no pr"),i==="0"?n==="0"?c=`>=${i}.${n}.${o}${s} <${i}.${n}.${+o+1}-0`:c=`>=${i}.${n}.${o}${s} <${i}.${+n+1}.0-0`:c=`>=${i}.${n}.${o} <${+i+1}.0.0-0`),yt("caret return",c),c})},GI=(t,e)=>(yt("replaceXRanges",t,e),t.split(/\s+/).map(r=>WI(r,e)).join(" ")),WI=(t,e)=>{t=t.trim();let r=e.loose?Yt[Gt.XRANGELOOSE]:Yt[Gt.XRANGE];return t.replace(r,(s,a,i,n,o,l)=>{yt("xRange",t,s,a,i,n,o,l);let c=Wt(i),u=c||Wt(n),p=u||Wt(o),h=p;return a==="="&&h&&(a=""),l=e.includePrerelease?"-0":"",c?a===">"||a==="<"?s="<0.0.0-0":s="*":a&&h?(u&&(n=0),o=0,a===">"?(a=">=",u?(i=+i+1,n=0,o=0):(n=+n+1,o=0)):a==="<="&&(a="<",u?i=+i+1:n=+n+1),a==="<"&&(l="-0"),s=`${a+i}.${n}.${o}${l}`):u?s=`>=${i}.0.0${l} <${+i+1}.0.0-0`:p&&(s=`>=${i}.${n}.0${l} <${i}.${+n+1}.0-0`),yt("xRange return",s),s})},ZI=(t,e)=>(yt("replaceStars",t,e),t.trim().replace(Yt[Gt.STAR],"")),KI=(t,e)=>(yt("replaceGTE0",t,e),t.trim().replace(Yt[e.includePrerelease?Gt.GTE0PRE:Gt.GTE0],"")),JI=t=>(e,r,s,a,i,n,o,l,c,u,p,h)=>(Wt(s)?r="":Wt(a)?r=`>=${s}.0.0${t?"-0":""}`:Wt(i)?r=`>=${s}.${a}.0${t?"-0":""}`:n?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Wt(c)?l="":Wt(u)?l=`<${+c+1}.0.0-0`:Wt(p)?l=`<${c}.${+u+1}.0-0`:h?l=`<=${c}.${u}.${p}-${h}`:t?l=`<${c}.${u}.${+p+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),QI=(t,e,r)=>{for(let s=0;s<t.length;s++)if(!t[s].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let s=0;s<t.length;s++)if(yt(t[s].semver),t[s].semver!==pd.ANY&&t[s].semver.prerelease.length>0){let a=t[s].semver;if(a.major===e.major&&a.minor===e.minor&&a.patch===e.patch)return!0}return!1}return!0}});var to=z((tZ,dx)=>{"use strict";var ro=Symbol("SemVer ANY"),md=class t{static get ANY(){return ro}constructor(e,r){if(r=ox(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),fd("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===ro?this.value="":this.value=this.operator+this.semver.version,fd("comp",this)}parse(e){let r=this.options.loose?cx[lx.COMPARATORLOOSE]:cx[lx.COMPARATOR],s=e.match(r);if(!s)throw new TypeError(`Invalid comparator: ${e}`);this.operator=s[1]!==void 0?s[1]:"",this.operator==="="&&(this.operator=""),s[2]?this.semver=new ux(s[2],this.options.loose):this.semver=ro}toString(){return this.value}test(e){if(fd("Comparator.test",e,this.options.loose),this.semver===ro||e===ro)return!0;if(typeof e=="string")try{e=new ux(e,this.options)}catch{return!1}return dd(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new px(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new px(this.value,r).test(e.semver):(r=ox(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||dd(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||dd(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};dx.exports=md;var ox=kc(),{safeRe:cx,t:lx}=Dn(),dd=cd(),fd=Yi(),ux=Bt(),px=Cr()});var so=z((rZ,fx)=>{"use strict";var XI=Cr(),YI=(t,e,r)=>{try{e=new XI(e,r)}catch{return!1}return e.test(t)};fx.exports=YI});var hx=z((sZ,mx)=>{"use strict";var eD=Cr(),tD=(t,e)=>new eD(t,e).set.map(r=>r.map(s=>s.value).join(" ").trim().split(" "));mx.exports=tD});var gx=z((aZ,vx)=>{"use strict";var rD=Bt(),sD=Cr(),aD=(t,e,r)=>{let s=null,a=null,i=null;try{i=new sD(e,r)}catch{return null}return t.forEach(n=>{i.test(n)&&(!s||a.compare(n)===-1)&&(s=n,a=new rD(s,r))}),s};vx.exports=aD});var xx=z((nZ,yx)=>{"use strict";var nD=Bt(),iD=Cr(),oD=(t,e,r)=>{let s=null,a=null,i=null;try{i=new iD(e,r)}catch{return null}return t.forEach(n=>{i.test(n)&&(!s||a.compare(n)===1)&&(s=n,a=new nD(s,r))}),s};yx.exports=oD});var wx=z((iZ,_x)=>{"use strict";var hd=Bt(),cD=Cr(),bx=eo(),lD=(t,e)=>{t=new cD(t,e);let r=new hd("0.0.0");if(t.test(r)||(r=new hd("0.0.0-0"),t.test(r)))return r;r=null;for(let s=0;s<t.set.length;++s){let a=t.set[s],i=null;a.forEach(n=>{let o=new hd(n.semver.version);switch(n.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!i||bx(o,i))&&(i=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${n.operator}`)}}),i&&(!r||bx(r,i))&&(r=i)}return r&&t.test(r)?r:null};_x.exports=lD});var Ex=z((oZ,Sx)=>{"use strict";var uD=Cr(),pD=(t,e)=>{try{return new uD(t,e).range||"*"}catch{return null}};Sx.exports=pD});var qc=z((cZ,Tx)=>{"use strict";var dD=Bt(),Cx=to(),{ANY:fD}=Cx,mD=Cr(),hD=so(),Px=eo(),Rx=Nc(),vD=jc(),gD=Fc(),yD=(t,e,r,s)=>{t=new dD(t,s),e=new mD(e,s);let a,i,n,o,l;switch(r){case">":a=Px,i=vD,n=Rx,o=">",l=">=";break;case"<":a=Rx,i=gD,n=Px,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(hD(t,e,s))return!1;for(let c=0;c<e.set.length;++c){let u=e.set[c],p=null,h=null;if(u.forEach(d=>{d.semver===fD&&(d=new Cx(">=0.0.0")),p=p||d,h=h||d,a(d.semver,p.semver,s)?p=d:n(d.semver,h.semver,s)&&(h=d)}),p.operator===o||p.operator===l||(!h.operator||h.operator===o)&&i(t,h.semver))return!1;if(h.operator===l&&n(t,h.semver))return!1}return!0};Tx.exports=yD});var kx=z((lZ,Ox)=>{"use strict";var xD=qc(),bD=(t,e,r)=>xD(t,e,">",r);Ox.exports=bD});var Ix=z((uZ,Ax)=>{"use strict";var _D=qc(),wD=(t,e,r)=>_D(t,e,"<",r);Ax.exports=wD});var $x=z((pZ,Lx)=>{"use strict";var Dx=Cr(),SD=(t,e,r)=>(t=new Dx(t,r),e=new Dx(e,r),t.intersects(e,r));Lx.exports=SD});var Fx=z((dZ,Nx)=>{"use strict";var ED=so(),PD=Rr();Nx.exports=(t,e,r)=>{let s=[],a=null,i=null,n=t.sort((u,p)=>PD(u,p,r));for(let u of n)ED(u,e,r)?(i=u,a||(a=u)):(i&&s.push([a,i]),i=null,a=null);a&&s.push([a,null]);let o=[];for(let[u,p]of s)u===p?o.push(u):!p&&u===n[0]?o.push("*"):p?u===n[0]?o.push(`<=${p}`):o.push(`${u} - ${p}`):o.push(`>=${u}`);let l=o.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e}});var Bx=z((fZ,zx)=>{"use strict";var jx=Cr(),gd=to(),{ANY:vd}=gd,ao=so(),yd=Rr(),RD=(t,e,r={})=>{if(t===e)return!0;t=new jx(t,r),e=new jx(e,r);let s=!1;e:for(let a of t.set){for(let i of e.set){let n=TD(a,i,r);if(s=s||n!==null,n)continue e}if(s)return!1}return!0},CD=[new gd(">=0.0.0-0")],Mx=[new gd(">=0.0.0")],TD=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===vd){if(e.length===1&&e[0].semver===vd)return!0;r.includePrerelease?t=CD:t=Mx}if(e.length===1&&e[0].semver===vd){if(r.includePrerelease)return!0;e=Mx}let s=new Set,a,i;for(let d of t)d.operator===">"||d.operator===">="?a=Ux(a,d,r):d.operator==="<"||d.operator==="<="?i=qx(i,d,r):s.add(d.semver);if(s.size>1)return null;let n;if(a&&i){if(n=yd(a.semver,i.semver,r),n>0)return null;if(n===0&&(a.operator!==">="||i.operator!=="<="))return null}for(let d of s){if(a&&!ao(d,String(a),r)||i&&!ao(d,String(i),r))return null;for(let m of e)if(!ao(d,String(m),r))return!1;return!0}let o,l,c,u,p=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,h=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1;p&&p.prerelease.length===1&&i.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(let d of e){if(u=u||d.operator===">"||d.operator===">=",c=c||d.operator==="<"||d.operator==="<=",a){if(h&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===h.major&&d.semver.minor===h.minor&&d.semver.patch===h.patch&&(h=!1),d.operator===">"||d.operator===">="){if(o=Ux(a,d,r),o===d&&o!==a)return!1}else if(a.operator===">="&&!ao(a.semver,String(d),r))return!1}if(i){if(p&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===p.major&&d.semver.minor===p.minor&&d.semver.patch===p.patch&&(p=!1),d.operator==="<"||d.operator==="<="){if(l=qx(i,d,r),l===d&&l!==i)return!1}else if(i.operator==="<="&&!ao(i.semver,String(d),r))return!1}if(!d.operator&&(i||a)&&n!==0)return!1}return!(a&&c&&!i&&n!==0||i&&u&&!a&&n!==0||h||p)},Ux=(t,e,r)=>{if(!t)return e;let s=yd(t.semver,e.semver,r);return s>0?t:s<0||e.operator===">"&&t.operator===">="?e:t},qx=(t,e,r)=>{if(!t)return e;let s=yd(t.semver,e.semver,r);return s<0?t:s>0||e.operator==="<"&&t.operator==="<="?e:t};zx.exports=RD});var bd=z((mZ,Gx)=>{"use strict";var xd=Dn(),Hx=Xi(),OD=Bt(),Vx=ad(),kD=Ea(),AD=gy(),ID=xy(),DD=wy(),LD=Py(),$D=Cy(),ND=Oy(),FD=Ay(),jD=Dy(),MD=Rr(),UD=Fy(),qD=My(),zD=$c(),BD=By(),HD=Vy(),VD=eo(),GD=Nc(),WD=id(),ZD=od(),KD=Fc(),JD=jc(),QD=cd(),XD=ex(),YD=to(),eL=Cr(),tL=so(),rL=hx(),sL=gx(),aL=xx(),nL=wx(),iL=Ex(),oL=qc(),cL=kx(),lL=Ix(),uL=$x(),pL=Fx(),dL=Bx();Gx.exports={parse:kD,valid:AD,clean:ID,inc:DD,diff:LD,major:$D,minor:ND,patch:FD,prerelease:jD,compare:MD,rcompare:UD,compareLoose:qD,compareBuild:zD,sort:BD,rsort:HD,gt:VD,lt:GD,eq:WD,neq:ZD,gte:KD,lte:JD,cmp:QD,coerce:XD,Comparator:YD,Range:eL,satisfies:tL,toComparators:rL,maxSatisfying:sL,minSatisfying:aL,minVersion:nL,validRange:iL,outside:oL,gtr:cL,ltr:lL,intersects:uL,simplifyRange:pL,subset:dL,SemVer:OD,re:xd.re,src:xd.src,tokens:xd.t,SEMVER_SPEC_VERSION:Hx.SEMVER_SPEC_VERSION,RELEASE_TYPES:Hx.RELEASE_TYPES,compareIdentifiers:Vx.compareIdentifiers,rcompareIdentifiers:Vx.rcompareIdentifiers}});var yw=z((KK,gw)=>{"use strict";gw.exports=function(e){return e.map(function(r){return r===""?"''":r&&typeof r=="object"?r.op.replace(/(.)/g,"\\$1"):/["\s\\]/.test(r)&&!/'/.test(r)?"'"+r.replace(/(['])/g,"\\$1")+"'":/["'\s]/.test(r)?'"'+r.replace(/(["\\$`!])/g,"\\$1")+'"':String(r).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")}).join(" ")}});var Pw=z((JK,Ew)=>{"use strict";var Sw="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",xw=new RegExp("^"+Sw+"$"),bw="|&;()<> \\t",Gq='"((\\\\"|[^"])*?)"',Wq="'((\\\\'|[^'])*?)'",Zq=/^#$/,_w="'",ww='"',Sf="$",Wa="",Kq=4294967296;for(Ef=0;Ef<4;Ef++)Wa+=(Kq*Math.random()).toString(16);var Ef,Jq=new RegExp("^"+Wa);function Qq(t,e){for(var r=e.lastIndex,s=[],a;a=e.exec(t);)s.push(a),e.lastIndex===a.index&&(e.lastIndex+=1);return e.lastIndex=r,s}function Xq(t,e,r){var s=typeof t=="function"?t(r):t[r];return typeof s>"u"&&r!=""?s="":typeof s>"u"&&(s="$"),typeof s=="object"?e+Wa+JSON.stringify(s)+Wa:e+s}function Yq(t,e,r){r||(r={});var s=r.escape||"\\",a="(\\"+s+`['"`+bw+`]|[^\\s'"`+bw+"])+",i=new RegExp(["("+Sw+")","("+a+"|"+Gq+"|"+Wq+")+"].join("|"),"g"),n=Qq(t,i);if(n.length===0)return[];e||(e={});var o=!1;return n.map(function(l){var c=l[0];if(!c||o)return;if(xw.test(c))return{op:c};var u=!1,p=!1,h="",d=!1,m;function f(){m+=1;var b,w,R=c.charAt(m);if(R==="{"){if(m+=1,c.charAt(m)==="}")throw new Error("Bad substitution: "+c.slice(m-2,m+1));if(b=c.indexOf("}",m),b<0)throw new Error("Bad substitution: "+c.slice(m));w=c.slice(m,b),m=b}else if(/[*@#?$!_-]/.test(R))w=R,m+=1;else{var C=c.slice(m);b=C.match(/[^\w\d_]/),b?(w=C.slice(0,b.index),m+=b.index-1):(w=C,m=c.length)}return Xq(e,"",w)}for(m=0;m<c.length;m++){var v=c.charAt(m);if(d=d||!u&&(v==="*"||v==="?"),p)h+=v,p=!1;else if(u)v===u?u=!1:u==_w?h+=v:v===s?(m+=1,v=c.charAt(m),v===ww||v===s||v===Sf?h+=v:h+=s+v):v===Sf?h+=f():h+=v;else if(v===ww||v===_w)u=v;else{if(xw.test(v))return{op:c};if(Zq.test(v)){o=!0;var g={comment:t.slice(l.index+m+1)};return h.length?[h,g]:[g]}else v===s?p=!0:v===Sf?h+=f():h+=v}}return d?{op:"glob",pattern:h}:h}).reduce(function(l,c){return typeof c>"u"?l:l.concat(c)},[])}Ew.exports=function(e,r,s){var a=Yq(e,r,s);return typeof r!="function"?a:a.reduce(function(i,n){if(typeof n=="object")return i.concat(n);var o=n.split(RegExp("("+Wa+".*?"+Wa+")","g"));return o.length===1?i.concat(o[0]):i.concat(o.filter(Boolean).map(function(l){return Jq.test(l)?JSON.parse(l.split(Wa)[1]):l}))},[])}});var Rf=z(Pf=>{"use strict";Pf.quote=yw();Pf.parse=Pw()});var Fw=z((s7,Nw)=>{var $w=require("stream").Stream,j2=require("util");Nw.exports=Wr;function Wr(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}j2.inherits(Wr,$w);Wr.create=function(t,e){var r=new this;e=e||{};for(var s in e)r[s]=e[s];r.source=t;var a=t.emit;return t.emit=function(){return r._handleEmit(arguments),a.apply(t,arguments)},t.on("error",function(){}),r.pauseStream&&t.pause(),r};Object.defineProperty(Wr.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});Wr.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};Wr.prototype.resume=function(){this._released||this.release(),this.source.resume()};Wr.prototype.pause=function(){this.source.pause()};Wr.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(t){this.emit.apply(this,t)}.bind(this)),this._bufferedEvents=[]};Wr.prototype.pipe=function(){var t=$w.prototype.pipe.apply(this,arguments);return this.resume(),t};Wr.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};Wr.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}}});var qw=z((a7,Uw)=>{var M2=require("util"),Mw=require("stream").Stream,jw=Fw();Uw.exports=Et;function Et(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}M2.inherits(Et,Mw);Et.create=function(t){var e=new this;t=t||{};for(var r in t)e[r]=t[r];return e};Et.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};Et.prototype.append=function(t){var e=Et.isStreamLike(t);if(e){if(!(t instanceof jw)){var r=jw.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=r}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};Et.prototype.pipe=function(t,e){return Mw.prototype.pipe.call(this,t,e),this.resume(),t};Et.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};Et.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e(function(r){var s=Et.isStreamLike(r);s&&(r.on("data",this._checkDataSize.bind(this)),this._handleErrors(r)),this._pipeNext(r)}.bind(this))};Et.prototype._pipeNext=function(t){this._currentStream=t;var e=Et.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var r=t;this.write(r),this._getNext()};Et.prototype._handleErrors=function(t){var e=this;t.on("error",function(r){e._emitError(r)})};Et.prototype.write=function(t){this.emit("data",t)};Et.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};Et.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};Et.prototype.end=function(){this._reset(),this.emit("end")};Et.prototype.destroy=function(){this._reset(),this.emit("close")};Et.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};Et.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};Et.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};Et.prototype._emitError=function(t){this._reset(),this.emit("error",t)}});var zw=z((n7,U2)=>{U2.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var Hw=z((i7,Bw)=>{Bw.exports=zw()});var Ww=z(rr=>{"use strict";var Pl=Hw(),q2=require("path").extname,Vw=/^\s*([^;\s]*)(?:;|\s|$)/,z2=/^text\//i;rr.charset=Gw;rr.charsets={lookup:Gw};rr.contentType=B2;rr.extension=H2;rr.extensions=Object.create(null);rr.lookup=V2;rr.types=Object.create(null);G2(rr.extensions,rr.types);function Gw(t){if(!t||typeof t!="string")return!1;var e=Vw.exec(t),r=e&&Pl[e[1].toLowerCase()];return r&&r.charset?r.charset:e&&z2.test(e[1])?"UTF-8":!1}function B2(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?rr.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var r=rr.charset(e);r&&(e+="; charset="+r.toLowerCase())}return e}function H2(t){if(!t||typeof t!="string")return!1;var e=Vw.exec(t),r=e&&rr.extensions[e[1].toLowerCase()];return!r||!r.length?!1:r[0]}function V2(t){if(!t||typeof t!="string")return!1;var e=q2("x."+t).toLowerCase().substr(1);return e&&rr.types[e]||!1}function G2(t,e){var r=["nginx","apache",void 0,"iana"];Object.keys(Pl).forEach(function(a){var i=Pl[a],n=i.extensions;if(!(!n||!n.length)){t[a]=n;for(var o=0;o<n.length;o++){var l=n[o];if(e[l]){var c=r.indexOf(Pl[e[l]].source),u=r.indexOf(i.source);if(e[l]!=="application/octet-stream"&&(c>u||c===u&&e[l].substr(0,12)==="application/"))continue}e[l]=a}}})}});var Kw=z((c7,Zw)=>{Zw.exports=W2;function W2(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}});var Of=z((l7,Qw)=>{var Jw=Kw();Qw.exports=Z2;function Z2(t){var e=!1;return Jw(function(){e=!0}),function(s,a){e?t(s,a):Jw(function(){t(s,a)})}}});var kf=z((u7,Xw)=>{Xw.exports=K2;function K2(t){Object.keys(t.jobs).forEach(J2.bind(t)),t.jobs={}}function J2(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}});var Af=z((p7,e0)=>{var Yw=Of(),Q2=kf();e0.exports=X2;function X2(t,e,r,s){var a=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[a]=Y2(e,a,t[a],function(i,n){a in r.jobs&&(delete r.jobs[a],i?Q2(r):r.results[a]=n,s(i,r.results))})}function Y2(t,e,r,s){var a;return t.length==2?a=t(r,Yw(s)):a=t(r,e,Yw(s)),a}});var If=z((d7,t0)=>{t0.exports=e9;function e9(t,e){var r=!Array.isArray(t),s={index:0,keyedList:r||e?Object.keys(t):null,jobs:{},results:r?{}:[],size:r?Object.keys(t).length:t.length};return e&&s.keyedList.sort(r?e:function(a,i){return e(t[a],t[i])}),s}});var Df=z((f7,r0)=>{var t9=kf(),r9=Of();r0.exports=s9;function s9(t){Object.keys(this.jobs).length&&(this.index=this.size,t9(this),r9(t)(null,this.results))}});var a0=z((m7,s0)=>{var a9=Af(),n9=If(),i9=Df();s0.exports=o9;function o9(t,e,r){for(var s=n9(t);s.index<(s.keyedList||t).length;)a9(t,e,s,function(a,i){if(a){r(a,i);return}if(Object.keys(s.jobs).length===0){r(null,s.results);return}}),s.index++;return i9.bind(s,r)}});var Lf=z((h7,Rl)=>{var n0=Af(),c9=If(),l9=Df();Rl.exports=u9;Rl.exports.ascending=i0;Rl.exports.descending=p9;function u9(t,e,r,s){var a=c9(t,r);return n0(t,e,a,function i(n,o){if(n){s(n,o);return}if(a.index++,a.index<(a.keyedList||t).length){n0(t,e,a,i);return}s(null,a.results)}),l9.bind(a,s)}function i0(t,e){return t<e?-1:t>e?1:0}function p9(t,e){return-1*i0(t,e)}});var c0=z((v7,o0)=>{var d9=Lf();o0.exports=f9;function f9(t,e,r){return d9(t,e,null,r)}});var u0=z((g7,l0)=>{l0.exports={parallel:a0(),serial:c0(),serialOrdered:Lf()}});var $f=z((y7,p0)=>{"use strict";p0.exports=Object});var f0=z((x7,d0)=>{"use strict";d0.exports=Error});var h0=z((b7,m0)=>{"use strict";m0.exports=EvalError});var g0=z((_7,v0)=>{"use strict";v0.exports=RangeError});var x0=z((w7,y0)=>{"use strict";y0.exports=ReferenceError});var _0=z((S7,b0)=>{"use strict";b0.exports=SyntaxError});var Cl=z((E7,w0)=>{"use strict";w0.exports=TypeError});var E0=z((P7,S0)=>{"use strict";S0.exports=URIError});var R0=z((R7,P0)=>{"use strict";P0.exports=Math.abs});var T0=z((C7,C0)=>{"use strict";C0.exports=Math.floor});var k0=z((T7,O0)=>{"use strict";O0.exports=Math.max});var I0=z((O7,A0)=>{"use strict";A0.exports=Math.min});var L0=z((k7,D0)=>{"use strict";D0.exports=Math.pow});var N0=z((A7,$0)=>{"use strict";$0.exports=Math.round});var j0=z((I7,F0)=>{"use strict";F0.exports=Number.isNaN||function(e){return e!==e}});var U0=z((D7,M0)=>{"use strict";var m9=j0();M0.exports=function(e){return m9(e)||e===0?e:e<0?-1:1}});var z0=z((L7,q0)=>{"use strict";q0.exports=Object.getOwnPropertyDescriptor});var Nf=z(($7,B0)=>{"use strict";var Tl=z0();if(Tl)try{Tl([],"length")}catch{Tl=null}B0.exports=Tl});var V0=z((N7,H0)=>{"use strict";var Ol=Object.defineProperty||!1;if(Ol)try{Ol({},"a",{value:1})}catch{Ol=!1}H0.exports=Ol});var Ff=z((F7,G0)=>{"use strict";G0.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),s=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var n=Object.getOwnPropertySymbols(e);if(n.length!==1||n[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==a||o.enumerable!==!0)return!1}return!0}});var K0=z((j7,Z0)=>{"use strict";var W0=typeof Symbol<"u"&&Symbol,h9=Ff();Z0.exports=function(){return typeof W0!="function"||typeof Symbol!="function"||typeof W0("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:h9()}});var jf=z((M7,J0)=>{"use strict";J0.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var Mf=z((U7,Q0)=>{"use strict";var v9=$f();Q0.exports=v9.getPrototypeOf||null});var eS=z((q7,Y0)=>{"use strict";var g9="Function.prototype.bind called on incompatible ",y9=Object.prototype.toString,x9=Math.max,b9="[object Function]",X0=function(e,r){for(var s=[],a=0;a<e.length;a+=1)s[a]=e[a];for(var i=0;i<r.length;i+=1)s[i+e.length]=r[i];return s},_9=function(e,r){for(var s=[],a=r||0,i=0;a<e.length;a+=1,i+=1)s[i]=e[a];return s},w9=function(t,e){for(var r="",s=0;s<t.length;s+=1)r+=t[s],s+1<t.length&&(r+=e);return r};Y0.exports=function(e){var r=this;if(typeof r!="function"||y9.apply(r)!==b9)throw new TypeError(g9+r);for(var s=_9(arguments,1),a,i=function(){if(this instanceof a){var u=r.apply(this,X0(s,arguments));return Object(u)===u?u:this}return r.apply(e,X0(s,arguments))},n=x9(0,r.length-s.length),o=[],l=0;l<n;l++)o[l]="$"+l;if(a=Function("binder","return function ("+w9(o,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var c=function(){};c.prototype=r.prototype,a.prototype=new c,c.prototype=null}return a}});var So=z((z7,tS)=>{"use strict";var S9=eS();tS.exports=Function.prototype.bind||S9});var kl=z((B7,rS)=>{"use strict";rS.exports=Function.prototype.call});var Uf=z((H7,sS)=>{"use strict";sS.exports=Function.prototype.apply});var nS=z((V7,aS)=>{"use strict";aS.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var oS=z((G7,iS)=>{"use strict";var E9=So(),P9=Uf(),R9=kl(),C9=nS();iS.exports=C9||E9.call(R9,P9)});var lS=z((W7,cS)=>{"use strict";var T9=So(),O9=Cl(),k9=kl(),A9=oS();cS.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new O9("a function is required");return A9(T9,k9,e)}});var hS=z((Z7,mS)=>{"use strict";var I9=lS(),uS=Nf(),dS;try{dS=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var qf=!!dS&&uS&&uS(Object.prototype,"__proto__"),fS=Object,pS=fS.getPrototypeOf;mS.exports=qf&&typeof qf.get=="function"?I9([qf.get]):typeof pS=="function"?function(e){return pS(e==null?e:fS(e))}:!1});var bS=z((K7,xS)=>{"use strict";var vS=jf(),gS=Mf(),yS=hS();xS.exports=vS?function(e){return vS(e)}:gS?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return gS(e)}:yS?function(e){return yS(e)}:null});var zf=z((J7,_S)=>{"use strict";var D9=Function.prototype.call,L9=Object.prototype.hasOwnProperty,$9=So();_S.exports=$9.call(D9,L9)});var TS=z((Q7,CS)=>{"use strict";var Xe,N9=$f(),F9=f0(),j9=h0(),M9=g0(),U9=x0(),ci=_0(),oi=Cl(),q9=E0(),z9=R0(),B9=T0(),H9=k0(),V9=I0(),G9=L0(),W9=N0(),Z9=U0(),PS=Function,Bf=function(t){try{return PS('"use strict"; return ('+t+").constructor;")()}catch{}},Eo=Nf(),K9=V0(),Hf=function(){throw new oi},J9=Eo?function(){try{return arguments.callee,Hf}catch{try{return Eo(arguments,"callee").get}catch{return Hf}}}():Hf,ni=K0()(),Dt=bS(),Q9=Mf(),X9=jf(),RS=Uf(),Po=kl(),ii={},Y9=typeof Uint8Array>"u"||!Dt?Xe:Dt(Uint8Array),Ka={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Xe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Xe:ArrayBuffer,"%ArrayIteratorPrototype%":ni&&Dt?Dt([][Symbol.iterator]()):Xe,"%AsyncFromSyncIteratorPrototype%":Xe,"%AsyncFunction%":ii,"%AsyncGenerator%":ii,"%AsyncGeneratorFunction%":ii,"%AsyncIteratorPrototype%":ii,"%Atomics%":typeof Atomics>"u"?Xe:Atomics,"%BigInt%":typeof BigInt>"u"?Xe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Xe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Xe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Xe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":F9,"%eval%":eval,"%EvalError%":j9,"%Float16Array%":typeof Float16Array>"u"?Xe:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Xe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Xe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Xe:FinalizationRegistry,"%Function%":PS,"%GeneratorFunction%":ii,"%Int8Array%":typeof Int8Array>"u"?Xe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Xe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Xe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ni&&Dt?Dt(Dt([][Symbol.iterator]())):Xe,"%JSON%":typeof JSON=="object"?JSON:Xe,"%Map%":typeof Map>"u"?Xe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ni||!Dt?Xe:Dt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":N9,"%Object.getOwnPropertyDescriptor%":Eo,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Xe:Promise,"%Proxy%":typeof Proxy>"u"?Xe:Proxy,"%RangeError%":M9,"%ReferenceError%":U9,"%Reflect%":typeof Reflect>"u"?Xe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Xe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ni||!Dt?Xe:Dt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Xe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ni&&Dt?Dt(""[Symbol.iterator]()):Xe,"%Symbol%":ni?Symbol:Xe,"%SyntaxError%":ci,"%ThrowTypeError%":J9,"%TypedArray%":Y9,"%TypeError%":oi,"%Uint8Array%":typeof Uint8Array>"u"?Xe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Xe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Xe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Xe:Uint32Array,"%URIError%":q9,"%WeakMap%":typeof WeakMap>"u"?Xe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Xe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Xe:WeakSet,"%Function.prototype.call%":Po,"%Function.prototype.apply%":RS,"%Object.defineProperty%":K9,"%Object.getPrototypeOf%":Q9,"%Math.abs%":z9,"%Math.floor%":B9,"%Math.max%":H9,"%Math.min%":V9,"%Math.pow%":G9,"%Math.round%":W9,"%Math.sign%":Z9,"%Reflect.getPrototypeOf%":X9};if(Dt)try{null.error}catch(t){wS=Dt(Dt(t)),Ka["%Error.prototype%"]=wS}var wS,e4=function t(e){var r;if(e==="%AsyncFunction%")r=Bf("async function () {}");else if(e==="%GeneratorFunction%")r=Bf("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Bf("async function* () {}");else if(e==="%AsyncGenerator%"){var s=t("%AsyncGeneratorFunction%");s&&(r=s.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&Dt&&(r=Dt(a.prototype))}return Ka[e]=r,r},SS={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ro=So(),Al=zf(),t4=Ro.call(Po,Array.prototype.concat),r4=Ro.call(RS,Array.prototype.splice),ES=Ro.call(Po,String.prototype.replace),Il=Ro.call(Po,String.prototype.slice),s4=Ro.call(Po,RegExp.prototype.exec),a4=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,n4=/\\(\\)?/g,i4=function(e){var r=Il(e,0,1),s=Il(e,-1);if(r==="%"&&s!=="%")throw new ci("invalid intrinsic syntax, expected closing `%`");if(s==="%"&&r!=="%")throw new ci("invalid intrinsic syntax, expected opening `%`");var a=[];return ES(e,a4,function(i,n,o,l){a[a.length]=o?ES(l,n4,"$1"):n||i}),a},o4=function(e,r){var s=e,a;if(Al(SS,s)&&(a=SS[s],s="%"+a[0]+"%"),Al(Ka,s)){var i=Ka[s];if(i===ii&&(i=e4(s)),typeof i>"u"&&!r)throw new oi("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:s,value:i}}throw new ci("intrinsic "+e+" does not exist!")};CS.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new oi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new oi('"allowMissing" argument must be a boolean');if(s4(/^%?[^%]*%?$/,e)===null)throw new ci("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var s=i4(e),a=s.length>0?s[0]:"",i=o4("%"+a+"%",r),n=i.name,o=i.value,l=!1,c=i.alias;c&&(a=c[0],r4(s,t4([0,1],c)));for(var u=1,p=!0;u<s.length;u+=1){var h=s[u],d=Il(h,0,1),m=Il(h,-1);if((d==='"'||d==="'"||d==="`"||m==='"'||m==="'"||m==="`")&&d!==m)throw new ci("property names with quotes must have matching quotes");if((h==="constructor"||!p)&&(l=!0),a+="."+h,n="%"+a+"%",Al(Ka,n))o=Ka[n];else if(o!=null){if(!(h in o)){if(!r)throw new oi("base intrinsic for "+e+" exists, but the property is not available.");return}if(Eo&&u+1>=s.length){var f=Eo(o,h);p=!!f,p&&"get"in f&&!("originalValue"in f.get)?o=f.get:o=o[h]}else p=Al(o,h),o=o[h];p&&!l&&(Ka[n]=o)}}return o}});var kS=z((X7,OS)=>{"use strict";var c4=Ff();OS.exports=function(){return c4()&&!!Symbol.toStringTag}});var DS=z((Y7,IS)=>{"use strict";var l4=TS(),AS=l4("%Object.defineProperty%",!0),u4=kS()(),p4=zf(),d4=Cl(),Dl=u4?Symbol.toStringTag:null;IS.exports=function(e,r){var s=arguments.length>2&&!!arguments[2]&&arguments[2].force,a=arguments.length>2&&!!arguments[2]&&arguments[2].nonConfigurable;if(typeof s<"u"&&typeof s!="boolean"||typeof a<"u"&&typeof a!="boolean")throw new d4("if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans");Dl&&(s||!p4(e,Dl))&&(AS?AS(e,Dl,{configurable:!a,enumerable:!1,value:r,writable:!1}):e[Dl]=r)}});var $S=z((eJ,LS)=>{LS.exports=function(t,e){return Object.keys(e).forEach(function(r){t[r]=t[r]||e[r]}),t}});var FS=z((tJ,NS)=>{var Zf=qw(),f4=require("util"),Vf=require("path"),m4=require("http"),h4=require("https"),v4=require("url").parse,g4=require("fs"),y4=require("stream").Stream,Gf=Ww(),x4=u0(),b4=DS(),Wf=$S();NS.exports=at;f4.inherits(at,Zf);function at(t){if(!(this instanceof at))return new at(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],Zf.call(this),t=t||{};for(var e in t)this[e]=t[e]}at.LINE_BREAK=`\r
`;at.DEFAULT_CONTENT_TYPE="application/octet-stream";at.prototype.append=function(t,e,r){r=r||{},typeof r=="string"&&(r={filename:r});var s=Zf.prototype.append.bind(this);if(typeof e=="number"&&(e=""+e),Array.isArray(e)){this._error(new Error("Arrays are not supported."));return}var a=this._multiPartHeader(t,e,r),i=this._multiPartFooter();s(a),s(e),s(i),this._trackLength(a,e,r)};at.prototype._trackLength=function(t,e,r){var s=0;r.knownLength!=null?s+=+r.knownLength:Buffer.isBuffer(e)?s=e.length:typeof e=="string"&&(s=Buffer.byteLength(e)),this._valueLength+=s,this._overheadLength+=Buffer.byteLength(t)+at.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&Object.prototype.hasOwnProperty.call(e,"httpVersion"))&&!(e instanceof y4))&&(r.knownLength||this._valuesToMeasure.push(e))};at.prototype._lengthRetriever=function(t,e){Object.prototype.hasOwnProperty.call(t,"fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):g4.stat(t.path,function(r,s){var a;if(r){e(r);return}a=s.size-(t.start?t.start:0),e(null,a)}):Object.prototype.hasOwnProperty.call(t,"httpVersion")?e(null,+t.headers["content-length"]):Object.prototype.hasOwnProperty.call(t,"httpModule")?(t.on("response",function(r){t.pause(),e(null,+r.headers["content-length"])}),t.resume()):e("Unknown stream")};at.prototype._multiPartHeader=function(t,e,r){if(typeof r.header=="string")return r.header;var s=this._getContentDisposition(e,r),a=this._getContentType(e,r),i="",n={"Content-Disposition":["form-data",'name="'+t+'"'].concat(s||[]),"Content-Type":[].concat(a||[])};typeof r.header=="object"&&Wf(n,r.header);var o;for(var l in n)if(Object.prototype.hasOwnProperty.call(n,l)){if(o=n[l],o==null)continue;Array.isArray(o)||(o=[o]),o.length&&(i+=l+": "+o.join("; ")+at.LINE_BREAK)}return"--"+this.getBoundary()+at.LINE_BREAK+i+at.LINE_BREAK};at.prototype._getContentDisposition=function(t,e){var r,s;return typeof e.filepath=="string"?r=Vf.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t.name||t.path?r=Vf.basename(e.filename||t.name||t.path):t.readable&&Object.prototype.hasOwnProperty.call(t,"httpVersion")&&(r=Vf.basename(t.client._httpMessage.path||"")),r&&(s='filename="'+r+'"'),s};at.prototype._getContentType=function(t,e){var r=e.contentType;return!r&&t.name&&(r=Gf.lookup(t.name)),!r&&t.path&&(r=Gf.lookup(t.path)),!r&&t.readable&&Object.prototype.hasOwnProperty.call(t,"httpVersion")&&(r=t.headers["content-type"]),!r&&(e.filepath||e.filename)&&(r=Gf.lookup(e.filepath||e.filename)),!r&&typeof t=="object"&&(r=at.DEFAULT_CONTENT_TYPE),r};at.prototype._multiPartFooter=function(){return function(t){var e=at.LINE_BREAK,r=this._streams.length===0;r&&(e+=this._lastBoundary()),t(e)}.bind(this)};at.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+at.LINE_BREAK};at.prototype.getHeaders=function(t){var e,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e.toLowerCase()]=t[e]);return r};at.prototype.setBoundary=function(t){this._boundary=t};at.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};at.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),r=0,s=this._streams.length;r<s;r++)typeof this._streams[r]!="function"&&(Buffer.isBuffer(this._streams[r])?t=Buffer.concat([t,this._streams[r]]):t=Buffer.concat([t,Buffer.from(this._streams[r])]),(typeof this._streams[r]!="string"||this._streams[r].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(at.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};at.prototype._generateBoundary=function(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(Math.random()*10).toString(16);this._boundary=t};at.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};at.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};at.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}x4.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,s){if(r){t(r);return}s.forEach(function(a){e+=a}),t(null,e)})};at.prototype.submit=function(t,e){var r,s,a={method:"post"};return typeof t=="string"?(t=v4(t),s=Wf({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},a)):(s=Wf(t,a),s.port||(s.port=s.protocol=="https:"?443:80)),s.headers=this.getHeaders(t.headers),s.protocol=="https:"?r=h4.request(s):r=m4.request(s),this.getLength(function(i,n){if(i&&i!=="Unknown stream"){this._error(i);return}if(n&&r.setHeader("Content-Length",n),this.pipe(r),e){var o,l=function(c,u){return r.removeListener("error",l),r.removeListener("response",o),e.call(this,c,u)};o=l.bind(this,null),r.on("error",l),r.on("response",o)}}.bind(this)),r};at.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};at.prototype.toString=function(){return"[object FormData]"};b4(at,"FormData")});var tE=z(eE=>{"use strict";var j4=require("url").parse,M4={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},U4=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function q4(t){var e=typeof t=="string"?j4(t):t||{},r=e.protocol,s=e.host,a=e.port;if(typeof s!="string"||!s||typeof r!="string"||(r=r.split(":",1)[0],s=s.replace(/:\d*$/,""),a=parseInt(a)||M4[r]||0,!z4(s,a)))return"";var i=di("npm_config_"+r+"_proxy")||di(r+"_proxy")||di("npm_config_proxy")||di("all_proxy");return i&&i.indexOf("://")===-1&&(i=r+"://"+i),i}function z4(t,e){var r=(di("npm_config_no_proxy")||di("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(s){if(!s)return!0;var a=s.match(/^(.+):(\d+)$/),i=a?a[1]:s,n=a?parseInt(a[2]):0;return n&&n!==e?!0:/^[.*]/.test(i)?(i.charAt(0)==="*"&&(i=i.slice(1)),!U4.call(t,i)):t!==i}):!0}function di(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}eE.getProxyForUrl=q4});var sE=z((rQ,rE)=>{var fi=1e3,mi=fi*60,hi=mi*60,Xa=hi*24,B4=Xa*7,H4=Xa*365.25;rE.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return V4(t);if(r==="number"&&isFinite(t))return e.long?W4(t):G4(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function V4(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),s=(e[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return r*H4;case"weeks":case"week":case"w":return r*B4;case"days":case"day":case"d":return r*Xa;case"hours":case"hour":case"hrs":case"hr":case"h":return r*hi;case"minutes":case"minute":case"mins":case"min":case"m":return r*mi;case"seconds":case"second":case"secs":case"sec":case"s":return r*fi;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function G4(t){var e=Math.abs(t);return e>=Xa?Math.round(t/Xa)+"d":e>=hi?Math.round(t/hi)+"h":e>=mi?Math.round(t/mi)+"m":e>=fi?Math.round(t/fi)+"s":t+"ms"}function W4(t){var e=Math.abs(t);return e>=Xa?Fl(t,e,Xa,"day"):e>=hi?Fl(t,e,hi,"hour"):e>=mi?Fl(t,e,mi,"minute"):e>=fi?Fl(t,e,fi,"second"):t+" ms"}function Fl(t,e,r,s){var a=e>=r*1.5;return Math.round(t/r)+" "+s+(a?"s":"")}});var om=z((sQ,aE)=>{function Z4(t){r.debug=r,r.default=r,r.coerce=l,r.disable=n,r.enable=a,r.enabled=o,r.humanize=sE(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let p=0;for(let h=0;h<u.length;h++)p=(p<<5)-p+u.charCodeAt(h),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=e;function r(u){let p,h=null,d,m;function f(...v){if(!f.enabled)return;let g=f,b=Number(new Date),w=b-(p||b);g.diff=w,g.prev=p,g.curr=b,p=b,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let R=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(P,T)=>{if(P==="%%")return"%";R++;let $=r.formatters[T];if(typeof $=="function"){let D=v[R];P=$.call(g,D),v.splice(R,1),R--}return P}),r.formatArgs.call(g,v),(g.log||r.log).apply(g,v)}return f.namespace=u,f.useColors=r.useColors(),f.color=r.selectColor(u),f.extend=s,f.destroy=r.destroy,Object.defineProperty(f,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(d!==r.namespaces&&(d=r.namespaces,m=r.enabled(u)),m),set:v=>{h=v}}),typeof r.init=="function"&&r.init(f),f}function s(u,p){let h=r(this.namespace+(typeof p>"u"?":":p)+u);return h.log=this.log,h}function a(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let p=(typeof u=="string"?u:"").trim().replace(" ",",").split(",").filter(Boolean);for(let h of p)h[0]==="-"?r.skips.push(h.slice(1)):r.names.push(h)}function i(u,p){let h=0,d=0,m=-1,f=0;for(;h<u.length;)if(d<p.length&&(p[d]===u[h]||p[d]==="*"))p[d]==="*"?(m=d,f=h,d++):(h++,d++);else if(m!==-1)d=m+1,f++,h=f;else return!1;for(;d<p.length&&p[d]==="*";)d++;return d===p.length}function n(){let u=[...r.names,...r.skips.map(p=>"-"+p)].join(",");return r.enable(""),u}function o(u){for(let p of r.skips)if(i(u,p))return!1;for(let p of r.names)if(i(u,p))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}aE.exports=Z4});var nE=z((_r,jl)=>{_r.formatArgs=J4;_r.save=Q4;_r.load=X4;_r.useColors=K4;_r.storage=Y4();_r.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();_r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function K4(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function J4(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+jl.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(r++,a==="%c"&&(s=r))}),t.splice(s,0,e)}_r.log=console.debug||console.log||(()=>{});function Q4(t){try{t?_r.storage.setItem("debug",t):_r.storage.removeItem("debug")}catch{}}function X4(){let t;try{t=_r.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function Y4(){try{return localStorage}catch{}}jl.exports=om()(_r);var{formatters:ez}=jl.exports;ez.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var oE=z((aQ,iE)=>{"use strict";iE.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",s=e.indexOf(r+t),a=e.indexOf("--");return s!==-1&&(a===-1||s<a)}});var uE=z((nQ,lE)=>{"use strict";var tz=require("os"),cE=require("tty"),Ir=oE(),{env:Lt}=process,Ml;Ir("no-color")||Ir("no-colors")||Ir("color=false")||Ir("color=never")?Ml=0:(Ir("color")||Ir("colors")||Ir("color=true")||Ir("color=always"))&&(Ml=1);function rz(){if("FORCE_COLOR"in Lt)return Lt.FORCE_COLOR==="true"?1:Lt.FORCE_COLOR==="false"?0:Lt.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Lt.FORCE_COLOR,10),3)}function sz(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function az(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let s=rz();s!==void 0&&(Ml=s);let a=r?Ml:s;if(a===0)return 0;if(r){if(Ir("color=16m")||Ir("color=full")||Ir("color=truecolor"))return 3;if(Ir("color=256"))return 2}if(t&&!e&&a===void 0)return 0;let i=a||0;if(Lt.TERM==="dumb")return i;if(process.platform==="win32"){let n=tz.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Lt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(n=>n in Lt)||Lt.CI_NAME==="codeship"?1:i;if("TEAMCITY_VERSION"in Lt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Lt.TEAMCITY_VERSION)?1:0;if(Lt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Lt){let n=Number.parseInt((Lt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Lt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Lt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Lt.TERM)||"COLORTERM"in Lt?1:i}function cm(t,e={}){let r=az(t,{streamIsTTY:t&&t.isTTY,...e});return sz(r)}lE.exports={supportsColor:cm,stdout:cm({isTTY:cE.isatty(1)}),stderr:cm({isTTY:cE.isatty(2)})}});var dE=z(($t,ql)=>{var nz=require("tty"),Ul=require("util");$t.init=dz;$t.log=lz;$t.formatArgs=oz;$t.save=uz;$t.load=pz;$t.useColors=iz;$t.destroy=Ul.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");$t.colors=[6,2,3,4,5,1];try{let t=uE();t&&(t.stderr||t).level>=2&&($t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}$t.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(a,i)=>i.toUpperCase()),s=process.env[e];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),t[r]=s,t},{});function iz(){return"colors"in $t.inspectOpts?!!$t.inspectOpts.colors:nz.isatty(process.stderr.fd)}function oz(t){let{namespace:e,useColors:r}=this;if(r){let s=this.color,a="\x1B[3"+(s<8?s:"8;5;"+s),i=`  ${a};1m${e} \x1B[0m`;t[0]=i+t[0].split(`
`).join(`
`+i),t.push(a+"m+"+ql.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=cz()+e+" "+t[0]}function cz(){return $t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function lz(...t){return process.stderr.write(Ul.formatWithOptions($t.inspectOpts,...t)+`
`)}function uz(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function pz(){return process.env.DEBUG}function dz(t){t.inspectOpts={};let e=Object.keys($t.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=$t.inspectOpts[e[r]]}ql.exports=om()($t);var{formatters:pE}=ql.exports;pE.o=function(t){return this.inspectOpts.colors=this.useColors,Ul.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};pE.O=function(t){return this.inspectOpts.colors=this.useColors,Ul.inspect(t,this.inspectOpts)}});var fE=z((iQ,lm)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?lm.exports=nE():lm.exports=dE()});var hE=z((oQ,mE)=>{var ko;mE.exports=function(){if(!ko){try{ko=fE()("follow-redirects")}catch{}typeof ko!="function"&&(ko=function(){})}ko.apply(null,arguments)}});var bE=z((cQ,_m)=>{var Io=require("url"),Ao=Io.URL,fz=require("http"),mz=require("https"),mm=require("stream").Writable,hm=require("assert"),vE=hE();(function(){var e=typeof process<"u",r=typeof window<"u"&&typeof document<"u",s=en(Error.captureStackTrace);!e&&(r||!s)&&console.warn("The follow-redirects package should be excluded from browser builds.")})();var vm=!1;try{hm(new Ao(""))}catch(t){vm=t.code==="ERR_INVALID_URL"}var hz=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],gm=["abort","aborted","connect","error","socket","timeout"],ym=Object.create(null);gm.forEach(function(t){ym[t]=function(e,r,s){this._redirectable.emit(t,e,r,s)}});var pm=Do("ERR_INVALID_URL","Invalid URL",TypeError),dm=Do("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),vz=Do("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",dm),gz=Do("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),yz=Do("ERR_STREAM_WRITE_AFTER_END","write after end"),xz=mm.prototype.destroy||yE;function sr(t,e){mm.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(s){try{r._processResponse(s)}catch(a){r.emit("error",a instanceof dm?a:new dm({cause:a}))}},this._performRequest()}sr.prototype=Object.create(mm.prototype);sr.prototype.abort=function(){bm(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};sr.prototype.destroy=function(t){return bm(this._currentRequest,t),xz.call(this,t),this};sr.prototype.write=function(t,e,r){if(this._ending)throw new yz;if(!Ya(t)&&!wz(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(en(e)&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new gz),this.abort())};sr.prototype.end=function(t,e,r){if(en(t)?(r=t,t=e=null):en(e)&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var s=this,a=this._currentRequest;this.write(t,e,function(){s._ended=!0,a.end(null,null,r)}),this._ending=!0}};sr.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};sr.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};sr.prototype.setTimeout=function(t,e){var r=this;function s(n){n.setTimeout(t),n.removeListener("timeout",n.destroy),n.addListener("timeout",n.destroy)}function a(n){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),i()},t),s(n)}function i(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",i),r.removeListener("error",i),r.removeListener("response",i),r.removeListener("close",i),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",a)}return e&&this.on("timeout",e),this.socket?a(this.socket):this._currentRequest.once("socket",a),this.on("socket",s),this.on("abort",i),this.on("error",i),this.on("response",i),this.on("close",i),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){sr.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(sr.prototype,t,{get:function(){return this._currentRequest[t]}})});sr.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};sr.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e)throw new TypeError("Unsupported protocol "+t);if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var s=this._currentRequest=e.request(this._options,this._onNativeResponse);s._redirectable=this;for(var a of gm)s.on(a,ym[a]);if(this._currentUrl=/^\//.test(this._options.path)?Io.format(this._options):this._options.path,this._isRedirect){var i=0,n=this,o=this._requestBodyBuffers;(function l(c){if(s===n._currentRequest)if(c)n.emit("error",c);else if(i<o.length){var u=o[i++];s.finished||s.write(u.data,u.encoding,l)}else n._ended&&s.end()})()}};sr.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(bm(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects)throw new vz;var s,a=this._options.beforeRedirect;a&&(s=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var i=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],um(/^content-/i,this._options.headers));var n=um(/^host$/i,this._options.headers),o=xm(this._currentUrl),l=n||o.host,c=/^\w+:/.test(r)?this._currentUrl:Io.format(Object.assign(o,{host:l})),u=bz(r,c);if(vE("redirecting to",u.href),this._isRedirect=!0,fm(u,this._options),(u.protocol!==o.protocol&&u.protocol!=="https:"||u.host!==l&&!_z(u.host,l))&&um(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),en(a)){var p={headers:t.headers,statusCode:e},h={url:c,method:i,headers:s};a(this._options,p,h),this._sanitizeOptions(this._options)}this._performRequest()};function gE(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach(function(s){var a=s+":",i=r[a]=t[s],n=e[s]=Object.create(i);function o(c,u,p){return Sz(c)?c=fm(c):Ya(c)?c=fm(xm(c)):(p=u,u=xE(c),c={protocol:a}),en(u)&&(p=u,u=null),u=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},c,u),u.nativeProtocols=r,!Ya(u.host)&&!Ya(u.hostname)&&(u.hostname="::1"),hm.equal(u.protocol,a,"protocol mismatch"),vE("options",u),new sr(u,p)}function l(c,u,p){var h=n.request(c,u,p);return h.end(),h}Object.defineProperties(n,{request:{value:o,configurable:!0,enumerable:!0,writable:!0},get:{value:l,configurable:!0,enumerable:!0,writable:!0}})}),e}function yE(){}function xm(t){var e;if(vm)e=new Ao(t);else if(e=xE(Io.parse(t)),!Ya(e.protocol))throw new pm({input:t});return e}function bz(t,e){return vm?new Ao(t,e):xm(Io.resolve(e,t))}function xE(t){if(/^\[/.test(t.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(t.hostname))throw new pm({input:t.href||t});if(/^\[/.test(t.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(t.host))throw new pm({input:t.href||t});return t}function fm(t,e){var r=e||{};for(var s of hz)r[s]=t[s];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function um(t,e){var r;for(var s in e)t.test(s)&&(r=e[s],delete e[s]);return r===null||typeof r>"u"?void 0:String(r).trim()}function Do(t,e,r){function s(a){en(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,a||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return s.prototype=new(r||Error),Object.defineProperties(s.prototype,{constructor:{value:s,enumerable:!1},name:{value:"Error ["+t+"]",enumerable:!1}}),s}function bm(t,e){for(var r of gm)t.removeListener(r,ym[r]);t.on("error",yE),t.destroy(e)}function _z(t,e){hm(Ya(t)&&Ya(e));var r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}function Ya(t){return typeof t=="string"||t instanceof String}function en(t){return typeof t=="function"}function wz(t){return typeof t=="object"&&"length"in t}function Sz(t){return Ao&&t instanceof Ao}_m.exports=gE({http:fz,https:mz});_m.exports.wrap=gE});var cR=z((Su,oR)=>{(function(t,e){typeof Su=="object"&&typeof oR<"u"?e(Su):typeof define=="function"&&define.amd?define(["exports"],e):e(t.URI=t.URI||{})})(Su,function(t){"use strict";function e(){for(var N=arguments.length,O=Array(N),x=0;x<N;x++)O[x]=arguments[x];if(O.length>1){O[0]=O[0].slice(0,-1);for(var y=O.length-1,E=1;E<y;++E)O[E]=O[E].slice(1,-1);return O[y]=O[y].slice(1),O.join("")}else return O[0]}function r(N){return"(?:"+N+")"}function s(N){return N===void 0?"undefined":N===null?"null":Object.prototype.toString.call(N).split(" ").pop().split("]").shift().toLowerCase()}function a(N){return N.toUpperCase()}function i(N){return N!=null?N instanceof Array?N:typeof N.length!="number"||N.split||N.setInterval||N.call?[N]:Array.prototype.slice.call(N):[]}function n(N,O){var x=N;if(O)for(var y in O)x[y]=O[y];return x}function o(N){var O="[A-Za-z]",x="[\\x0D]",y="[0-9]",E="[\\x22]",F=e(y,"[A-Fa-f]"),B="[\\x0A]",Q="[\\x20]",ce=r(r("%[EFef]"+F+"%"+F+F+"%"+F+F)+"|"+r("%[89A-Fa-f]"+F+"%"+F+F)+"|"+r("%"+F+F)),Se="[\\:\\/\\?\\#\\[\\]\\@]",ve="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ue=e(Se,ve),we=N?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ie=N?"[\\uE000-\\uF8FF]":"[]",Ee=e(O,y,"[\\-\\.\\_\\~]",we),De=r(O+e(O,y,"[\\+\\-\\.]")+"*"),ge=r(r(ce+"|"+e(Ee,ve,"[\\:]"))+"*"),pt=r(r("25[0-5]")+"|"+r("2[0-4]"+y)+"|"+r("1"+y+y)+"|"+r("[1-9]"+y)+"|"+y),He=r(r("25[0-5]")+"|"+r("2[0-4]"+y)+"|"+r("1"+y+y)+"|"+r("0?[1-9]"+y)+"|0?0?"+y),Ct=r(He+"\\."+He+"\\."+He+"\\."+He),Ze=r(F+"{1,4}"),mt=r(r(Ze+"\\:"+Ze)+"|"+Ct),Ke=r(r(Ze+"\\:")+"{6}"+mt),xt=r("\\:\\:"+r(Ze+"\\:")+"{5}"+mt),Tt=r(r(Ze)+"?\\:\\:"+r(Ze+"\\:")+"{4}"+mt),Ot=r(r(r(Ze+"\\:")+"{0,1}"+Ze)+"?\\:\\:"+r(Ze+"\\:")+"{3}"+mt),ur=r(r(r(Ze+"\\:")+"{0,2}"+Ze)+"?\\:\\:"+r(Ze+"\\:")+"{2}"+mt),Qt=r(r(r(Ze+"\\:")+"{0,3}"+Ze)+"?\\:\\:"+Ze+"\\:"+mt),ts=r(r(r(Ze+"\\:")+"{0,4}"+Ze)+"?\\:\\:"+mt),Ur=r(r(r(Ze+"\\:")+"{0,5}"+Ze)+"?\\:\\:"+Ze),qr=r(r(r(Ze+"\\:")+"{0,6}"+Ze)+"?\\:\\:"),zt=r([Ke,xt,Tt,Ot,ur,Qt,ts,Ur,qr].join("|")),pr=r(r(Ee+"|"+ce)+"+"),dr=r(zt+"\\%25"+pr),Xt=r(zt+r("\\%25|\\%(?!"+F+"{2})")+pr),Vi=r("[vV]"+F+"+\\."+e(Ee,ve,"[\\:]")+"+"),_s=r("\\["+r(Xt+"|"+zt+"|"+Vi)+"\\]"),pc=r(r(ce+"|"+e(Ee,ve))+"*"),_a=r(_s+"|"+Ct+"(?!"+pc+")|"+pc),Zs=r(y+"*"),Ks=r(r(ge+"@")+"?"+_a+r("\\:"+Zs)+"?"),zr=r(ce+"|"+e(Ee,ve,"[\\:\\@]")),dc=r(zr+"*"),Js=r(zr+"+"),bp=r(r(ce+"|"+e(Ee,ve,"[\\@]"))+"+"),Pr=r(r("\\/"+dc)+"*"),Qs=r("\\/"+r(Js+Pr)+"?"),fr=r(bp+Pr),Br=r(Js+Pr),rs="(?!"+zr+")",Gi=r(Pr+"|"+Qs+"|"+fr+"|"+Br+"|"+rs),mr=r(r(zr+"|"+e("[\\/\\?]",Ie))+"*"),Tn=r(r(zr+"|[\\/\\?]")+"*"),ws=r(r("\\/\\/"+Ks+Pr)+"|"+Qs+"|"+Br+"|"+rs),wa=r(De+"\\:"+ws+r("\\?"+mr)+"?"+r("\\#"+Tn)+"?"),fc=r(r("\\/\\/"+Ks+Pr)+"|"+Qs+"|"+fr+"|"+rs),_p=r(fc+r("\\?"+mr)+"?"+r("\\#"+Tn)+"?"),dv=r(wa+"|"+_p),fv=r(De+"\\:"+ws+r("\\?"+mr)+"?"),Ok="^("+De+")\\:"+r(r("\\/\\/("+r("("+ge+")@")+"?("+_a+")"+r("\\:("+Zs+")")+"?)")+"?("+Pr+"|"+Qs+"|"+Br+"|"+rs+")")+r("\\?("+mr+")")+"?"+r("\\#("+Tn+")")+"?$",kk="^(){0}"+r(r("\\/\\/("+r("("+ge+")@")+"?("+_a+")"+r("\\:("+Zs+")")+"?)")+"?("+Pr+"|"+Qs+"|"+fr+"|"+rs+")")+r("\\?("+mr+")")+"?"+r("\\#("+Tn+")")+"?$",Ak="^("+De+")\\:"+r(r("\\/\\/("+r("("+ge+")@")+"?("+_a+")"+r("\\:("+Zs+")")+"?)")+"?("+Pr+"|"+Qs+"|"+Br+"|"+rs+")")+r("\\?("+mr+")")+"?$",Ik="^"+r("\\#("+Tn+")")+"?$",Dk="^"+r("("+ge+")@")+"?("+_a+")"+r("\\:("+Zs+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",O,y,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",Ee,ve),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",Ee,ve),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",Ee,ve),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",Ee,ve),"g"),NOT_QUERY:new RegExp(e("[^\\%]",Ee,ve,"[\\:\\@\\/\\?]",Ie),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",Ee,ve,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",Ee,ve),"g"),UNRESERVED:new RegExp(Ee,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",Ee,Ue),"g"),PCT_ENCODED:new RegExp(ce,"g"),IPV4ADDRESS:new RegExp("^("+Ct+")$"),IPV6ADDRESS:new RegExp("^\\[?("+zt+")"+r(r("\\%25|\\%(?!"+F+"{2})")+"("+pr+")")+"?\\]?$")}}var l=o(!1),c=o(!0),u=function(){function N(O,x){var y=[],E=!0,F=!1,B=void 0;try{for(var Q=O[Symbol.iterator](),ce;!(E=(ce=Q.next()).done)&&(y.push(ce.value),!(x&&y.length===x));E=!0);}catch(Se){F=!0,B=Se}finally{try{!E&&Q.return&&Q.return()}finally{if(F)throw B}}return y}return function(O,x){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return N(O,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(N){if(Array.isArray(N)){for(var O=0,x=Array(N.length);O<N.length;O++)x[O]=N[O];return x}else return Array.from(N)},h=2147483647,d=36,m=1,f=26,v=38,g=700,b=72,w=128,R="-",C=/^xn--/,P=/[^\0-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,$={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=d-m,j=Math.floor,I=String.fromCharCode;function k(N){throw new RangeError($[N])}function A(N,O){for(var x=[],y=N.length;y--;)x[y]=O(N[y]);return x}function L(N,O){var x=N.split("@"),y="";x.length>1&&(y=x[0]+"@",N=x[1]),N=N.replace(T,".");var E=N.split("."),F=A(E,O).join(".");return y+F}function q(N){for(var O=[],x=0,y=N.length;x<y;){var E=N.charCodeAt(x++);if(E>=55296&&E<=56319&&x<y){var F=N.charCodeAt(x++);(F&64512)==56320?O.push(((E&1023)<<10)+(F&1023)+65536):(O.push(E),x--)}else O.push(E)}return O}var V=function(O){return String.fromCodePoint.apply(String,p(O))},H=function(O){return O-48<10?O-22:O-65<26?O-65:O-97<26?O-97:d},G=function(O,x){return O+22+75*(O<26)-((x!=0)<<5)},Z=function(O,x,y){var E=0;for(O=y?j(O/g):O>>1,O+=j(O/x);O>D*f>>1;E+=d)O=j(O/D);return j(E+(D+1)*O/(O+v))},K=function(O){var x=[],y=O.length,E=0,F=w,B=b,Q=O.lastIndexOf(R);Q<0&&(Q=0);for(var ce=0;ce<Q;++ce)O.charCodeAt(ce)>=128&&k("not-basic"),x.push(O.charCodeAt(ce));for(var Se=Q>0?Q+1:0;Se<y;){for(var ve=E,Ue=1,we=d;;we+=d){Se>=y&&k("invalid-input");var Ie=H(O.charCodeAt(Se++));(Ie>=d||Ie>j((h-E)/Ue))&&k("overflow"),E+=Ie*Ue;var Ee=we<=B?m:we>=B+f?f:we-B;if(Ie<Ee)break;var De=d-Ee;Ue>j(h/De)&&k("overflow"),Ue*=De}var ge=x.length+1;B=Z(E-ve,ge,ve==0),j(E/ge)>h-F&&k("overflow"),F+=j(E/ge),E%=ge,x.splice(E++,0,F)}return String.fromCodePoint.apply(String,x)},re=function(O){var x=[];O=q(O);var y=O.length,E=w,F=0,B=b,Q=!0,ce=!1,Se=void 0;try{for(var ve=O[Symbol.iterator](),Ue;!(Q=(Ue=ve.next()).done);Q=!0){var we=Ue.value;we<128&&x.push(I(we))}}catch(Xt){ce=!0,Se=Xt}finally{try{!Q&&ve.return&&ve.return()}finally{if(ce)throw Se}}var Ie=x.length,Ee=Ie;for(Ie&&x.push(R);Ee<y;){var De=h,ge=!0,pt=!1,He=void 0;try{for(var Ct=O[Symbol.iterator](),Ze;!(ge=(Ze=Ct.next()).done);ge=!0){var mt=Ze.value;mt>=E&&mt<De&&(De=mt)}}catch(Xt){pt=!0,He=Xt}finally{try{!ge&&Ct.return&&Ct.return()}finally{if(pt)throw He}}var Ke=Ee+1;De-E>j((h-F)/Ke)&&k("overflow"),F+=(De-E)*Ke,E=De;var xt=!0,Tt=!1,Ot=void 0;try{for(var ur=O[Symbol.iterator](),Qt;!(xt=(Qt=ur.next()).done);xt=!0){var ts=Qt.value;if(ts<E&&++F>h&&k("overflow"),ts==E){for(var Ur=F,qr=d;;qr+=d){var zt=qr<=B?m:qr>=B+f?f:qr-B;if(Ur<zt)break;var pr=Ur-zt,dr=d-zt;x.push(I(G(zt+pr%dr,0))),Ur=j(pr/dr)}x.push(I(G(Ur,0))),B=Z(F,Ke,Ee==Ie),F=0,++Ee}}}catch(Xt){Tt=!0,Ot=Xt}finally{try{!xt&&ur.return&&ur.return()}finally{if(Tt)throw Ot}}++F,++E}return x.join("")},le=function(O){return L(O,function(x){return C.test(x)?K(x.slice(4).toLowerCase()):x})},Je=function(O){return L(O,function(x){return P.test(x)?"xn--"+re(x):x})},xe={version:"2.1.0",ucs2:{decode:q,encode:V},decode:K,encode:re,toASCII:Je,toUnicode:le},Pe={};function Ae(N){var O=N.charCodeAt(0),x=void 0;return O<16?x="%0"+O.toString(16).toUpperCase():O<128?x="%"+O.toString(16).toUpperCase():O<2048?x="%"+(O>>6|192).toString(16).toUpperCase()+"%"+(O&63|128).toString(16).toUpperCase():x="%"+(O>>12|224).toString(16).toUpperCase()+"%"+(O>>6&63|128).toString(16).toUpperCase()+"%"+(O&63|128).toString(16).toUpperCase(),x}function qe(N){for(var O="",x=0,y=N.length;x<y;){var E=parseInt(N.substr(x+1,2),16);if(E<128)O+=String.fromCharCode(E),x+=3;else if(E>=194&&E<224){if(y-x>=6){var F=parseInt(N.substr(x+4,2),16);O+=String.fromCharCode((E&31)<<6|F&63)}else O+=N.substr(x,6);x+=6}else if(E>=224){if(y-x>=9){var B=parseInt(N.substr(x+4,2),16),Q=parseInt(N.substr(x+7,2),16);O+=String.fromCharCode((E&15)<<12|(B&63)<<6|Q&63)}else O+=N.substr(x,9);x+=9}else O+=N.substr(x,3),x+=3}return O}function M(N,O){function x(y){var E=qe(y);return E.match(O.UNRESERVED)?E:y}return N.scheme&&(N.scheme=String(N.scheme).replace(O.PCT_ENCODED,x).toLowerCase().replace(O.NOT_SCHEME,"")),N.userinfo!==void 0&&(N.userinfo=String(N.userinfo).replace(O.PCT_ENCODED,x).replace(O.NOT_USERINFO,Ae).replace(O.PCT_ENCODED,a)),N.host!==void 0&&(N.host=String(N.host).replace(O.PCT_ENCODED,x).toLowerCase().replace(O.NOT_HOST,Ae).replace(O.PCT_ENCODED,a)),N.path!==void 0&&(N.path=String(N.path).replace(O.PCT_ENCODED,x).replace(N.scheme?O.NOT_PATH:O.NOT_PATH_NOSCHEME,Ae).replace(O.PCT_ENCODED,a)),N.query!==void 0&&(N.query=String(N.query).replace(O.PCT_ENCODED,x).replace(O.NOT_QUERY,Ae).replace(O.PCT_ENCODED,a)),N.fragment!==void 0&&(N.fragment=String(N.fragment).replace(O.PCT_ENCODED,x).replace(O.NOT_FRAGMENT,Ae).replace(O.PCT_ENCODED,a)),N}function W(N){return N.replace(/^0*(.*)/,"$1")||"0"}function se(N,O){var x=N.match(O.IPV4ADDRESS)||[],y=u(x,2),E=y[1];return E?E.split(".").map(W).join("."):N}function he(N,O){var x=N.match(O.IPV6ADDRESS)||[],y=u(x,3),E=y[1],F=y[2];if(E){for(var B=E.toLowerCase().split("::").reverse(),Q=u(B,2),ce=Q[0],Se=Q[1],ve=Se?Se.split(":").map(W):[],Ue=ce.split(":").map(W),we=O.IPV4ADDRESS.test(Ue[Ue.length-1]),Ie=we?7:8,Ee=Ue.length-Ie,De=Array(Ie),ge=0;ge<Ie;++ge)De[ge]=ve[ge]||Ue[Ee+ge]||"";we&&(De[Ie-1]=se(De[Ie-1],O));var pt=De.reduce(function(Ke,xt,Tt){if(!xt||xt==="0"){var Ot=Ke[Ke.length-1];Ot&&Ot.index+Ot.length===Tt?Ot.length++:Ke.push({index:Tt,length:1})}return Ke},[]),He=pt.sort(function(Ke,xt){return xt.length-Ke.length})[0],Ct=void 0;if(He&&He.length>1){var Ze=De.slice(0,He.index),mt=De.slice(He.index+He.length);Ct=Ze.join(":")+"::"+mt.join(":")}else Ct=De.join(":");return F&&(Ct+="%"+F),Ct}else return N}var J=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,X="".match(/(){0}/)[1]===void 0;function ue(N){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x={},y=O.iri!==!1?c:l;O.reference==="suffix"&&(N=(O.scheme?O.scheme+":":"")+"//"+N);var E=N.match(J);if(E){X?(x.scheme=E[1],x.userinfo=E[3],x.host=E[4],x.port=parseInt(E[5],10),x.path=E[6]||"",x.query=E[7],x.fragment=E[8],isNaN(x.port)&&(x.port=E[5])):(x.scheme=E[1]||void 0,x.userinfo=N.indexOf("@")!==-1?E[3]:void 0,x.host=N.indexOf("//")!==-1?E[4]:void 0,x.port=parseInt(E[5],10),x.path=E[6]||"",x.query=N.indexOf("?")!==-1?E[7]:void 0,x.fragment=N.indexOf("#")!==-1?E[8]:void 0,isNaN(x.port)&&(x.port=N.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?E[4]:void 0)),x.host&&(x.host=he(se(x.host,y),y)),x.scheme===void 0&&x.userinfo===void 0&&x.host===void 0&&x.port===void 0&&!x.path&&x.query===void 0?x.reference="same-document":x.scheme===void 0?x.reference="relative":x.fragment===void 0?x.reference="absolute":x.reference="uri",O.reference&&O.reference!=="suffix"&&O.reference!==x.reference&&(x.error=x.error||"URI is not a "+O.reference+" reference.");var F=Pe[(O.scheme||x.scheme||"").toLowerCase()];if(!O.unicodeSupport&&(!F||!F.unicodeSupport)){if(x.host&&(O.domainHost||F&&F.domainHost))try{x.host=xe.toASCII(x.host.replace(y.PCT_ENCODED,qe).toLowerCase())}catch(B){x.error=x.error||"Host's domain name can not be converted to ASCII via punycode: "+B}M(x,l)}else M(x,y);F&&F.parse&&F.parse(x,O)}else x.error=x.error||"URI can not be parsed.";return x}function Me(N,O){var x=O.iri!==!1?c:l,y=[];return N.userinfo!==void 0&&(y.push(N.userinfo),y.push("@")),N.host!==void 0&&y.push(he(se(String(N.host),x),x).replace(x.IPV6ADDRESS,function(E,F,B){return"["+F+(B?"%25"+B:"")+"]"})),(typeof N.port=="number"||typeof N.port=="string")&&(y.push(":"),y.push(String(N.port))),y.length?y.join(""):void 0}var _e=/^\.\.?\//,it=/^\/\.(\/|$)/,ot=/^\/\.\.(\/|$)/,Ce=/^\/?(?:.|\n)*?(?=\/|$)/;function dt(N){for(var O=[];N.length;)if(N.match(_e))N=N.replace(_e,"");else if(N.match(it))N=N.replace(it,"/");else if(N.match(ot))N=N.replace(ot,"/"),O.pop();else if(N==="."||N==="..")N="";else{var x=N.match(Ce);if(x){var y=x[0];N=N.slice(y.length),O.push(y)}else throw new Error("Unexpected dot segment condition")}return O.join("")}function Qe(N){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=O.iri?c:l,y=[],E=Pe[(O.scheme||N.scheme||"").toLowerCase()];if(E&&E.serialize&&E.serialize(N,O),N.host&&!x.IPV6ADDRESS.test(N.host)){if(O.domainHost||E&&E.domainHost)try{N.host=O.iri?xe.toUnicode(N.host):xe.toASCII(N.host.replace(x.PCT_ENCODED,qe).toLowerCase())}catch(Q){N.error=N.error||"Host's domain name can not be converted to "+(O.iri?"Unicode":"ASCII")+" via punycode: "+Q}}M(N,x),O.reference!=="suffix"&&N.scheme&&(y.push(N.scheme),y.push(":"));var F=Me(N,O);if(F!==void 0&&(O.reference!=="suffix"&&y.push("//"),y.push(F),N.path&&N.path.charAt(0)!=="/"&&y.push("/")),N.path!==void 0){var B=N.path;!O.absolutePath&&(!E||!E.absolutePath)&&(B=dt(B)),F===void 0&&(B=B.replace(/^\/\//,"/%2F")),y.push(B)}return N.query!==void 0&&(y.push("?"),y.push(N.query)),N.fragment!==void 0&&(y.push("#"),y.push(N.fragment)),y.join("")}function ut(N,O){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=arguments[3],E={};return y||(N=ue(Qe(N,x),x),O=ue(Qe(O,x),x)),x=x||{},!x.tolerant&&O.scheme?(E.scheme=O.scheme,E.userinfo=O.userinfo,E.host=O.host,E.port=O.port,E.path=dt(O.path||""),E.query=O.query):(O.userinfo!==void 0||O.host!==void 0||O.port!==void 0?(E.userinfo=O.userinfo,E.host=O.host,E.port=O.port,E.path=dt(O.path||""),E.query=O.query):(O.path?(O.path.charAt(0)==="/"?E.path=dt(O.path):((N.userinfo!==void 0||N.host!==void 0||N.port!==void 0)&&!N.path?E.path="/"+O.path:N.path?E.path=N.path.slice(0,N.path.lastIndexOf("/")+1)+O.path:E.path=O.path,E.path=dt(E.path)),E.query=O.query):(E.path=N.path,O.query!==void 0?E.query=O.query:E.query=N.query),E.userinfo=N.userinfo,E.host=N.host,E.port=N.port),E.scheme=N.scheme),E.fragment=O.fragment,E}function tt(N,O,x){var y=n({scheme:"null"},x);return Qe(ut(ue(N,y),ue(O,y),y,!0),y)}function ct(N,O){return typeof N=="string"?N=Qe(ue(N,O),O):s(N)==="object"&&(N=ue(Qe(N,O),O)),N}function jt(N,O,x){return typeof N=="string"?N=Qe(ue(N,x),x):s(N)==="object"&&(N=Qe(N,x)),typeof O=="string"?O=Qe(ue(O,x),x):s(O)==="object"&&(O=Qe(O,x)),N===O}function Mt(N,O){return N&&N.toString().replace(!O||!O.iri?l.ESCAPE:c.ESCAPE,Ae)}function qt(N,O){return N&&N.toString().replace(!O||!O.iri?l.PCT_ENCODED:c.PCT_ENCODED,qe)}var xs={scheme:"http",domainHost:!0,parse:function(O,x){return O.host||(O.error=O.error||"HTTP URIs must have a host."),O},serialize:function(O,x){var y=String(O.scheme).toLowerCase()==="https";return(O.port===(y?443:80)||O.port==="")&&(O.port=void 0),O.path||(O.path="/"),O}},Jt={scheme:"https",domainHost:xs.domainHost,parse:xs.parse,serialize:xs.serialize};function Vs(N){return typeof N.secure=="boolean"?N.secure:String(N.scheme).toLowerCase()==="wss"}var Gs={scheme:"ws",domainHost:!0,parse:function(O,x){var y=O;return y.secure=Vs(y),y.resourceName=(y.path||"/")+(y.query?"?"+y.query:""),y.path=void 0,y.query=void 0,y},serialize:function(O,x){if((O.port===(Vs(O)?443:80)||O.port==="")&&(O.port=void 0),typeof O.secure=="boolean"&&(O.scheme=O.secure?"wss":"ws",O.secure=void 0),O.resourceName){var y=O.resourceName.split("?"),E=u(y,2),F=E[0],B=E[1];O.path=F&&F!=="/"?F:void 0,O.query=B,O.resourceName=void 0}return O.fragment=void 0,O}},qi={scheme:"wss",domainHost:Gs.domainHost,parse:Gs.parse,serialize:Gs.serialize},ba={},oc=!0,cc="[A-Za-z0-9\\-\\.\\_\\~"+(oc?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Sr="[0-9A-Fa-f]",lc=r(r("%[EFef]"+Sr+"%"+Sr+Sr+"%"+Sr+Sr)+"|"+r("%[89A-Fa-f]"+Sr+"%"+Sr+Sr)+"|"+r("%"+Sr+Sr)),Er="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",fp="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",mp=e(fp,'[\\"\\\\]'),hp="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",vp=new RegExp(cc,"g"),Ws=new RegExp(lc,"g"),gp=new RegExp(e("[^]",Er,"[\\.]",'[\\"]',mp),"g"),bs=new RegExp(e("[^]",cc,hp),"g"),yp=bs;function Cn(N){var O=qe(N);return O.match(vp)?O:N}var uc={scheme:"mailto",parse:function(O,x){var y=O,E=y.to=y.path?y.path.split(","):[];if(y.path=void 0,y.query){for(var F=!1,B={},Q=y.query.split("&"),ce=0,Se=Q.length;ce<Se;++ce){var ve=Q[ce].split("=");switch(ve[0]){case"to":for(var Ue=ve[1].split(","),we=0,Ie=Ue.length;we<Ie;++we)E.push(Ue[we]);break;case"subject":y.subject=qt(ve[1],x);break;case"body":y.body=qt(ve[1],x);break;default:F=!0,B[qt(ve[0],x)]=qt(ve[1],x);break}}F&&(y.headers=B)}y.query=void 0;for(var Ee=0,De=E.length;Ee<De;++Ee){var ge=E[Ee].split("@");if(ge[0]=qt(ge[0]),x.unicodeSupport)ge[1]=qt(ge[1],x).toLowerCase();else try{ge[1]=xe.toASCII(qt(ge[1],x).toLowerCase())}catch(pt){y.error=y.error||"Email address's domain name can not be converted to ASCII via punycode: "+pt}E[Ee]=ge.join("@")}return y},serialize:function(O,x){var y=O,E=i(O.to);if(E){for(var F=0,B=E.length;F<B;++F){var Q=String(E[F]),ce=Q.lastIndexOf("@"),Se=Q.slice(0,ce).replace(Ws,Cn).replace(Ws,a).replace(gp,Ae),ve=Q.slice(ce+1);try{ve=x.iri?xe.toUnicode(ve):xe.toASCII(qt(ve,x).toLowerCase())}catch(Ee){y.error=y.error||"Email address's domain name can not be converted to "+(x.iri?"Unicode":"ASCII")+" via punycode: "+Ee}E[F]=Se+"@"+ve}y.path=E.join(",")}var Ue=O.headers=O.headers||{};O.subject&&(Ue.subject=O.subject),O.body&&(Ue.body=O.body);var we=[];for(var Ie in Ue)Ue[Ie]!==ba[Ie]&&we.push(Ie.replace(Ws,Cn).replace(Ws,a).replace(bs,Ae)+"="+Ue[Ie].replace(Ws,Cn).replace(Ws,a).replace(yp,Ae));return we.length&&(y.query=we.join("&")),y}},zi=/^([^\:]+)\:(.*)/,Bi={scheme:"urn",parse:function(O,x){var y=O.path&&O.path.match(zi),E=O;if(y){var F=x.scheme||E.scheme||"urn",B=y[1].toLowerCase(),Q=y[2],ce=F+":"+(x.nid||B),Se=Pe[ce];E.nid=B,E.nss=Q,E.path=void 0,Se&&(E=Se.parse(E,x))}else E.error=E.error||"URN can not be parsed.";return E},serialize:function(O,x){var y=x.scheme||O.scheme||"urn",E=O.nid,F=y+":"+(x.nid||E),B=Pe[F];B&&(O=B.serialize(O,x));var Q=O,ce=O.nss;return Q.path=(E||x.nid)+":"+ce,Q}},xp=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Hi={scheme:"urn:uuid",parse:function(O,x){var y=O;return y.uuid=y.nss,y.nss=void 0,!x.tolerant&&(!y.uuid||!y.uuid.match(xp))&&(y.error=y.error||"UUID is not valid."),y},serialize:function(O,x){var y=O;return y.nss=(O.uuid||"").toLowerCase(),y}};Pe[xs.scheme]=xs,Pe[Jt.scheme]=Jt,Pe[Gs.scheme]=Gs,Pe[qi.scheme]=qi,Pe[uc.scheme]=uc,Pe[Bi.scheme]=Bi,Pe[Hi.scheme]=Hi,t.SCHEMES=Pe,t.pctEncChar=Ae,t.pctDecChars=qe,t.parse=ue,t.removeDotSegments=dt,t.serialize=Qe,t.resolveComponents=ut,t.resolve=tt,t.normalize=ct,t.equal=jt,t.escapeComponent=Mt,t.unescapeComponent=qt,Object.defineProperty(t,"__esModule",{value:!0})})});var Eu=z((qte,lR)=>{"use strict";lR.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s,a,i;if(Array.isArray(e)){if(s=e.length,s!=r.length)return!1;for(a=s;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),s=i.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=s;a--!==0;){var n=i[a];if(!t(e[n],r[n]))return!1}return!0}return e!==e&&r!==r}});var pR=z((zte,uR)=>{"use strict";uR.exports=function(e){for(var r=0,s=e.length,a=0,i;a<s;)r++,i=e.charCodeAt(a++),i>=55296&&i<=56319&&a<s&&(i=e.charCodeAt(a),(i&64512)==56320&&a++);return r}});var bn=z((Bte,mR)=>{"use strict";mR.exports={copy:fH,checkDataType:ih,checkDataTypes:mH,coerceToTypes:hH,toHash:ch,getProperty:lh,escapeQuotes:uh,equal:Eu(),ucs2length:pR(),varOccurences:yH,varReplace:xH,schemaHasRules:bH,schemaHasRulesExcept:_H,schemaUnknownRules:wH,toQuotedString:oh,getPathExpr:SH,getPath:EH,getData:CH,unescapeFragment:TH,unescapeJsonPointer:dh,escapeFragment:OH,escapeJsonPointer:ph};function fH(t,e){e=e||{};for(var r in t)e[r]=t[r];return e}function ih(t,e,r,s){var a=s?" !== ":" === ",i=s?" || ":" && ",n=s?"!":"",o=s?"":"!";switch(t){case"null":return e+a+"null";case"array":return n+"Array.isArray("+e+")";case"object":return"("+n+e+i+"typeof "+e+a+'"object"'+i+o+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+a+'"number"'+i+o+"("+e+" % 1)"+i+e+a+e+(r?i+n+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+a+'"'+t+'"'+(r?i+n+"isFinite("+e+")":"")+")";default:return"typeof "+e+a+'"'+t+'"'}}function mH(t,e,r){switch(t.length){case 1:return ih(t[0],e,r,!0);default:var s="",a=ch(t);a.array&&a.object&&(s=a.null?"(":"(!"+e+" || ",s+="typeof "+e+' !== "object")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer;for(var i in a)s+=(s?" && ":"")+ih(i,e,r,!0);return s}}var dR=ch(["string","number","integer","boolean","null"]);function hH(t,e){if(Array.isArray(e)){for(var r=[],s=0;s<e.length;s++){var a=e[s];(dR[a]||t==="array"&&a==="array")&&(r[r.length]=a)}if(r.length)return r}else{if(dR[e])return[e];if(t==="array"&&e==="array")return["array"]}}function ch(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return e}var vH=/^[a-z$_][a-z$_0-9]*$/i,gH=/'|\\/g;function lh(t){return typeof t=="number"?"["+t+"]":vH.test(t)?"."+t:"['"+uh(t)+"']"}function uh(t){return t.replace(gH,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function yH(t,e){e+="[^0-9]";var r=t.match(new RegExp(e,"g"));return r?r.length:0}function xH(t,e,r){return e+="([^0-9])",r=r.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),r+"$1")}function bH(t,e){if(typeof t=="boolean")return!t;for(var r in t)if(e[r])return!0}function _H(t,e,r){if(typeof t=="boolean")return!t&&r!="not";for(var s in t)if(s!=r&&e[s])return!0}function wH(t,e){if(typeof t!="boolean"){for(var r in t)if(!e[r])return r}}function oh(t){return"'"+uh(t)+"'"}function SH(t,e,r,s){var a=r?"'/' + "+e+(s?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):s?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return fR(t,a)}function EH(t,e,r){var s=oh(r?"/"+ph(e):lh(e));return fR(t,s)}var PH=/^\/(?:[^~]|~0|~1)*$/,RH=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function CH(t,e,r){var s,a,i,n;if(t==="")return"rootData";if(t[0]=="/"){if(!PH.test(t))throw new Error("Invalid JSON-pointer: "+t);a=t,i="rootData"}else{if(n=t.match(RH),!n)throw new Error("Invalid JSON-pointer: "+t);if(s=+n[1],a=n[2],a=="#"){if(s>=e)throw new Error("Cannot access property/index "+s+" levels up, current level is "+e);return r[e-s]}if(s>e)throw new Error("Cannot access data "+s+" levels up, current level is "+e);if(i="data"+(e-s||""),!a)return i}for(var o=i,l=a.split("/"),c=0;c<l.length;c++){var u=l[c];u&&(i+=lh(dh(u)),o+=" && "+i)}return o}function fR(t,e){return t=='""'?e:(t+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function TH(t){return dh(decodeURIComponent(t))}function OH(t){return encodeURIComponent(ph(t))}function ph(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function dh(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}});var fh=z((Hte,hR)=>{"use strict";var kH=bn();hR.exports=AH;function AH(t){kH.copy(t,this)}});var gR=z((Vte,vR)=>{"use strict";var fa=vR.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var s=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};Pu(e,s,a,t,"",t)};fa.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};fa.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};fa.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};fa.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Pu(t,e,r,s,a,i,n,o,l,c){if(s&&typeof s=="object"&&!Array.isArray(s)){e(s,a,i,n,o,l,c);for(var u in s){var p=s[u];if(Array.isArray(p)){if(u in fa.arrayKeywords)for(var h=0;h<p.length;h++)Pu(t,e,r,p[h],a+"/"+u+"/"+h,i,a,u,s,h)}else if(u in fa.propsKeywords){if(p&&typeof p=="object")for(var d in p)Pu(t,e,r,p[d],a+"/"+u+"/"+IH(d),i,a,u,s,d)}else(u in fa.keywords||t.allKeys&&!(u in fa.skipKeywords))&&Pu(t,e,r,p,a+"/"+u,i,a,u,s)}r(s,a,i,n,o,l,c)}}function IH(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Au=z((Gte,_R)=>{"use strict";var Ko=cR(),yR=Eu(),Ou=bn(),Ru=fh(),DH=gR();_R.exports=ha;ha.normalizeId=ma;ha.fullPath=Cu;ha.url=Tu;ha.ids=jH;ha.inlineRef=mh;ha.schema=ku;function ha(t,e,r){var s=this._refs[r];if(typeof s=="string")if(this._refs[s])s=this._refs[s];else return ha.call(this,t,e,s);if(s=s||this._schemas[r],s instanceof Ru)return mh(s.schema,this._opts.inlineRefs)?s.schema:s.validate||this._compile(s);var a=ku.call(this,e,r),i,n,o;return a&&(i=a.schema,e=a.root,o=a.baseId),i instanceof Ru?n=i.validate||t.call(this,i.schema,e,void 0,o):i!==void 0&&(n=mh(i,this._opts.inlineRefs)?i:t.call(this,i,e,void 0,o)),n}function ku(t,e){var r=Ko.parse(e),s=bR(r),a=Cu(this._getId(t.schema));if(Object.keys(t.schema).length===0||s!==a){var i=ma(s),n=this._refs[i];if(typeof n=="string")return LH.call(this,t,n,r);if(n instanceof Ru)n.validate||this._compile(n),t=n;else if(n=this._schemas[i],n instanceof Ru){if(n.validate||this._compile(n),i==ma(e))return{schema:n,root:t,baseId:a};t=n}else return;if(!t.schema)return;a=Cu(this._getId(t.schema))}return xR.call(this,r,a,t.schema,t)}function LH(t,e,r){var s=ku.call(this,t,e);if(s){var a=s.schema,i=s.baseId;t=s.root;var n=this._getId(a);return n&&(i=Tu(i,n)),xR.call(this,r,i,a,t)}}var $H=Ou.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function xR(t,e,r,s){if(t.fragment=t.fragment||"",t.fragment.slice(0,1)=="/"){for(var a=t.fragment.split("/"),i=1;i<a.length;i++){var n=a[i];if(n){if(n=Ou.unescapeFragment(n),r=r[n],r===void 0)break;var o;if(!$H[n]&&(o=this._getId(r),o&&(e=Tu(e,o)),r.$ref)){var l=Tu(e,r.$ref),c=ku.call(this,s,l);c&&(r=c.schema,s=c.root,e=c.baseId)}}}if(r!==void 0&&r!==s.schema)return{schema:r,root:s,baseId:e}}}var NH=Ou.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function mh(t,e){if(e===!1)return!1;if(e===void 0||e===!0)return hh(t);if(e)return vh(t)<=e}function hh(t){var e;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(e=t[r],typeof e=="object"&&!hh(e))return!1}else for(var s in t)if(s=="$ref"||(e=t[s],typeof e=="object"&&!hh(e)))return!1;return!0}function vh(t){var e=0,r;if(Array.isArray(t)){for(var s=0;s<t.length;s++)if(r=t[s],typeof r=="object"&&(e+=vh(r)),e==1/0)return 1/0}else for(var a in t){if(a=="$ref")return 1/0;if(NH[a])e++;else if(r=t[a],typeof r=="object"&&(e+=vh(r)+1),e==1/0)return 1/0}return e}function Cu(t,e){e!==!1&&(t=ma(t));var r=Ko.parse(t);return bR(r)}function bR(t){return Ko.serialize(t).split("#")[0]+"#"}var FH=/#\/?$/;function ma(t){return t?t.replace(FH,""):""}function Tu(t,e){return e=ma(e),Ko.resolve(t,e)}function jH(t){var e=ma(this._getId(t)),r={"":e},s={"":Cu(e,!1)},a={},i=this;return DH(t,{allKeys:!0},function(n,o,l,c,u,p,h){if(o!==""){var d=i._getId(n),m=r[c],f=s[c]+"/"+u;if(h!==void 0&&(f+="/"+(typeof h=="number"?h:Ou.escapeFragment(h))),typeof d=="string"){d=m=ma(m?Ko.resolve(m,d):d);var v=i._refs[d];if(typeof v=="string"&&(v=i._refs[v]),v&&v.schema){if(!yR(n,v.schema))throw new Error('id "'+d+'" resolves to more than one schema')}else if(d!=ma(f))if(d[0]=="#"){if(a[d]&&!yR(n,a[d]))throw new Error('id "'+d+'" resolves to more than one schema');a[d]=n}else i._refs[d]=f}r[o]=m,s[o]=f}}),a}});var Iu=z((Wte,SR)=>{"use strict";var gh=Au();SR.exports={Validation:wR(MH),MissingRef:wR(yh)};function MH(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0}yh.message=function(t,e){return"can't resolve reference "+e+" from id "+t};function yh(t,e,r){this.message=r||yh.message(t,e),this.missingRef=gh.url(t,e),this.missingSchema=gh.normalizeId(gh.fullPath(this.missingRef))}function wR(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}});var xh=z((Zte,ER)=>{"use strict";ER.exports=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var r=typeof e.cycles=="boolean"?e.cycles:!1,s=e.cmp&&function(i){return function(n){return function(o,l){var c={key:o,value:n[o]},u={key:l,value:n[l]};return i(c,u)}}}(e.cmp),a=[];return function i(n){if(n&&n.toJSON&&typeof n.toJSON=="function"&&(n=n.toJSON()),n!==void 0){if(typeof n=="number")return isFinite(n)?""+n:"null";if(typeof n!="object")return JSON.stringify(n);var o,l;if(Array.isArray(n)){for(l="[",o=0;o<n.length;o++)o&&(l+=","),l+=i(n[o])||"null";return l+"]"}if(n===null)return"null";if(a.indexOf(n)!==-1){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=a.push(n)-1,u=Object.keys(n).sort(s&&s(n));for(l="",o=0;o<u.length;o++){var p=u[o],h=i(n[p]);h&&(l&&(l+=","),l+=JSON.stringify(p)+":"+h)}return a.splice(c,1),"{"+l+"}"}}(t)}});var bh=z((Kte,PR)=>{"use strict";PR.exports=function(e,r,s){var a="",i=e.schema.$async===!0,n=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var l=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(l){var c="unknown keyword: "+l;if(e.opts.strictKeywords==="log")e.logger.warn(c);else throw new Error(c)}}if(e.isTop&&(a+=" var validate = ",i&&(e.async=!0,a+="async "),a+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(a+=" "+("/*# sourceURL="+o+" */")+" ")),typeof e.schema=="boolean"||!(n||e.schema.$ref)){var r="false schema",u=e.level,p=e.dataLevel,h=e.schema[r],d=e.schemaPath+e.util.getProperty(r),m=e.errSchemaPath+"/"+r,C=!e.opts.allErrors,$,f="data"+(p||""),R="valid"+u;if(e.schema===!1){e.isTop?C=!0:a+=" var "+R+" = false; ";var v=v||[];v.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+($||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'boolean schema is false' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var g=a;a=v.pop(),!e.compositeRule&&C?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?i?a+=" return data; ":a+=" validate.errors = null; return true; ":a+=" var "+R+" = true; ";return e.isTop&&(a+=" }; return validate; "),a}if(e.isTop){var b=e.isTop,u=e.level=0,p=e.dataLevel=0,f="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var w="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}a+=" var vErrors = null; ",a+=" var errors = 0;     ",a+=" if (rootData === undefined) rootData = data; "}else{var u=e.level,p=e.dataLevel,f="data"+(p||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),i&&!e.async)throw new Error("async schema in sync schema");a+=" var errs_"+u+" = errors;"}var R="valid"+u,C=!e.opts.allErrors,P="",T="",$,D=e.schema.type,j=Array.isArray(D);if(D&&e.opts.nullable&&e.schema.nullable===!0&&(j?D.indexOf("null")==-1&&(D=D.concat("null")):D!="null"&&(D=[D,"null"],j=!0)),j&&D.length==1&&(D=D[0],j=!1),e.schema.$ref&&n){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(n=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(a+=" "+e.RULES.all.$comment.code(e,"$comment")),D){if(e.opts.coerceTypes)var I=e.util.coerceToTypes(e.opts.coerceTypes,D);var k=e.RULES.types[D];if(I||j||k===!0||k&&!Ce(k)){var d=e.schemaPath+".type",m=e.errSchemaPath+"/type",d=e.schemaPath+".type",m=e.errSchemaPath+"/type",A=j?"checkDataTypes":"checkDataType";if(a+=" if ("+e.util[A](D,f,e.opts.strictNumbers,!0)+") { ",I){var L="dataType"+u,q="coerced"+u;a+=" var "+L+" = typeof "+f+"; var "+q+" = undefined; ",e.opts.coerceTypes=="array"&&(a+=" if ("+L+" == 'object' && Array.isArray("+f+") && "+f+".length == 1) { "+f+" = "+f+"[0]; "+L+" = typeof "+f+"; if ("+e.util.checkDataType(e.schema.type,f,e.opts.strictNumbers)+") "+q+" = "+f+"; } "),a+=" if ("+q+" !== undefined) ; ";var V=I;if(V)for(var H,G=-1,Z=V.length-1;G<Z;)H=V[G+=1],H=="string"?a+=" else if ("+L+" == 'number' || "+L+" == 'boolean') "+q+" = '' + "+f+"; else if ("+f+" === null) "+q+" = ''; ":H=="number"||H=="integer"?(a+=" else if ("+L+" == 'boolean' || "+f+" === null || ("+L+" == 'string' && "+f+" && "+f+" == +"+f+" ",H=="integer"&&(a+=" && !("+f+" % 1)"),a+=")) "+q+" = +"+f+"; "):H=="boolean"?a+=" else if ("+f+" === 'false' || "+f+" === 0 || "+f+" === null) "+q+" = false; else if ("+f+" === 'true' || "+f+" === 1) "+q+" = true; ":H=="null"?a+=" else if ("+f+" === '' || "+f+" === 0 || "+f+" === false) "+q+" = null; ":e.opts.coerceTypes=="array"&&H=="array"&&(a+=" else if ("+L+" == 'string' || "+L+" == 'number' || "+L+" == 'boolean' || "+f+" == null) "+q+" = ["+f+"]; ");a+=" else {   ";var v=v||[];v.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+($||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",j?a+=""+D.join(","):a+=""+D,a+="' } ",e.opts.messages!==!1&&(a+=" , message: 'should be ",j?a+=""+D.join(","):a+=""+D,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var g=a;a=v.pop(),!e.compositeRule&&C?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } if ("+q+" !== undefined) {  ";var K=p?"data"+(p-1||""):"parentData",re=p?e.dataPathArr[p]:"parentDataProperty";a+=" "+f+" = "+q+"; ",p||(a+="if ("+K+" !== undefined)"),a+=" "+K+"["+re+"] = "+q+"; } "}else{var v=v||[];v.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+($||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",j?a+=""+D.join(","):a+=""+D,a+="' } ",e.opts.messages!==!1&&(a+=" , message: 'should be ",j?a+=""+D.join(","):a+=""+D,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var g=a;a=v.pop(),!e.compositeRule&&C?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}a+=" } "}}if(e.schema.$ref&&!n)a+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",C&&(a+=" } if (errors === ",b?a+="0":a+="errs_"+u,a+=") { ",T+="}");else{var le=e.RULES;if(le){for(var k,Je=-1,xe=le.length-1;Je<xe;)if(k=le[Je+=1],Ce(k)){if(k.type&&(a+=" if ("+e.util.checkDataType(k.type,f,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(k.type=="object"&&e.schema.properties){var h=e.schema.properties,Pe=Object.keys(h),Ae=Pe;if(Ae)for(var qe,M=-1,W=Ae.length-1;M<W;){qe=Ae[M+=1];var se=h[qe];if(se.default!==void 0){var he=f+e.util.getProperty(qe);if(e.compositeRule){if(e.opts.strictDefaults){var w="default is ignored for: "+he;if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}}else a+=" if ("+he+" === undefined ",e.opts.useDefaults=="empty"&&(a+=" || "+he+" === null || "+he+" === '' "),a+=" ) "+he+" = ",e.opts.useDefaults=="shared"?a+=" "+e.useDefault(se.default)+" ":a+=" "+JSON.stringify(se.default)+" ",a+="; "}}}else if(k.type=="array"&&Array.isArray(e.schema.items)){var J=e.schema.items;if(J){for(var se,G=-1,X=J.length-1;G<X;)if(se=J[G+=1],se.default!==void 0){var he=f+"["+G+"]";if(e.compositeRule){if(e.opts.strictDefaults){var w="default is ignored for: "+he;if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}}else a+=" if ("+he+" === undefined ",e.opts.useDefaults=="empty"&&(a+=" || "+he+" === null || "+he+" === '' "),a+=" ) "+he+" = ",e.opts.useDefaults=="shared"?a+=" "+e.useDefault(se.default)+" ":a+=" "+JSON.stringify(se.default)+" ",a+="; "}}}}var ue=k.rules;if(ue){for(var Me,_e=-1,it=ue.length-1;_e<it;)if(Me=ue[_e+=1],dt(Me)){var ot=Me.code(e,Me.keyword,k.type);ot&&(a+=" "+ot+" ",C&&(P+="}"))}}if(C&&(a+=" "+P+" ",P=""),k.type&&(a+=" } ",D&&D===k.type&&!I)){a+=" else { ";var d=e.schemaPath+".type",m=e.errSchemaPath+"/type",v=v||[];v.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+($||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",j?a+=""+D.join(","):a+=""+D,a+="' } ",e.opts.messages!==!1&&(a+=" , message: 'should be ",j?a+=""+D.join(","):a+=""+D,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var g=a;a=v.pop(),!e.compositeRule&&C?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } "}C&&(a+=" if (errors === ",b?a+="0":a+="errs_"+u,a+=") { ",T+="}")}}}C&&(a+=" "+T+" "),b?(i?(a+=" if (errors === 0) return data;           ",a+=" else throw new ValidationError(vErrors); "):(a+=" validate.errors = vErrors; ",a+=" return errors === 0;       "),a+=" }; return validate;"):a+=" var "+R+" = errors === errs_"+u+";";function Ce(ut){for(var tt=ut.rules,ct=0;ct<tt.length;ct++)if(dt(tt[ct]))return!0}function dt(ut){return e.schema[ut.keyword]!==void 0||ut.implements&&Qe(ut)}function Qe(ut){for(var tt=ut.implements,ct=0;ct<tt.length;ct++)if(e.schema[tt[ct]]!==void 0)return!0}return a}});var kR=z((Jte,OR)=>{"use strict";var Du=Au(),$u=bn(),CR=Iu(),UH=xh(),RR=bh(),qH=$u.ucs2length,zH=Eu(),BH=CR.Validation;OR.exports=_h;function _h(t,e,r,s){var a=this,i=this._opts,n=[void 0],o={},l=[],c={},u=[],p={},h=[];e=e||{schema:t,refVal:n,refs:o};var d=HH.call(this,t,e,s),m=this._compilations[d.index];if(d.compiling)return m.callValidate=w;var f=this._formats,v=this.RULES;try{var g=R(t,e,r,s);m.validate=g;var b=m.callValidate;return b&&(b.schema=g.schema,b.errors=null,b.refs=g.refs,b.refVal=g.refVal,b.root=g.root,b.$async=g.$async,i.sourceCode&&(b.source=g.source)),g}finally{VH.call(this,t,e,s)}function w(){var A=m.validate,L=A.apply(this,arguments);return w.errors=A.errors,L}function R(A,L,q,V){var H=!L||L&&L.schema==A;if(L.schema!=e.schema)return _h.call(a,A,L,q,V);var G=A.$async===!0,Z=RR({isTop:!0,schema:A,isRoot:H,baseId:V,root:L,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:CR.MissingRef,RULES:v,validate:RR,util:$u,resolve:Du,resolveRef:C,usePattern:j,useDefault:I,useCustomRule:k,opts:i,formats:f,logger:a.logger,self:a});Z=Lu(n,ZH)+Lu(l,GH)+Lu(u,WH)+Lu(h,KH)+Z,i.processCode&&(Z=i.processCode(Z,A));var K;try{var re=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",Z);K=re(a,v,f,e,n,u,h,zH,qH,BH),n[0]=K}catch(le){throw a.logger.error("Error compiling schema, function code:",Z),le}return K.schema=A,K.errors=null,K.refs=o,K.refVal=n,K.root=H?K:L,G&&(K.$async=!0),i.sourceCode===!0&&(K.source={code:Z,patterns:l,defaults:u}),K}function C(A,L,q){L=Du.url(A,L);var V=o[L],H,G;if(V!==void 0)return H=n[V],G="refVal["+V+"]",D(H,G);if(!q&&e.refs){var Z=e.refs[L];if(Z!==void 0)return H=e.refVal[Z],G=P(L,H),D(H,G)}G=P(L);var K=Du.call(a,R,e,L);if(K===void 0){var re=r&&r[L];re&&(K=Du.inlineRef(re,i.inlineRefs)?re:_h.call(a,re,e,r,A))}if(K===void 0)T(L);else return $(L,K),D(K,G)}function P(A,L){var q=n.length;return n[q]=L,o[A]=q,"refVal"+q}function T(A){delete o[A]}function $(A,L){var q=o[A];n[q]=L}function D(A,L){return typeof A=="object"||typeof A=="boolean"?{code:L,schema:A,inline:!0}:{code:L,$async:A&&!!A.$async}}function j(A){var L=c[A];return L===void 0&&(L=c[A]=l.length,l[L]=A),"pattern"+L}function I(A){switch(typeof A){case"boolean":case"number":return""+A;case"string":return $u.toQuotedString(A);case"object":if(A===null)return"null";var L=UH(A),q=p[L];return q===void 0&&(q=p[L]=u.length,u[q]=A),"default"+q}}function k(A,L,q,V){if(a._opts.validateSchema!==!1){var H=A.definition.dependencies;if(H&&!H.every(function(Ae){return Object.prototype.hasOwnProperty.call(q,Ae)}))throw new Error("parent schema must have all required keywords: "+H.join(","));var G=A.definition.validateSchema;if(G){var Z=G(L);if(!Z){var K="keyword schema is invalid: "+a.errorsText(G.errors);if(a._opts.validateSchema=="log")a.logger.error(K);else throw new Error(K)}}}var re=A.definition.compile,le=A.definition.inline,Je=A.definition.macro,xe;if(re)xe=re.call(a,L,q,V);else if(Je)xe=Je.call(a,L,q,V),i.validateSchema!==!1&&a.validateSchema(xe,!0);else if(le)xe=le.call(a,V,A.keyword,L,q);else if(xe=A.definition.validate,!xe)return;if(xe===void 0)throw new Error('custom keyword "'+A.keyword+'"failed to compile');var Pe=h.length;return h[Pe]=xe,{code:"customRule"+Pe,validate:xe}}}function HH(t,e,r){var s=TR.call(this,t,e,r);return s>=0?{index:s,compiling:!0}:(s=this._compilations.length,this._compilations[s]={schema:t,root:e,baseId:r},{index:s,compiling:!1})}function VH(t,e,r){var s=TR.call(this,t,e,r);s>=0&&this._compilations.splice(s,1)}function TR(t,e,r){for(var s=0;s<this._compilations.length;s++){var a=this._compilations[s];if(a.schema==t&&a.root==e&&a.baseId==r)return s}return-1}function GH(t,e){return"var pattern"+t+" = new RegExp("+$u.toQuotedString(e[t])+");"}function WH(t){return"var default"+t+" = defaults["+t+"];"}function ZH(t,e){return e[t]===void 0?"":"var refVal"+t+" = refVal["+t+"];"}function KH(t){return"var customRule"+t+" = customRules["+t+"];"}function Lu(t,e){if(!t.length)return"";for(var r="",s=0;s<t.length;s++)r+=e(s,t);return r}});var IR=z((Qte,AR)=>{"use strict";var Nu=AR.exports=function(){this._cache={}};Nu.prototype.put=function(e,r){this._cache[e]=r};Nu.prototype.get=function(e){return this._cache[e]};Nu.prototype.del=function(e){delete this._cache[e]};Nu.prototype.clear=function(){this._cache={}}});var HR=z((Xte,BR)=>{"use strict";var JH=bn(),QH=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,XH=[0,31,28,31,30,31,30,31,31,30,31,30,31],YH=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,DR=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,eV=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,tV=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,LR=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,$R=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,NR=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,FR=/^(?:\/(?:[^~/]|~0|~1)*)*$/,jR=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,MR=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;BR.exports=Fu;function Fu(t){return t=t=="full"?"full":"fast",JH.copy(Fu[t])}Fu.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":LR,url:$R,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:DR,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:zR,uuid:NR,"json-pointer":FR,"json-pointer-uri-fragment":jR,"relative-json-pointer":MR};Fu.full={date:UR,time:qR,"date-time":aV,uri:iV,"uri-reference":tV,"uri-template":LR,url:$R,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:DR,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:zR,uuid:NR,"json-pointer":FR,"json-pointer-uri-fragment":jR,"relative-json-pointer":MR};function rV(t){return t%4===0&&(t%100!==0||t%400===0)}function UR(t){var e=t.match(QH);if(!e)return!1;var r=+e[1],s=+e[2],a=+e[3];return s>=1&&s<=12&&a>=1&&a<=(s==2&&rV(r)?29:XH[s])}function qR(t,e){var r=t.match(YH);if(!r)return!1;var s=r[1],a=r[2],i=r[3],n=r[5];return(s<=23&&a<=59&&i<=59||s==23&&a==59&&i==60)&&(!e||n)}var sV=/t|\s/i;function aV(t){var e=t.split(sV);return e.length==2&&UR(e[0])&&qR(e[1],!0)}var nV=/\/|:/;function iV(t){return nV.test(t)&&eV.test(t)}var oV=/[^\\]\\Z/;function zR(t){if(oV.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var GR=z((Yte,VR)=>{"use strict";VR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(n||""),p="valid"+i,h,d;if(o=="#"||o=="#/")e.isRoot?(h=e.async,d="validate"):(h=e.root.schema.$async===!0,d="root.refVal[0]");else{var m=e.resolveRef(e.baseId,o,e.isRoot);if(m===void 0){var f=e.MissingRefError.message(e.baseId,o);if(e.opts.missingRefs=="fail"){e.logger.error(f);var v=v||[];v.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(o)+"' } ",e.opts.messages!==!1&&(a+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(o)+"' "),e.opts.verbose&&(a+=" , schema: "+e.util.toQuotedString(o)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var g=a;a=v.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(a+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(f),c&&(a+=" if (true) { ");else throw new e.MissingRefError(e.baseId,o,f)}else if(m.inline){var b=e.util.copy(e);b.level++;var w="valid"+b.level;b.schema=m.schema,b.schemaPath="",b.errSchemaPath=o;var R=e.validate(b).replace(/validate\.schema/g,m.code);a+=" "+R+" ",c&&(a+=" if ("+w+") { ")}else h=m.$async===!0||e.async&&m.$async!==!1,d=m.code}if(d){var v=v||[];v.push(a),a="",e.opts.passContext?a+=" "+d+".call(this, ":a+=" "+d+"( ",a+=" "+u+", (dataPath || '')",e.errorPath!='""'&&(a+=" + "+e.errorPath);var C=n?"data"+(n-1||""):"parentData",P=n?e.dataPathArr[n]:"parentDataProperty";a+=" , "+C+" , "+P+", rootData)  ";var T=a;if(a=v.pop(),h){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(a+=" var "+p+"; "),a+=" try { await "+T+"; ",c&&(a+=" "+p+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(a+=" "+p+" = false; "),a+=" } ",c&&(a+=" if ("+p+") { ")}else a+=" if (!"+T+") { if (vErrors === null) vErrors = "+d+".errors; else vErrors = vErrors.concat("+d+".errors); errors = vErrors.length; } ",c&&(a+=" else { ")}return a}});var ZR=z((ere,WR)=>{"use strict";WR.exports=function(e,r,s){var a=" ",i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),o=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c=e.util.copy(e),u="";c.level++;var p="valid"+c.level,h=c.baseId,d=!0,m=i;if(m)for(var f,v=-1,g=m.length-1;v<g;)f=m[v+=1],(e.opts.strictKeywords?typeof f=="object"&&Object.keys(f).length>0||f===!1:e.util.schemaHasRules(f,e.RULES.all))&&(d=!1,c.schema=f,c.schemaPath=n+"["+v+"]",c.errSchemaPath=o+"/"+v,a+="  "+e.validate(c)+" ",c.baseId=h,l&&(a+=" if ("+p+") { ",u+="}"));return l&&(d?a+=" if (true) { ":a+=" "+u.slice(0,-1)+" "),a}});var JR=z((tre,KR)=>{"use strict";KR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d="errs__"+i,m=e.util.copy(e),f="";m.level++;var v="valid"+m.level,g=o.every(function($){return e.opts.strictKeywords?typeof $=="object"&&Object.keys($).length>0||$===!1:e.util.schemaHasRules($,e.RULES.all)});if(g){var b=m.baseId;a+=" var "+d+" = errors; var "+h+" = false;  ";var w=e.compositeRule;e.compositeRule=m.compositeRule=!0;var R=o;if(R)for(var C,P=-1,T=R.length-1;P<T;)C=R[P+=1],m.schema=C,m.schemaPath=l+"["+P+"]",m.errSchemaPath=c+"/"+P,a+="  "+e.validate(m)+" ",m.baseId=b,a+=" "+h+" = "+h+" || "+v+"; if (!"+h+") { ",f+="}";e.compositeRule=m.compositeRule=w,a+=" "+f+" if (!"+h+") {   var err =   ",e.createErrors!==!1?(a+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else u&&(a+=" if (true) { ");return a}});var XR=z((rre,QR)=>{"use strict";QR.exports=function(e,r,s){var a=" ",i=e.schema[r],n=e.errSchemaPath+"/"+r,o=!e.opts.allErrors,l=e.util.toQuotedString(i);return e.opts.$comment===!0?a+=" console.log("+l+");":typeof e.opts.$comment=="function"&&(a+=" self._opts.$comment("+l+", "+e.util.toQuotedString(n)+", validate.root.schema);"),a}});var eC=z((sre,YR)=>{"use strict";YR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d=e.opts.$data&&o&&o.$data,m;d?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",m="schema"+i):m=o,d||(a+=" var schema"+i+" = validate.schema"+l+";"),a+="var "+h+" = equal("+p+", schema"+i+"); if (!"+h+") {   ";var f=f||[];f.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValue: schema"+i+" } ",e.opts.messages!==!1&&(a+=" , message: 'should be equal to constant' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var v=a;return a=f.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+v+"]); ":a+=" validate.errors = ["+v+"]; return false; ":a+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",u&&(a+=" else { "),a}});var rC=z((are,tC)=>{"use strict";tC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d="errs__"+i,m=e.util.copy(e),f="";m.level++;var v="valid"+m.level,g="i"+i,b=m.dataLevel=e.dataLevel+1,w="data"+b,R=e.baseId,C=e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all);if(a+="var "+d+" = errors;var "+h+";",C){var P=e.compositeRule;e.compositeRule=m.compositeRule=!0,m.schema=o,m.schemaPath=l,m.errSchemaPath=c,a+=" var "+v+" = false; for (var "+g+" = 0; "+g+" < "+p+".length; "+g+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var T=p+"["+g+"]";m.dataPathArr[b]=g;var $=e.validate(m);m.baseId=R,e.util.varOccurences($,w)<2?a+=" "+e.util.varReplace($,w,T)+" ":a+=" var "+w+" = "+T+"; "+$+" ",a+=" if ("+v+") break; }  ",e.compositeRule=m.compositeRule=P,a+=" "+f+" if (!"+v+") {"}else a+=" if ("+p+".length == 0) {";var D=D||[];D.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'should contain a valid item' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var j=a;return a=D.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+j+"]); ":a+=" validate.errors = ["+j+"]; return false; ":a+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { ",C&&(a+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(a+=" } "),a}});var aC=z((nre,sC)=>{"use strict";sC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="errs__"+i,d=e.util.copy(e),m="";d.level++;var f="valid"+d.level,v={},g={},b=e.opts.ownProperties;for(P in o)if(P!="__proto__"){var w=o[P],R=Array.isArray(w)?g:v;R[P]=w}a+="var "+h+" = errors;";var C=e.errorPath;a+="var missing"+i+";";for(var P in g)if(R=g[P],R.length){if(a+=" if ( "+p+e.util.getProperty(P)+" !== undefined ",b&&(a+=" && Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes(P)+"') "),u){a+=" && ( ";var T=R;if(T)for(var $,D=-1,j=T.length-1;D<j;){$=T[D+=1],D&&(a+=" || ");var I=e.util.getProperty($),k=p+I;a+=" ( ( "+k+" === undefined ",b&&(a+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes($)+"') "),a+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?$:I)+") ) "}a+=")) {  ";var A="missing"+i,L="' + "+A+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(C,A,!0):C+" + "+A);var q=q||[];q.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(P)+"', missingProperty: '"+L+"', depsCount: "+R.length+", deps: '"+e.util.escapeQuotes(R.length==1?R[0]:R.join(", "))+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should have ",R.length==1?a+="property "+e.util.escapeQuotes(R[0]):a+="properties "+e.util.escapeQuotes(R.join(", ")),a+=" when property "+e.util.escapeQuotes(P)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var V=a;a=q.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+V+"]); ":a+=" validate.errors = ["+V+"]; return false; ":a+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var H=R;if(H)for(var $,G=-1,Z=H.length-1;G<Z;){$=H[G+=1];var I=e.util.getProperty($),L=e.util.escapeQuotes($),k=p+I;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(C,$,e.opts.jsonPointers)),a+=" if ( "+k+" === undefined ",b&&(a+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes($)+"') "),a+=") {  var err =   ",e.createErrors!==!1?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(P)+"', missingProperty: '"+L+"', depsCount: "+R.length+", deps: '"+e.util.escapeQuotes(R.length==1?R[0]:R.join(", "))+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should have ",R.length==1?a+="property "+e.util.escapeQuotes(R[0]):a+="properties "+e.util.escapeQuotes(R.join(", ")),a+=" when property "+e.util.escapeQuotes(P)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",u&&(m+="}",a+=" else { ")}e.errorPath=C;var K=d.baseId;for(var P in v){var w=v[P];(e.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:e.util.schemaHasRules(w,e.RULES.all))&&(a+=" "+f+" = true; if ( "+p+e.util.getProperty(P)+" !== undefined ",b&&(a+=" && Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes(P)+"') "),a+=") { ",d.schema=w,d.schemaPath=l+e.util.getProperty(P),d.errSchemaPath=c+"/"+e.util.escapeFragment(P),a+="  "+e.validate(d)+" ",d.baseId=K,a+=" }  ",u&&(a+=" if ("+f+") { ",m+="}"))}return u&&(a+="   "+m+" if ("+h+" == errors) {"),a}});var iC=z((ire,nC)=>{"use strict";nC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d=e.opts.$data&&o&&o.$data,m;d?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",m="schema"+i):m=o;var f="i"+i,v="schema"+i;d||(a+=" var "+v+" = validate.schema"+l+";"),a+="var "+h+";",d&&(a+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),a+=""+h+" = false;for (var "+f+"=0; "+f+"<"+v+".length; "+f+"++) if (equal("+p+", "+v+"["+f+"])) { "+h+" = true; break; }",d&&(a+="  }  "),a+=" if (!"+h+") {   ";var g=g||[];g.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValues: schema"+i+" } ",e.opts.messages!==!1&&(a+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var b=a;return a=g.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+b+"]); ":a+=" validate.errors = ["+b+"]; return false; ":a+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",u&&(a+=" else { "),a}});var cC=z((ore,oC)=>{"use strict";oC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||"");if(e.opts.format===!1)return u&&(a+=" if (true) { "),a;var h=e.opts.$data&&o&&o.$data,d;h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",d="schema"+i):d=o;var m=e.opts.unknownFormats,f=Array.isArray(m);if(h){var v="format"+i,g="isObject"+i,b="formatType"+i;a+=" var "+v+" = formats["+d+"]; var "+g+" = typeof "+v+" == 'object' && !("+v+" instanceof RegExp) && "+v+".validate; var "+b+" = "+g+" && "+v+".type || 'string'; if ("+g+") { ",e.async&&(a+=" var async"+i+" = "+v+".async; "),a+=" "+v+" = "+v+".validate; } if (  ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),a+=" (",m!="ignore"&&(a+=" ("+d+" && !"+v+" ",f&&(a+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),a+=") || "),a+=" ("+v+" && "+b+" == '"+s+"' && !(typeof "+v+" == 'function' ? ",e.async?a+=" (async"+i+" ? await "+v+"("+p+") : "+v+"("+p+")) ":a+=" "+v+"("+p+") ",a+=" : "+v+".test("+p+"))))) {"}else{var v=e.formats[o];if(!v){if(m=="ignore")return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(a+=" if (true) { "),a;if(f&&m.indexOf(o)>=0)return u&&(a+=" if (true) { "),a;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var g=typeof v=="object"&&!(v instanceof RegExp)&&v.validate,b=g&&v.type||"string";if(g){var w=v.async===!0;v=v.validate}if(b!=s)return u&&(a+=" if (true) { "),a;if(w){if(!e.async)throw new Error("async format in sync schema");var R="formats"+e.util.getProperty(o)+".validate";a+=" if (!(await "+R+"("+p+"))) { "}else{a+=" if (! ";var R="formats"+e.util.getProperty(o);g&&(R+=".validate"),typeof v=="function"?a+=" "+R+"("+p+") ":a+=" "+R+".test("+p+") ",a+=") { "}}var C=C||[];C.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",h?a+=""+d:a+=""+e.util.toQuotedString(o),a+="  } ",e.opts.messages!==!1&&(a+=` , message: 'should match format "`,h?a+="' + "+d+" + '":a+=""+e.util.escapeQuotes(o),a+=`"' `),e.opts.verbose&&(a+=" , schema:  ",h?a+="validate.schema"+l:a+=""+e.util.toQuotedString(o),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var P=a;return a=C.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+P+"]); ":a+=" validate.errors = ["+P+"]; return false; ":a+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",u&&(a+=" else { "),a}});var uC=z((cre,lC)=>{"use strict";lC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d="errs__"+i,m=e.util.copy(e);m.level++;var f="valid"+m.level,v=e.schema.then,g=e.schema.else,b=v!==void 0&&(e.opts.strictKeywords?typeof v=="object"&&Object.keys(v).length>0||v===!1:e.util.schemaHasRules(v,e.RULES.all)),w=g!==void 0&&(e.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:e.util.schemaHasRules(g,e.RULES.all)),R=m.baseId;if(b||w){var C;m.createErrors=!1,m.schema=o,m.schemaPath=l,m.errSchemaPath=c,a+=" var "+d+" = errors; var "+h+" = true;  ";var P=e.compositeRule;e.compositeRule=m.compositeRule=!0,a+="  "+e.validate(m)+" ",m.baseId=R,m.createErrors=!0,a+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=m.compositeRule=P,b?(a+=" if ("+f+") {  ",m.schema=e.schema.then,m.schemaPath=e.schemaPath+".then",m.errSchemaPath=e.errSchemaPath+"/then",a+="  "+e.validate(m)+" ",m.baseId=R,a+=" "+h+" = "+f+"; ",b&&w?(C="ifClause"+i,a+=" var "+C+" = 'then'; "):C="'then'",a+=" } ",w&&(a+=" else { ")):a+=" if (!"+f+") { ",w&&(m.schema=e.schema.else,m.schemaPath=e.schemaPath+".else",m.errSchemaPath=e.errSchemaPath+"/else",a+="  "+e.validate(m)+" ",m.baseId=R,a+=" "+h+" = "+f+"; ",b&&w?(C="ifClause"+i,a+=" var "+C+" = 'else'; "):C="'else'",a+=" } "),a+=" if (!"+h+") {   var err =   ",e.createErrors!==!1?(a+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { failingKeyword: "+C+" } ",e.opts.messages!==!1&&(a+=` , message: 'should match "' + `+C+` + '" schema' `),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" }   ",u&&(a+=" else { ")}else u&&(a+=" if (true) { ");return a}});var dC=z((lre,pC)=>{"use strict";pC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d="errs__"+i,m=e.util.copy(e),f="";m.level++;var v="valid"+m.level,g="i"+i,b=m.dataLevel=e.dataLevel+1,w="data"+b,R=e.baseId;if(a+="var "+d+" = errors;var "+h+";",Array.isArray(o)){var C=e.schema.additionalItems;if(C===!1){a+=" "+h+" = "+p+".length <= "+o.length+"; ";var P=c;c=e.errSchemaPath+"/additionalItems",a+="  if (!"+h+") {   ";var T=T||[];T.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+o.length+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var $=a;a=T.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+$+"]); ":a+=" validate.errors = ["+$+"]; return false; ":a+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",c=P,u&&(f+="}",a+=" else { ")}var D=o;if(D){for(var j,I=-1,k=D.length-1;I<k;)if(j=D[I+=1],e.opts.strictKeywords?typeof j=="object"&&Object.keys(j).length>0||j===!1:e.util.schemaHasRules(j,e.RULES.all)){a+=" "+v+" = true; if ("+p+".length > "+I+") { ";var A=p+"["+I+"]";m.schema=j,m.schemaPath=l+"["+I+"]",m.errSchemaPath=c+"/"+I,m.errorPath=e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers,!0),m.dataPathArr[b]=I;var L=e.validate(m);m.baseId=R,e.util.varOccurences(L,w)<2?a+=" "+e.util.varReplace(L,w,A)+" ":a+=" var "+w+" = "+A+"; "+L+" ",a+=" }  ",u&&(a+=" if ("+v+") { ",f+="}")}}if(typeof C=="object"&&(e.opts.strictKeywords?typeof C=="object"&&Object.keys(C).length>0||C===!1:e.util.schemaHasRules(C,e.RULES.all))){m.schema=C,m.schemaPath=e.schemaPath+".additionalItems",m.errSchemaPath=e.errSchemaPath+"/additionalItems",a+=" "+v+" = true; if ("+p+".length > "+o.length+") {  for (var "+g+" = "+o.length+"; "+g+" < "+p+".length; "+g+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var A=p+"["+g+"]";m.dataPathArr[b]=g;var L=e.validate(m);m.baseId=R,e.util.varOccurences(L,w)<2?a+=" "+e.util.varReplace(L,w,A)+" ":a+=" var "+w+" = "+A+"; "+L+" ",u&&(a+=" if (!"+v+") break; "),a+=" } }  ",u&&(a+=" if ("+v+") { ",f+="}")}}else if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){m.schema=o,m.schemaPath=l,m.errSchemaPath=c,a+="  for (var "+g+" = 0; "+g+" < "+p+".length; "+g+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var A=p+"["+g+"]";m.dataPathArr[b]=g;var L=e.validate(m);m.baseId=R,e.util.varOccurences(L,w)<2?a+=" "+e.util.varReplace(L,w,A)+" ":a+=" var "+w+" = "+A+"; "+L+" ",u&&(a+=" if (!"+v+") break; "),a+=" }"}return u&&(a+=" "+f+" if ("+d+" == errors) {"),a}});var wh=z((ure,fC)=>{"use strict";fC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,R,p="data"+(n||""),h=e.opts.$data&&o&&o.$data,d;h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",d="schema"+i):d=o;var m=r=="maximum",f=m?"exclusiveMaximum":"exclusiveMinimum",v=e.schema[f],g=e.opts.$data&&v&&v.$data,b=m?"<":">",w=m?">":"<",R=void 0;if(!(h||typeof o=="number"||o===void 0))throw new Error(r+" must be number");if(!(g||v===void 0||typeof v=="number"||typeof v=="boolean"))throw new Error(f+" must be number or boolean");if(g){var C=e.util.getData(v.$data,n,e.dataPathArr),P="exclusive"+i,T="exclType"+i,$="exclIsNumber"+i,D="op"+i,j="' + "+D+" + '";a+=" var schemaExcl"+i+" = "+C+"; ",C="schemaExcl"+i,a+=" var "+P+"; var "+T+" = typeof "+C+"; if ("+T+" != 'boolean' && "+T+" != 'undefined' && "+T+" != 'number') { ";var R=f,I=I||[];I.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(R||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: '"+f+" should be boolean' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var k=a;a=I.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+k+"]); ":a+=" validate.errors = ["+k+"]; return false; ":a+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else if ( ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),a+=" "+T+" == 'number' ? ( ("+P+" = "+d+" === undefined || "+C+" "+b+"= "+d+") ? "+p+" "+w+"= "+C+" : "+p+" "+w+" "+d+" ) : ( ("+P+" = "+C+" === true) ? "+p+" "+w+"= "+d+" : "+p+" "+w+" "+d+" ) || "+p+" !== "+p+") { var op"+i+" = "+P+" ? '"+b+"' : '"+b+"='; ",o===void 0&&(R=f,c=e.errSchemaPath+"/"+f,d=C,h=g)}else{var $=typeof v=="number",j=b;if($&&h){var D="'"+j+"'";a+=" if ( ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),a+=" ( "+d+" === undefined || "+v+" "+b+"= "+d+" ? "+p+" "+w+"= "+v+" : "+p+" "+w+" "+d+" ) || "+p+" !== "+p+") { "}else{$&&o===void 0?(P=!0,R=f,c=e.errSchemaPath+"/"+f,d=v,w+="="):($&&(d=Math[m?"min":"max"](v,o)),v===($?d:!0)?(P=!0,R=f,c=e.errSchemaPath+"/"+f,w+="="):(P=!1,j+="="));var D="'"+j+"'";a+=" if ( ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),a+=" "+p+" "+w+" "+d+" || "+p+" !== "+p+") { "}}R=R||r;var I=I||[];I.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(R||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+D+", limit: "+d+", exclusive: "+P+" } ",e.opts.messages!==!1&&(a+=" , message: 'should be "+j+" ",h?a+="' + "+d:a+=""+d+"'"),e.opts.verbose&&(a+=" , schema:  ",h?a+="validate.schema"+l:a+=""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var k=a;return a=I.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+k+"]); ":a+=" validate.errors = ["+k+"]; return false; ":a+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",u&&(a+=" else { "),a}});var Sh=z((pre,mC)=>{"use strict";mC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,f,p="data"+(n||""),h=e.opts.$data&&o&&o.$data,d;if(h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",d="schema"+i):d=o,!(h||typeof o=="number"))throw new Error(r+" must be number");var m=r=="maxItems"?">":"<";a+="if ( ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),a+=" "+p+".length "+m+" "+d+") { ";var f=r,v=v||[];v.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(f||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have ",r=="maxItems"?a+="more":a+="fewer",a+=" than ",h?a+="' + "+d+" + '":a+=""+o,a+=" items' "),e.opts.verbose&&(a+=" , schema:  ",h?a+="validate.schema"+l:a+=""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var g=a;return a=v.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",u&&(a+=" else { "),a}});var Eh=z((dre,hC)=>{"use strict";hC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,f,p="data"+(n||""),h=e.opts.$data&&o&&o.$data,d;if(h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",d="schema"+i):d=o,!(h||typeof o=="number"))throw new Error(r+" must be number");var m=r=="maxLength"?">":"<";a+="if ( ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),e.opts.unicode===!1?a+=" "+p+".length ":a+=" ucs2length("+p+") ",a+=" "+m+" "+d+") { ";var f=r,v=v||[];v.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT be ",r=="maxLength"?a+="longer":a+="shorter",a+=" than ",h?a+="' + "+d+" + '":a+=""+o,a+=" characters' "),e.opts.verbose&&(a+=" , schema:  ",h?a+="validate.schema"+l:a+=""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var g=a;return a=v.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",u&&(a+=" else { "),a}});var Ph=z((fre,vC)=>{"use strict";vC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,f,p="data"+(n||""),h=e.opts.$data&&o&&o.$data,d;if(h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",d="schema"+i):d=o,!(h||typeof o=="number"))throw new Error(r+" must be number");var m=r=="maxProperties"?">":"<";a+="if ( ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),a+=" Object.keys("+p+").length "+m+" "+d+") { ";var f=r,v=v||[];v.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(f||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have ",r=="maxProperties"?a+="more":a+="fewer",a+=" than ",h?a+="' + "+d+" + '":a+=""+o,a+=" properties' "),e.opts.verbose&&(a+=" , schema:  ",h?a+="validate.schema"+l:a+=""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var g=a;return a=v.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",u&&(a+=" else { "),a}});var yC=z((mre,gC)=>{"use strict";gC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h=e.opts.$data&&o&&o.$data,d;if(h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",d="schema"+i):d=o,!(h||typeof o=="number"))throw new Error(r+" must be number");a+="var division"+i+";if (",h&&(a+=" "+d+" !== undefined && ( typeof "+d+" != 'number' || "),a+=" (division"+i+" = "+p+" / "+d+", ",e.opts.multipleOfPrecision?a+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+e.opts.multipleOfPrecision+" ":a+=" division"+i+" !== parseInt(division"+i+") ",a+=" ) ",h&&(a+="  )  "),a+=" ) {   ";var m=m||[];m.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+d+" } ",e.opts.messages!==!1&&(a+=" , message: 'should be multiple of ",h?a+="' + "+d:a+=""+d+"'"),e.opts.verbose&&(a+=" , schema:  ",h?a+="validate.schema"+l:a+=""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var f=a;return a=m.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+f+"]); ":a+=" validate.errors = ["+f+"]; return false; ":a+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",u&&(a+=" else { "),a}});var bC=z((hre,xC)=>{"use strict";xC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="errs__"+i,d=e.util.copy(e);d.level++;var m="valid"+d.level;if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=l,d.errSchemaPath=c,a+=" var "+h+" = errors;  ";var f=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1;var v;d.opts.allErrors&&(v=d.opts.allErrors,d.opts.allErrors=!1),a+=" "+e.validate(d)+" ",d.createErrors=!0,v&&(d.opts.allErrors=v),e.compositeRule=d.compositeRule=f,a+=" if ("+m+") {   ";var g=g||[];g.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var b=a;a=g.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+b+"]); ":a+=" validate.errors = ["+b+"]; return false; ":a+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else a+="  var err =   ",e.createErrors!==!1?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(a+=" if (false) { ");return a}});var wC=z((vre,_C)=>{"use strict";_C.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d="errs__"+i,m=e.util.copy(e),f="";m.level++;var v="valid"+m.level,g=m.baseId,b="prevValid"+i,w="passingSchemas"+i;a+="var "+d+" = errors , "+b+" = false , "+h+" = false , "+w+" = null; ";var R=e.compositeRule;e.compositeRule=m.compositeRule=!0;var C=o;if(C)for(var P,T=-1,$=C.length-1;T<$;)P=C[T+=1],(e.opts.strictKeywords?typeof P=="object"&&Object.keys(P).length>0||P===!1:e.util.schemaHasRules(P,e.RULES.all))?(m.schema=P,m.schemaPath=l+"["+T+"]",m.errSchemaPath=c+"/"+T,a+="  "+e.validate(m)+" ",m.baseId=g):a+=" var "+v+" = true; ",T&&(a+=" if ("+v+" && "+b+") { "+h+" = false; "+w+" = ["+w+", "+T+"]; } else { ",f+="}"),a+=" if ("+v+") { "+h+" = "+b+" = true; "+w+" = "+T+"; }";return e.compositeRule=m.compositeRule=R,a+=""+f+"if (!"+h+") {   var err =   ",e.createErrors!==!1?(a+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { passingSchemas: "+w+" } ",e.opts.messages!==!1&&(a+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(a+=" } "),a}});var EC=z((gre,SC)=>{"use strict";SC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h=e.opts.$data&&o&&o.$data,d;h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",d="schema"+i):d=o;var m=h?"(new RegExp("+d+"))":e.usePattern(o);a+="if ( ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),a+=" !"+m+".test("+p+") ) {   ";var f=f||[];f.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",h?a+=""+d:a+=""+e.util.toQuotedString(o),a+="  } ",e.opts.messages!==!1&&(a+=` , message: 'should match pattern "`,h?a+="' + "+d+" + '":a+=""+e.util.escapeQuotes(o),a+=`"' `),e.opts.verbose&&(a+=" , schema:  ",h?a+="validate.schema"+l:a+=""+e.util.toQuotedString(o),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var v=a;return a=f.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+v+"]); ":a+=" validate.errors = ["+v+"]; return false; ":a+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",u&&(a+=" else { "),a}});var RC=z((yre,PC)=>{"use strict";PC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="errs__"+i,d=e.util.copy(e),m="";d.level++;var f="valid"+d.level,v="key"+i,g="idx"+i,b=d.dataLevel=e.dataLevel+1,w="data"+b,R="dataProperties"+i,C=Object.keys(o||{}).filter(G),P=e.schema.patternProperties||{},T=Object.keys(P).filter(G),$=e.schema.additionalProperties,D=C.length||T.length,j=$===!1,I=typeof $=="object"&&Object.keys($).length,k=e.opts.removeAdditional,A=j||I||k,L=e.opts.ownProperties,q=e.baseId,V=e.schema.required;if(V&&!(e.opts.$data&&V.$data)&&V.length<e.opts.loopRequired)var H=e.util.toHash(V);function G(qt){return qt!=="__proto__"}if(a+="var "+h+" = errors;var "+f+" = true;",L&&(a+=" var "+R+" = undefined;"),A){if(L?a+=" "+R+" = "+R+" || Object.keys("+p+"); for (var "+g+"=0; "+g+"<"+R+".length; "+g+"++) { var "+v+" = "+R+"["+g+"]; ":a+=" for (var "+v+" in "+p+") { ",D){if(a+=" var isAdditional"+i+" = !(false ",C.length)if(C.length>8)a+=" || validate.schema"+l+".hasOwnProperty("+v+") ";else{var Z=C;if(Z)for(var K,re=-1,le=Z.length-1;re<le;)K=Z[re+=1],a+=" || "+v+" == "+e.util.toQuotedString(K)+" "}if(T.length){var Je=T;if(Je)for(var xe,Pe=-1,Ae=Je.length-1;Pe<Ae;)xe=Je[Pe+=1],a+=" || "+e.usePattern(xe)+".test("+v+") "}a+=" ); if (isAdditional"+i+") { "}if(k=="all")a+=" delete "+p+"["+v+"]; ";else{var qe=e.errorPath,M="' + "+v+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),j)if(k)a+=" delete "+p+"["+v+"]; ";else{a+=" "+f+" = false; ";var W=c;c=e.errSchemaPath+"/additionalProperties";var se=se||[];se.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+M+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is an invalid additional property":a+="should NOT have additional properties",a+="' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var he=a;a=se.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+he+"]); ":a+=" validate.errors = ["+he+"]; return false; ":a+=" var err = "+he+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=W,u&&(a+=" break; ")}else if(I)if(k=="failing"){a+=" var "+h+" = errors;  ";var J=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=$,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var X=p+"["+v+"]";d.dataPathArr[b]=v;var ue=e.validate(d);d.baseId=q,e.util.varOccurences(ue,w)<2?a+=" "+e.util.varReplace(ue,w,X)+" ":a+=" var "+w+" = "+X+"; "+ue+" ",a+=" if (!"+f+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+p+"["+v+"]; }  ",e.compositeRule=d.compositeRule=J}else{d.schema=$,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var X=p+"["+v+"]";d.dataPathArr[b]=v;var ue=e.validate(d);d.baseId=q,e.util.varOccurences(ue,w)<2?a+=" "+e.util.varReplace(ue,w,X)+" ":a+=" var "+w+" = "+X+"; "+ue+" ",u&&(a+=" if (!"+f+") break; ")}e.errorPath=qe}D&&(a+=" } "),a+=" }  ",u&&(a+=" if ("+f+") { ",m+="}")}var Me=e.opts.useDefaults&&!e.compositeRule;if(C.length){var _e=C;if(_e)for(var K,it=-1,ot=_e.length-1;it<ot;){K=_e[it+=1];var Ce=o[K];if(e.opts.strictKeywords?typeof Ce=="object"&&Object.keys(Ce).length>0||Ce===!1:e.util.schemaHasRules(Ce,e.RULES.all)){var dt=e.util.getProperty(K),X=p+dt,Qe=Me&&Ce.default!==void 0;d.schema=Ce,d.schemaPath=l+dt,d.errSchemaPath=c+"/"+e.util.escapeFragment(K),d.errorPath=e.util.getPath(e.errorPath,K,e.opts.jsonPointers),d.dataPathArr[b]=e.util.toQuotedString(K);var ue=e.validate(d);if(d.baseId=q,e.util.varOccurences(ue,w)<2){ue=e.util.varReplace(ue,w,X);var ut=X}else{var ut=w;a+=" var "+w+" = "+X+"; "}if(Qe)a+=" "+ue+" ";else{if(H&&H[K]){a+=" if ( "+ut+" === undefined ",L&&(a+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes(K)+"') "),a+=") { "+f+" = false; ";var qe=e.errorPath,W=c,tt=e.util.escapeQuotes(K);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(qe,K,e.opts.jsonPointers)),c=e.errSchemaPath+"/required";var se=se||[];se.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+tt+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+tt+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var he=a;a=se.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+he+"]); ":a+=" validate.errors = ["+he+"]; return false; ":a+=" var err = "+he+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=W,e.errorPath=qe,a+=" } else { "}else u?(a+=" if ( "+ut+" === undefined ",L&&(a+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes(K)+"') "),a+=") { "+f+" = true; } else { "):(a+=" if ("+ut+" !== undefined ",L&&(a+=" &&   Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes(K)+"') "),a+=" ) { ");a+=" "+ue+" } "}}u&&(a+=" if ("+f+") { ",m+="}")}}if(T.length){var ct=T;if(ct)for(var xe,jt=-1,Mt=ct.length-1;jt<Mt;){xe=ct[jt+=1];var Ce=P[xe];if(e.opts.strictKeywords?typeof Ce=="object"&&Object.keys(Ce).length>0||Ce===!1:e.util.schemaHasRules(Ce,e.RULES.all)){d.schema=Ce,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(xe),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(xe),L?a+=" "+R+" = "+R+" || Object.keys("+p+"); for (var "+g+"=0; "+g+"<"+R+".length; "+g+"++) { var "+v+" = "+R+"["+g+"]; ":a+=" for (var "+v+" in "+p+") { ",a+=" if ("+e.usePattern(xe)+".test("+v+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var X=p+"["+v+"]";d.dataPathArr[b]=v;var ue=e.validate(d);d.baseId=q,e.util.varOccurences(ue,w)<2?a+=" "+e.util.varReplace(ue,w,X)+" ":a+=" var "+w+" = "+X+"; "+ue+" ",u&&(a+=" if (!"+f+") break; "),a+=" } ",u&&(a+=" else "+f+" = true; "),a+=" }  ",u&&(a+=" if ("+f+") { ",m+="}")}}}return u&&(a+=" "+m+" if ("+h+" == errors) {"),a}});var TC=z((xre,CC)=>{"use strict";CC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="errs__"+i,d=e.util.copy(e),m="";d.level++;var f="valid"+d.level;if(a+="var "+h+" = errors;",e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=l,d.errSchemaPath=c;var v="key"+i,g="idx"+i,b="i"+i,w="' + "+v+" + '",R=d.dataLevel=e.dataLevel+1,C="data"+R,P="dataProperties"+i,T=e.opts.ownProperties,$=e.baseId;T&&(a+=" var "+P+" = undefined; "),T?a+=" "+P+" = "+P+" || Object.keys("+p+"); for (var "+g+"=0; "+g+"<"+P+".length; "+g+"++) { var "+v+" = "+P+"["+g+"]; ":a+=" for (var "+v+" in "+p+") { ",a+=" var startErrs"+i+" = errors; ";var D=v,j=e.compositeRule;e.compositeRule=d.compositeRule=!0;var I=e.validate(d);d.baseId=$,e.util.varOccurences(I,C)<2?a+=" "+e.util.varReplace(I,C,D)+" ":a+=" var "+C+" = "+D+"; "+I+" ",e.compositeRule=d.compositeRule=j,a+=" if (!"+f+") { for (var "+b+"=startErrs"+i+"; "+b+"<errors; "+b+"++) { vErrors["+b+"].propertyName = "+v+"; }   var err =   ",e.createErrors!==!1?(a+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+w+"' } ",e.opts.messages!==!1&&(a+=" , message: 'property name \\'"+w+"\\' is invalid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),u&&(a+=" break; "),a+=" } }"}return u&&(a+=" "+m+" if ("+h+" == errors) {"),a}});var kC=z((bre,OC)=>{"use strict";OC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d=e.opts.$data&&o&&o.$data,m;d?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",m="schema"+i):m=o;var f="schema"+i;if(!d)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var v=[],g=o;if(g)for(var b,w=-1,R=g.length-1;w<R;){b=g[w+=1];var C=e.schema.properties[b];C&&(e.opts.strictKeywords?typeof C=="object"&&Object.keys(C).length>0||C===!1:e.util.schemaHasRules(C,e.RULES.all))||(v[v.length]=b)}}else var v=o;if(d||v.length){var P=e.errorPath,T=d||v.length>=e.opts.loopRequired,$=e.opts.ownProperties;if(u)if(a+=" var missing"+i+"; ",T){d||(a+=" var "+f+" = validate.schema"+l+"; ");var D="i"+i,j="schema"+i+"["+D+"]",I="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(P,j,e.opts.jsonPointers)),a+=" var "+h+" = true; ",d&&(a+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),a+=" for (var "+D+" = 0; "+D+" < "+f+".length; "+D+"++) { "+h+" = "+p+"["+f+"["+D+"]] !== undefined ",$&&(a+=" &&   Object.prototype.hasOwnProperty.call("+p+", "+f+"["+D+"]) "),a+="; if (!"+h+") break; } ",d&&(a+="  }  "),a+="  if (!"+h+") {   ";var k=k||[];k.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+I+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+I+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var A=a;a=k.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+A+"]); ":a+=" validate.errors = ["+A+"]; return false; ":a+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else{a+=" if ( ";var L=v;if(L)for(var q,D=-1,V=L.length-1;D<V;){q=L[D+=1],D&&(a+=" || ");var H=e.util.getProperty(q),G=p+H;a+=" ( ( "+G+" === undefined ",$&&(a+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes(q)+"') "),a+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?q:H)+") ) "}a+=") {  ";var j="missing"+i,I="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(P,j,!0):P+" + "+j);var k=k||[];k.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+I+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+I+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var A=a;a=k.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+A+"]); ":a+=" validate.errors = ["+A+"]; return false; ":a+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else if(T){d||(a+=" var "+f+" = validate.schema"+l+"; ");var D="i"+i,j="schema"+i+"["+D+"]",I="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(P,j,e.opts.jsonPointers)),d&&(a+=" if ("+f+" && !Array.isArray("+f+")) {  var err =   ",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+I+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+I+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+f+" !== undefined) { "),a+=" for (var "+D+" = 0; "+D+" < "+f+".length; "+D+"++) { if ("+p+"["+f+"["+D+"]] === undefined ",$&&(a+=" || ! Object.prototype.hasOwnProperty.call("+p+", "+f+"["+D+"]) "),a+=") {  var err =   ",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+I+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+I+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(a+="  }  ")}else{var Z=v;if(Z)for(var q,K=-1,re=Z.length-1;K<re;){q=Z[K+=1];var H=e.util.getProperty(q),I=e.util.escapeQuotes(q),G=p+H;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(P,q,e.opts.jsonPointers)),a+=" if ( "+G+" === undefined ",$&&(a+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes(q)+"') "),a+=") {  var err =   ",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+I+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+I+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=P}else u&&(a+=" if (true) {");return a}});var IC=z((_re,AC)=>{"use strict";AC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d=e.opts.$data&&o&&o.$data,m;if(d?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",m="schema"+i):m=o,(o||d)&&e.opts.uniqueItems!==!1){d&&(a+=" var "+h+"; if ("+m+" === false || "+m+" === undefined) "+h+" = true; else if (typeof "+m+" != 'boolean') "+h+" = false; else { "),a+=" var i = "+p+".length , "+h+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,v=Array.isArray(f);if(!f||f=="object"||f=="array"||v&&(f.indexOf("object")>=0||f.indexOf("array")>=0))a+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+p+"[i], "+p+"[j])) { "+h+" = false; break outer; } } } ";else{a+=" var itemIndices = {}, item; for (;i--;) { var item = "+p+"[i]; ";var g="checkDataType"+(v?"s":"");a+=" if ("+e.util[g](f,"item",e.opts.strictNumbers,!0)+") continue; ",v&&(a+=` if (typeof item == 'string') item = '"' + item; `),a+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}a+=" } ",d&&(a+="  }  "),a+=" if (!"+h+") {   ";var b=b||[];b.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(a+=" , schema:  ",d?a+="validate.schema"+l:a+=""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var w=a;a=b.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+w+"]); ":a+=" validate.errors = ["+w+"]; return false; ":a+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",u&&(a+=" else { ")}else u&&(a+=" if (true) { ");return a}});var LC=z((wre,DC)=>{"use strict";DC.exports={$ref:GR(),allOf:ZR(),anyOf:JR(),$comment:XR(),const:eC(),contains:rC(),dependencies:aC(),enum:iC(),format:cC(),if:uC(),items:dC(),maximum:wh(),minimum:wh(),maxItems:Sh(),minItems:Sh(),maxLength:Eh(),minLength:Eh(),maxProperties:Ph(),minProperties:Ph(),multipleOf:yC(),not:bC(),oneOf:wC(),pattern:EC(),properties:RC(),propertyNames:TC(),required:kC(),uniqueItems:IC(),validate:bh()}});var FC=z((Sre,NC)=>{"use strict";var $C=LC(),Rh=bn().toHash;NC.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],r=["type","$comment"],s=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],a=["number","integer","string","array","object","boolean","null"];return e.all=Rh(r),e.types=Rh(a),e.forEach(function(i){i.rules=i.rules.map(function(n){var o;if(typeof n=="object"){var l=Object.keys(n)[0];o=n[l],n=l,o.forEach(function(u){r.push(u),e.all[u]=!0})}r.push(n);var c=e.all[n]={keyword:n,code:$C[n],implements:o};return c}),e.all.$comment={keyword:"$comment",code:$C.$comment},i.type&&(e.types[i.type]=i)}),e.keywords=Rh(r.concat(s)),e.custom={},e}});var UC=z((Ere,MC)=>{"use strict";var jC=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];MC.exports=function(t,e){for(var r=0;r<e.length;r++){t=JSON.parse(JSON.stringify(t));var s=e[r].split("/"),a=t,i;for(i=1;i<s.length;i++)a=a[s[i]];for(i=0;i<jC.length;i++){var n=jC[i],o=a[n];o&&(a[n]={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return t}});var BC=z((Pre,zC)=>{"use strict";var cV=Iu().MissingRef;zC.exports=qC;function qC(t,e,r){var s=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(r=e,e=void 0);var a=i(t).then(function(){var o=s._addSchema(t,void 0,e);return o.validate||n(o)});return r&&a.then(function(o){r(null,o)},r),a;function i(o){var l=o.$schema;return l&&!s.getSchema(l)?qC.call(s,{$ref:l},!0):Promise.resolve()}function n(o){try{return s._compile(o)}catch(c){if(c instanceof cV)return l(c);throw c}function l(c){var u=c.missingSchema;if(d(u))throw new Error("Schema "+u+" is loaded but "+c.missingRef+" cannot be resolved");var p=s._loadingSchemas[u];return p||(p=s._loadingSchemas[u]=s._opts.loadSchema(u),p.then(h,h)),p.then(function(m){if(!d(u))return i(m).then(function(){d(u)||s.addSchema(m,u,void 0,e)})}).then(function(){return n(o)});function h(){delete s._loadingSchemas[u]}function d(m){return s._refs[m]||s._schemas[m]}}}}});var VC=z((Rre,HC)=>{"use strict";HC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p,h="data"+(n||""),d="valid"+i,m="errs__"+i,f=e.opts.$data&&o&&o.$data,v;f?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",v="schema"+i):v=o;var g=this,b="definition"+i,w=g.definition,R="",C,P,T,$,D;if(f&&w.$data){D="keywordValidate"+i;var j=w.validateSchema;a+=" var "+b+" = RULES.custom['"+r+"'].definition; var "+D+" = "+b+".validate;"}else{if($=e.useCustomRule(g,o,e.schema,e),!$)return;v="validate.schema"+l,D=$.code,C=w.compile,P=w.inline,T=w.macro}var I=D+".errors",k="i"+i,A="ruleErr"+i,L=w.async;if(L&&!e.async)throw new Error("async keyword in sync schema");if(P||T||(a+=""+I+" = null;"),a+="var "+m+" = errors;var "+d+";",f&&w.$data&&(R+="}",a+=" if ("+v+" === undefined) { "+d+" = true; } else { ",j&&(R+="}",a+=" "+d+" = "+b+".validateSchema("+v+"); if ("+d+") { ")),P)w.statements?a+=" "+$.validate+" ":a+=" "+d+" = "+$.validate+"; ";else if(T){var q=e.util.copy(e),R="";q.level++;var V="valid"+q.level;q.schema=$.validate,q.schemaPath="";var H=e.compositeRule;e.compositeRule=q.compositeRule=!0;var G=e.validate(q).replace(/validate\.schema/g,D);e.compositeRule=q.compositeRule=H,a+=" "+G}else{var Z=Z||[];Z.push(a),a="",a+="  "+D+".call( ",e.opts.passContext?a+="this":a+="self",C||w.schema===!1?a+=" , "+h+" ":a+=" , "+v+" , "+h+" , validate.schema"+e.schemaPath+" ",a+=" , (dataPath || '')",e.errorPath!='""'&&(a+=" + "+e.errorPath);var K=n?"data"+(n-1||""):"parentData",re=n?e.dataPathArr[n]:"parentDataProperty";a+=" , "+K+" , "+re+" , rootData )  ";var le=a;a=Z.pop(),w.errors===!1?(a+=" "+d+" = ",L&&(a+="await "),a+=""+le+"; "):L?(I="customErrors"+i,a+=" var "+I+" = null; try { "+d+" = await "+le+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+I+" = e.errors; else throw e; } "):a+=" "+I+" = null; "+d+" = "+le+"; "}if(w.modifying&&(a+=" if ("+K+") "+h+" = "+K+"["+re+"];"),a+=""+R,w.valid)u&&(a+=" if (true) { ");else{a+=" if ( ",w.valid===void 0?(a+=" !",T?a+=""+V:a+=""+d):a+=" "+!w.valid+" ",a+=") { ",p=g.keyword;var Z=Z||[];Z.push(a),a="";var Z=Z||[];Z.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(p||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+g.keyword+"' } ",e.opts.messages!==!1&&(a+=` , message: 'should pass "`+g.keyword+`" keyword validation' `),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var Je=a;a=Z.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+Je+"]); ":a+=" validate.errors = ["+Je+"]; return false; ":a+=" var err = "+Je+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var xe=a;a=Z.pop(),P?w.errors?w.errors!="full"&&(a+="  for (var "+k+"="+m+"; "+k+"<errors; "+k+"++) { var "+A+" = vErrors["+k+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(a+=" "+A+".schema = "+v+"; "+A+".data = "+h+"; "),a+=" } "):w.errors===!1?a+=" "+xe+" ":(a+=" if ("+m+" == errors) { "+xe+" } else {  for (var "+k+"="+m+"; "+k+"<errors; "+k+"++) { var "+A+" = vErrors["+k+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(a+=" "+A+".schema = "+v+"; "+A+".data = "+h+"; "),a+=" } } "):T?(a+="   var err =   ",e.createErrors!==!1?(a+=" { keyword: '"+(p||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+g.keyword+"' } ",e.opts.messages!==!1&&(a+=` , message: 'should pass "`+g.keyword+`" keyword validation' `),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; ")):w.errors===!1?a+=" "+xe+" ":(a+=" if (Array.isArray("+I+")) { if (vErrors === null) vErrors = "+I+"; else vErrors = vErrors.concat("+I+"); errors = vErrors.length;  for (var "+k+"="+m+"; "+k+"<errors; "+k+"++) { var "+A+" = vErrors["+k+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+";  "+A+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(a+=" "+A+".schema = "+v+"; "+A+".data = "+h+"; "),a+=" } } else { "+xe+" } "),a+=" } ",u&&(a+=" else { ")}return a}});var Ch=z((Cre,lV)=>{lV.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var ZC=z((Tre,WC)=>{"use strict";var GC=Ch();WC.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:GC.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:GC.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}});var JC=z((Ore,KC)=>{"use strict";var uV=/^[a-z_$][a-z0-9_$-]*$/i,pV=VC(),dV=ZC();KC.exports={add:fV,get:mV,remove:hV,validate:Th};function fV(t,e){var r=this.RULES;if(r.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!uV.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var s=e.type;if(Array.isArray(s))for(var a=0;a<s.length;a++)n(t,s[a],e);else n(t,s,e);var i=e.metaSchema;i&&(e.$data&&this._opts.$data&&(i={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(i,!0))}r.keywords[t]=r.all[t]=!0;function n(o,l,c){for(var u,p=0;p<r.length;p++){var h=r[p];if(h.type==l){u=h;break}}u||(u={type:l,rules:[]},r.push(u));var d={keyword:o,definition:c,custom:!0,code:pV,implements:c.implements};u.rules.push(d),r.custom[o]=d}return this}function mV(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1}function hV(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var r=0;r<e.length;r++)for(var s=e[r].rules,a=0;a<s.length;a++)if(s[a].keyword==t){s.splice(a,1);break}return this}function Th(t,e){Th.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(dV,!0);if(r(t))return!0;if(Th.errors=r.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}});var QC=z((kre,vV)=>{vV.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var oT=z((Are,iT)=>{"use strict";var YC=kR(),_n=Au(),gV=IR(),eT=fh(),yV=xh(),xV=HR(),bV=FC(),tT=UC(),rT=bn();iT.exports=Pt;Pt.prototype.validate=wV;Pt.prototype.compile=SV;Pt.prototype.addSchema=EV;Pt.prototype.addMetaSchema=PV;Pt.prototype.validateSchema=RV;Pt.prototype.getSchema=TV;Pt.prototype.removeSchema=kV;Pt.prototype.addFormat=jV;Pt.prototype.errorsText=FV;Pt.prototype._addSchema=AV;Pt.prototype._compile=IV;Pt.prototype.compileAsync=BC();var Uu=JC();Pt.prototype.addKeyword=Uu.add;Pt.prototype.getKeyword=Uu.get;Pt.prototype.removeKeyword=Uu.remove;Pt.prototype.validateKeyword=Uu.validate;var sT=Iu();Pt.ValidationError=sT.Validation;Pt.MissingRefError=sT.MissingRef;Pt.$dataMetaSchema=tT;var Mu="http://json-schema.org/draft-07/schema",XC=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],_V=["/properties"];function Pt(t){if(!(this instanceof Pt))return new Pt(t);t=this._opts=rT.copy(t)||{},HV(this),this._schemas={},this._refs={},this._fragments={},this._formats=xV(t.format),this._cache=t.cache||new gV,this._loadingSchemas={},this._compilations=[],this.RULES=bV(),this._getId=DV(t),t.loopRequired=t.loopRequired||1/0,t.errorDataPath=="property"&&(t._errorDataPathProperty=!0),t.serialize===void 0&&(t.serialize=yV),this._metaOpts=BV(this),t.formats&&qV(this),t.keywords&&zV(this),MV(this),typeof t.meta=="object"&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),UV(this)}function wV(t,e){var r;if(typeof t=="string"){if(r=this.getSchema(t),!r)throw new Error('no schema with key or ref "'+t+'"')}else{var s=this._addSchema(t);r=s.validate||this._compile(s)}var a=r(e);return r.$async!==!0&&(this.errors=r.errors),a}function SV(t,e){var r=this._addSchema(t,void 0,e);return r.validate||this._compile(r)}function EV(t,e,r,s){if(Array.isArray(t)){for(var a=0;a<t.length;a++)this.addSchema(t[a],void 0,r,s);return this}var i=this._getId(t);if(i!==void 0&&typeof i!="string")throw new Error("schema id must be string");return e=_n.normalizeId(e||i),nT(this,e),this._schemas[e]=this._addSchema(t,r,s,!0),this}function PV(t,e,r){return this.addSchema(t,e,r,!0),this}function RV(t,e){var r=t.$schema;if(r!==void 0&&typeof r!="string")throw new Error("$schema must be a string");if(r=r||this._opts.defaultMeta||CV(this),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var s=this.validate(r,t);if(!s&&e){var a="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(a);else throw new Error(a)}return s}function CV(t){var e=t._opts.meta;return t._opts.defaultMeta=typeof e=="object"?t._getId(e)||e:t.getSchema(Mu)?Mu:void 0,t._opts.defaultMeta}function TV(t){var e=aT(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return OV(this,t)}}function OV(t,e){var r=_n.schema.call(t,{schema:{}},e);if(r){var s=r.schema,a=r.root,i=r.baseId,n=YC.call(t,s,a,void 0,i);return t._fragments[e]=new eT({ref:e,fragment:!0,schema:s,root:a,baseId:i,validate:n}),n}}function aT(t,e){return e=_n.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function kV(t){if(t instanceof RegExp)return ju(this,this._schemas,t),ju(this,this._refs,t),this;switch(typeof t){case"undefined":return ju(this,this._schemas),ju(this,this._refs),this._cache.clear(),this;case"string":var e=aT(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var r=this._opts.serialize,s=r?r(t):t;this._cache.del(s);var a=this._getId(t);a&&(a=_n.normalizeId(a),delete this._schemas[a],delete this._refs[a])}return this}function ju(t,e,r){for(var s in e){var a=e[s];!a.meta&&(!r||r.test(s))&&(t._cache.del(a.cacheKey),delete e[s])}}function AV(t,e,r,s){if(typeof t!="object"&&typeof t!="boolean")throw new Error("schema should be object or boolean");var a=this._opts.serialize,i=a?a(t):t,n=this._cache.get(i);if(n)return n;s=s||this._opts.addUsedSchema!==!1;var o=_n.normalizeId(this._getId(t));o&&s&&nT(this,o);var l=this._opts.validateSchema!==!1&&!e,c;l&&!(c=o&&o==_n.normalizeId(t.$schema))&&this.validateSchema(t,!0);var u=_n.ids.call(this,t),p=new eT({id:o,schema:t,localRefs:u,cacheKey:i,meta:r});return o[0]!="#"&&s&&(this._refs[o]=p),this._cache.put(i,p),l&&c&&this.validateSchema(t,!0),p}function IV(t,e){if(t.compiling)return t.validate=a,a.schema=t.schema,a.errors=null,a.root=e||a,t.schema.$async===!0&&(a.$async=!0),a;t.compiling=!0;var r;t.meta&&(r=this._opts,this._opts=this._metaOpts);var s;try{s=YC.call(this,t.schema,e,t.localRefs)}catch(i){throw delete t.validate,i}finally{t.compiling=!1,t.meta&&(this._opts=r)}return t.validate=s,t.refs=s.refs,t.refVal=s.refVal,t.root=s.root,s;function a(){var i=t.validate,n=i.apply(this,arguments);return a.errors=i.errors,n}}function DV(t){switch(t.schemaId){case"auto":return NV;case"id":return LV;default:return $V}}function LV(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function $V(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function NV(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function FV(t,e){if(t=t||this.errors,!t)return"No errors";e=e||{};for(var r=e.separator===void 0?", ":e.separator,s=e.dataVar===void 0?"data":e.dataVar,a="",i=0;i<t.length;i++){var n=t[i];n&&(a+=s+n.dataPath+" "+n.message+r)}return a.slice(0,-r.length)}function jV(t,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[t]=e,this}function MV(t){var e;if(t._opts.$data&&(e=QC(),t.addMetaSchema(e,e.$id,!0)),t._opts.meta!==!1){var r=Ch();t._opts.$data&&(r=tT(r,_V)),t.addMetaSchema(r,Mu,!0),t._refs["http://json-schema.org/schema"]=Mu}}function UV(t){var e=t._opts.schemas;if(e)if(Array.isArray(e))t.addSchema(e);else for(var r in e)t.addSchema(e[r],r)}function qV(t){for(var e in t._opts.formats){var r=t._opts.formats[e];t.addFormat(e,r)}}function zV(t){for(var e in t._opts.keywords){var r=t._opts.keywords[e];t.addKeyword(e,r)}}function nT(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function BV(t){for(var e=rT.copy(t._opts),r=0;r<XC.length;r++)delete e[XC[r]];return e}function HV(t){var e=t._opts.logger;if(e===!1)t.logger={log:Oh,warn:Oh,error:Oh};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}function Oh(){}});var Ms=z((qne,lO)=>{"use strict";var oO=["nodebuffer","arraybuffer","fragments"],cO=typeof Blob<"u";cO&&oO.push("blob");lO.exports={BINARY_TYPES:oO,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:cO,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Qo=z((zne,Qu)=>{"use strict";var{EMPTY_BUFFER:p5}=Ms(),Mh=Buffer[Symbol.species];function d5(t,e){if(t.length===0)return p5;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),s=0;for(let a=0;a<t.length;a++){let i=t[a];r.set(i,s),s+=i.length}return s<e?new Mh(r.buffer,r.byteOffset,s):r}function uO(t,e,r,s,a){for(let i=0;i<a;i++)r[s+i]=t[i]^e[i&3]}function pO(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function f5(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function Uh(t){if(Uh.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new Mh(t):ArrayBuffer.isView(t)?e=new Mh(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),Uh.readOnly=!1),e}Qu.exports={concat:d5,mask:uO,toArrayBuffer:f5,toBuffer:Uh,unmask:pO};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=require("bufferutil");Qu.exports.mask=function(e,r,s,a,i){i<48?uO(e,r,s,a,i):t.mask(e,r,s,a,i)},Qu.exports.unmask=function(e,r){e.length<32?pO(e,r):t.unmask(e,r)}}catch{}});var mO=z((Bne,fO)=>{"use strict";var dO=Symbol("kDone"),qh=Symbol("kRun"),zh=class{constructor(e){this[dO]=()=>{this.pending--,this[qh]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[qh]()}[qh](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[dO])}}};fO.exports=zh});var Yo=z((Hne,yO)=>{"use strict";var Xo=require("zlib"),hO=Qo(),m5=mO(),{kStatusCode:vO}=Ms(),h5=Buffer[Symbol.species],v5=Buffer.from([0,0,255,255]),Yu=Symbol("permessage-deflate"),Us=Symbol("total-length"),Di=Symbol("callback"),ya=Symbol("buffers"),Li=Symbol("error"),Xu,Bh=class{constructor(e,r,s){if(this._maxPayload=s|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!Xu){let a=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Xu=new m5(a)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Di];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,s=e.find(a=>!(r.serverNoContextTakeover===!1&&a.server_no_context_takeover||a.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>a.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!a.client_max_window_bits));if(!s)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(s.server_no_context_takeover=!0),r.clientNoContextTakeover&&(s.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(s.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?s.client_max_window_bits=r.clientMaxWindowBits:(s.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete s.client_max_window_bits,s}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(s=>{let a=r[s];if(a.length>1)throw new Error(`Parameter "${s}" must have only a single value`);if(a=a[0],s==="client_max_window_bits"){if(a!==!0){let i=+a;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${s}": ${a}`);a=i}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${s}": ${a}`)}else if(s==="server_max_window_bits"){let i=+a;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${s}": ${a}`);a=i}else if(s==="client_no_context_takeover"||s==="server_no_context_takeover"){if(a!==!0)throw new TypeError(`Invalid value for parameter "${s}": ${a}`)}else throw new Error(`Unknown parameter "${s}"`);r[s]=a})}),e}decompress(e,r,s){Xu.add(a=>{this._decompress(e,r,(i,n)=>{a(),s(i,n)})})}compress(e,r,s){Xu.add(a=>{this._compress(e,r,(i,n)=>{a(),s(i,n)})})}_decompress(e,r,s){let a=this._isServer?"client":"server";if(!this._inflate){let i=`${a}_max_window_bits`,n=typeof this.params[i]!="number"?Xo.Z_DEFAULT_WINDOWBITS:this.params[i];this._inflate=Xo.createInflateRaw({...this._options.zlibInflateOptions,windowBits:n}),this._inflate[Yu]=this,this._inflate[Us]=0,this._inflate[ya]=[],this._inflate.on("error",y5),this._inflate.on("data",gO)}this._inflate[Di]=s,this._inflate.write(e),r&&this._inflate.write(v5),this._inflate.flush(()=>{let i=this._inflate[Li];if(i){this._inflate.close(),this._inflate=null,s(i);return}let n=hO.concat(this._inflate[ya],this._inflate[Us]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Us]=0,this._inflate[ya]=[],r&&this.params[`${a}_no_context_takeover`]&&this._inflate.reset()),s(null,n)})}_compress(e,r,s){let a=this._isServer?"server":"client";if(!this._deflate){let i=`${a}_max_window_bits`,n=typeof this.params[i]!="number"?Xo.Z_DEFAULT_WINDOWBITS:this.params[i];this._deflate=Xo.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:n}),this._deflate[Us]=0,this._deflate[ya]=[],this._deflate.on("data",g5)}this._deflate[Di]=s,this._deflate.write(e),this._deflate.flush(Xo.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let i=hO.concat(this._deflate[ya],this._deflate[Us]);r&&(i=new h5(i.buffer,i.byteOffset,i.length-4)),this._deflate[Di]=null,this._deflate[Us]=0,this._deflate[ya]=[],r&&this.params[`${a}_no_context_takeover`]&&this._deflate.reset(),s(null,i)})}};yO.exports=Bh;function g5(t){this[ya].push(t),this[Us]+=t.length}function gO(t){if(this[Us]+=t.length,this[Yu]._maxPayload<1||this[Us]<=this[Yu]._maxPayload){this[ya].push(t);return}this[Li]=new RangeError("Max payload size exceeded"),this[Li].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Li][vO]=1009,this.removeListener("data",gO),this.reset()}function y5(t){if(this[Yu]._inflate=null,this[Li]){this[Di](this[Li]);return}t[vO]=1007,this[Di](t)}});var $i=z((Vne,ep)=>{"use strict";var{isUtf8:xO}=require("buffer"),{hasBlob:x5}=Ms(),b5=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function _5(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function Hh(t){let e=t.length,r=0;for(;r<e;)if((t[r]&128)===0)r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}function w5(t){return x5&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&(t[Symbol.toStringTag]==="Blob"||t[Symbol.toStringTag]==="File")}ep.exports={isBlob:w5,isValidStatusCode:_5,isValidUTF8:Hh,tokenChars:b5};if(xO)ep.exports.isValidUTF8=function(t){return t.length<24?Hh(t):xO(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=require("utf-8-validate");ep.exports.isValidUTF8=function(e){return e.length<32?Hh(e):t(e)}}catch{}});var Kh=z((Gne,RO)=>{"use strict";var{Writable:S5}=require("stream"),bO=Yo(),{BINARY_TYPES:E5,EMPTY_BUFFER:_O,kStatusCode:P5,kWebSocket:R5}=Ms(),{concat:Vh,toArrayBuffer:C5,unmask:T5}=Qo(),{isValidStatusCode:O5,isValidUTF8:wO}=$i(),tp=Buffer[Symbol.species],jr=0,SO=1,EO=2,PO=3,Gh=4,Wh=5,rp=6,Zh=class extends S5{constructor(e={}){super(),this._allowSynchronousEvents=e.allowSynchronousEvents!==void 0?e.allowSynchronousEvents:!0,this._binaryType=e.binaryType||E5[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[R5]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=jr}_write(e,r,s){if(this._opcode===8&&this._state==jr)return s();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(s)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let s=this._buffers[0];return this._buffers[0]=new tp(s.buffer,s.byteOffset+e,s.length-e),new tp(s.buffer,s.byteOffset,e)}let r=Buffer.allocUnsafe(e);do{let s=this._buffers[0],a=r.length-e;e>=s.length?r.set(this._buffers.shift(),a):(r.set(new Uint8Array(s.buffer,s.byteOffset,e),a),this._buffers[0]=new tp(s.buffer,s.byteOffset+e,s.length-e)),e-=s.length}while(e>0);return r}startLoop(e){this._loop=!0;do switch(this._state){case jr:this.getInfo(e);break;case SO:this.getPayloadLength16(e);break;case EO:this.getPayloadLength64(e);break;case PO:this.getMask();break;case Gh:this.getData(e);break;case Wh:case rp:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let r=this.consume(2);if((r[0]&48)!==0){let a=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(a);return}let s=(r[0]&64)===64;if(s&&!this._extensions[bO.extensionName]){let a=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(a);return}if(this._fin=(r[0]&128)===128,this._opcode=r[0]&15,this._payloadLength=r[1]&127,this._opcode===0){if(s){let a=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(a);return}if(!this._fragmented){let a=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(a);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let a=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(a);return}this._compressed=s}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let a=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(a);return}if(s){let a=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(a);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let a=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(a);return}}else{let a=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(a);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(r[1]&128)===128,this._isServer){if(!this._masked){let a=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(a);return}}else if(this._masked){let a=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(a);return}this._payloadLength===126?this._state=SO:this._payloadLength===127?this._state=EO:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let r=this.consume(8),s=r.readUInt32BE(0);if(s>Math.pow(2,21)-1){let a=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(a);return}this._payloadLength=s*Math.pow(2,32)+r.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let r=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(r);return}this._masked?this._state=PO:this._state=Gh}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Gh}getData(e){let r=_O;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&T5(r,this._mask)}if(this._opcode>7){this.controlMessage(r,e);return}if(this._compressed){this._state=Wh,this.decompress(r,e);return}r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage(e)}decompress(e,r){this._extensions[bO.extensionName].decompress(e,this._fin,(a,i)=>{if(a)return r(a);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let n=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");r(n);return}this._fragments.push(i)}this.dataMessage(r),this._state===jr&&this.startLoop(r)})}dataMessage(e){if(!this._fin){this._state=jr;return}let r=this._messageLength,s=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let a;this._binaryType==="nodebuffer"?a=Vh(s,r):this._binaryType==="arraybuffer"?a=C5(Vh(s,r)):this._binaryType==="blob"?a=new Blob(s):a=s,this._allowSynchronousEvents?(this.emit("message",a,!0),this._state=jr):(this._state=rp,setImmediate(()=>{this.emit("message",a,!0),this._state=jr,this.startLoop(e)}))}else{let a=Vh(s,r);if(!this._skipUTF8Validation&&!wO(a)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(i);return}this._state===Wh||this._allowSynchronousEvents?(this.emit("message",a,!1),this._state=jr):(this._state=rp,setImmediate(()=>{this.emit("message",a,!1),this._state=jr,this.startLoop(e)}))}}controlMessage(e,r){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,_O),this.end();else{let s=e.readUInt16BE(0);if(!O5(s)){let i=this.createError(RangeError,`invalid status code ${s}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");r(i);return}let a=new tp(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!wO(a)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");r(i);return}this._loop=!1,this.emit("conclude",s,a),this.end()}this._state=jr;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=jr):(this._state=rp,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=jr,this.startLoop(r)}))}createError(e,r,s,a,i){this._loop=!1,this._errored=!0;let n=new e(s?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(n,this.createError),n.code=i,n[P5]=a,n}};RO.exports=Zh});var Xh=z((Zne,OO)=>{"use strict";var{Duplex:Wne}=require("stream"),{randomFillSync:k5}=require("crypto"),CO=Yo(),{EMPTY_BUFFER:A5,kWebSocket:I5,NOOP:D5}=Ms(),{isBlob:Ni,isValidStatusCode:L5}=$i(),{mask:TO,toBuffer:wn}=Qo(),Mr=Symbol("kByteLength"),$5=Buffer.alloc(4),sp=8*1024,Sn,Fi=sp,es=0,N5=1,F5=2,Jh=class t{constructor(e,r,s){this._extensions=r||{},s&&(this._generateMask=s,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=es,this.onerror=D5,this[I5]=void 0}static frame(e,r){let s,a=!1,i=2,n=!1;r.mask&&(s=r.maskBuffer||$5,r.generateMask?r.generateMask(s):(Fi===sp&&(Sn===void 0&&(Sn=Buffer.alloc(sp)),k5(Sn,0,sp),Fi=0),s[0]=Sn[Fi++],s[1]=Sn[Fi++],s[2]=Sn[Fi++],s[3]=Sn[Fi++]),n=(s[0]|s[1]|s[2]|s[3])===0,i=6);let o;typeof e=="string"?(!r.mask||n)&&r[Mr]!==void 0?o=r[Mr]:(e=Buffer.from(e),o=e.length):(o=e.length,a=r.mask&&r.readOnly&&!n);let l=o;o>=65536?(i+=8,l=127):o>125&&(i+=2,l=126);let c=Buffer.allocUnsafe(a?o+i:i);return c[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(c[0]|=64),c[1]=l,l===126?c.writeUInt16BE(o,2):l===127&&(c[2]=c[3]=0,c.writeUIntBE(o,4,6)),r.mask?(c[1]|=128,c[i-4]=s[0],c[i-3]=s[1],c[i-2]=s[2],c[i-1]=s[3],n?[c,e]:a?(TO(e,s,c,i,o),[c]):(TO(e,s,e,0,o),[c,e])):[c,e]}close(e,r,s,a){let i;if(e===void 0)i=A5;else{if(typeof e!="number"||!L5(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)i=Buffer.allocUnsafe(2),i.writeUInt16BE(e,0);else{let o=Buffer.byteLength(r);if(o>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+o),i.writeUInt16BE(e,0),typeof r=="string"?i.write(r,2):i.set(r,2)}}let n={[Mr]:i.length,fin:!0,generateMask:this._generateMask,mask:s,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==es?this.enqueue([this.dispatch,i,!1,n,a]):this.sendFrame(t.frame(i,n),a)}ping(e,r,s){let a,i;if(typeof e=="string"?(a=Buffer.byteLength(e),i=!1):Ni(e)?(a=e.size,i=!1):(e=wn(e),a=e.length,i=wn.readOnly),a>125)throw new RangeError("The data size must not be greater than 125 bytes");let n={[Mr]:a,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};Ni(e)?this._state!==es?this.enqueue([this.getBlobData,e,!1,n,s]):this.getBlobData(e,!1,n,s):this._state!==es?this.enqueue([this.dispatch,e,!1,n,s]):this.sendFrame(t.frame(e,n),s)}pong(e,r,s){let a,i;if(typeof e=="string"?(a=Buffer.byteLength(e),i=!1):Ni(e)?(a=e.size,i=!1):(e=wn(e),a=e.length,i=wn.readOnly),a>125)throw new RangeError("The data size must not be greater than 125 bytes");let n={[Mr]:a,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};Ni(e)?this._state!==es?this.enqueue([this.getBlobData,e,!1,n,s]):this.getBlobData(e,!1,n,s):this._state!==es?this.enqueue([this.dispatch,e,!1,n,s]):this.sendFrame(t.frame(e,n),s)}send(e,r,s){let a=this._extensions[CO.extensionName],i=r.binary?2:1,n=r.compress,o,l;typeof e=="string"?(o=Buffer.byteLength(e),l=!1):Ni(e)?(o=e.size,l=!1):(e=wn(e),o=e.length,l=wn.readOnly),this._firstFragment?(this._firstFragment=!1,n&&a&&a.params[a._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(n=o>=a._threshold),this._compress=n):(n=!1,i=0),r.fin&&(this._firstFragment=!0);let c={[Mr]:o,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:i,readOnly:l,rsv1:n};Ni(e)?this._state!==es?this.enqueue([this.getBlobData,e,this._compress,c,s]):this.getBlobData(e,this._compress,c,s):this._state!==es?this.enqueue([this.dispatch,e,this._compress,c,s]):this.dispatch(e,this._compress,c,s)}getBlobData(e,r,s,a){this._bufferedBytes+=s[Mr],this._state=F5,e.arrayBuffer().then(i=>{if(this._socket.destroyed){let o=new Error("The socket was closed while the blob was being read");process.nextTick(Qh,this,o,a);return}this._bufferedBytes-=s[Mr];let n=wn(i);r?this.dispatch(n,r,s,a):(this._state=es,this.sendFrame(t.frame(n,s),a),this.dequeue())}).catch(i=>{process.nextTick(j5,this,i,a)})}dispatch(e,r,s,a){if(!r){this.sendFrame(t.frame(e,s),a);return}let i=this._extensions[CO.extensionName];this._bufferedBytes+=s[Mr],this._state=N5,i.compress(e,s.fin,(n,o)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");Qh(this,l,a);return}this._bufferedBytes-=s[Mr],this._state=es,s.readOnly=!1,this.sendFrame(t.frame(o,s),a),this.dequeue()})}dequeue(){for(;this._state===es&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Mr],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Mr],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};OO.exports=Jh;function Qh(t,e,r){typeof r=="function"&&r(e);for(let s=0;s<t._queue.length;s++){let a=t._queue[s],i=a[a.length-1];typeof i=="function"&&i(e)}}function j5(t,e,r){Qh(t,e,r),t.onerror(e)}});var jO=z((Kne,FO)=>{"use strict";var{kForOnEventAttribute:ec,kListener:Yh}=Ms(),kO=Symbol("kCode"),AO=Symbol("kData"),IO=Symbol("kError"),DO=Symbol("kMessage"),LO=Symbol("kReason"),ji=Symbol("kTarget"),$O=Symbol("kType"),NO=Symbol("kWasClean"),qs=class{constructor(e){this[ji]=null,this[$O]=e}get target(){return this[ji]}get type(){return this[$O]}};Object.defineProperty(qs.prototype,"target",{enumerable:!0});Object.defineProperty(qs.prototype,"type",{enumerable:!0});var En=class extends qs{constructor(e,r={}){super(e),this[kO]=r.code===void 0?0:r.code,this[LO]=r.reason===void 0?"":r.reason,this[NO]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[kO]}get reason(){return this[LO]}get wasClean(){return this[NO]}};Object.defineProperty(En.prototype,"code",{enumerable:!0});Object.defineProperty(En.prototype,"reason",{enumerable:!0});Object.defineProperty(En.prototype,"wasClean",{enumerable:!0});var Mi=class extends qs{constructor(e,r={}){super(e),this[IO]=r.error===void 0?null:r.error,this[DO]=r.message===void 0?"":r.message}get error(){return this[IO]}get message(){return this[DO]}};Object.defineProperty(Mi.prototype,"error",{enumerable:!0});Object.defineProperty(Mi.prototype,"message",{enumerable:!0});var tc=class extends qs{constructor(e,r={}){super(e),this[AO]=r.data===void 0?null:r.data}get data(){return this[AO]}};Object.defineProperty(tc.prototype,"data",{enumerable:!0});var M5={addEventListener(t,e,r={}){for(let a of this.listeners(t))if(!r[ec]&&a[Yh]===e&&!a[ec])return;let s;if(t==="message")s=function(i,n){let o=new tc("message",{data:n?i:i.toString()});o[ji]=this,ap(e,this,o)};else if(t==="close")s=function(i,n){let o=new En("close",{code:i,reason:n.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});o[ji]=this,ap(e,this,o)};else if(t==="error")s=function(i){let n=new Mi("error",{error:i,message:i.message});n[ji]=this,ap(e,this,n)};else if(t==="open")s=function(){let i=new qs("open");i[ji]=this,ap(e,this,i)};else return;s[ec]=!!r[ec],s[Yh]=e,r.once?this.once(t,s):this.on(t,s)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[Yh]===e&&!r[ec]){this.removeListener(t,r);break}}};FO.exports={CloseEvent:En,ErrorEvent:Mi,Event:qs,EventTarget:M5,MessageEvent:tc};function ap(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r)}});var ev=z((Jne,MO)=>{"use strict";var{tokenChars:rc}=$i();function ys(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function U5(t){let e=Object.create(null),r=Object.create(null),s=!1,a=!1,i=!1,n,o,l=-1,c=-1,u=-1,p=0;for(;p<t.length;p++)if(c=t.charCodeAt(p),n===void 0)if(u===-1&&rc[c]===1)l===-1&&(l=p);else if(p!==0&&(c===32||c===9))u===-1&&l!==-1&&(u=p);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${p}`);u===-1&&(u=p);let d=t.slice(l,u);c===44?(ys(e,d,r),r=Object.create(null)):n=d,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);else if(o===void 0)if(u===-1&&rc[c]===1)l===-1&&(l=p);else if(c===32||c===9)u===-1&&l!==-1&&(u=p);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${p}`);u===-1&&(u=p),ys(r,t.slice(l,u),!0),c===44&&(ys(e,n,r),r=Object.create(null),n=void 0),l=u=-1}else if(c===61&&l!==-1&&u===-1)o=t.slice(l,p),l=u=-1;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(a){if(rc[c]!==1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1?l=p:s||(s=!0),a=!1}else if(i)if(rc[c]===1)l===-1&&(l=p);else if(c===34&&l!==-1)i=!1,u=p;else if(c===92)a=!0;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(c===34&&t.charCodeAt(p-1)===61)i=!0;else if(u===-1&&rc[c]===1)l===-1&&(l=p);else if(l!==-1&&(c===32||c===9))u===-1&&(u=p);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${p}`);u===-1&&(u=p);let d=t.slice(l,u);s&&(d=d.replace(/\\/g,""),s=!1),ys(r,o,d),c===44&&(ys(e,n,r),r=Object.create(null),n=void 0),o=void 0,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);if(l===-1||i||c===32||c===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=p);let h=t.slice(l,u);return n===void 0?ys(e,h,r):(o===void 0?ys(r,h,!0):s?ys(r,o,h.replace(/\\/g,"")):ys(r,o,h),ys(e,n,r)),e}function q5(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(s=>[e].concat(Object.keys(s).map(a=>{let i=s[a];return Array.isArray(i)||(i=[i]),i.map(n=>n===!0?a:`${a}=${n}`).join("; ")})).join("; ")).join(", ")}).join(", ")}MO.exports={format:q5,parse:U5}});var cp=z((Yne,QO)=>{"use strict";var z5=require("events"),B5=require("https"),H5=require("http"),zO=require("net"),V5=require("tls"),{randomBytes:G5,createHash:W5}=require("crypto"),{Duplex:Qne,Readable:Xne}=require("stream"),{URL:tv}=require("url"),xa=Yo(),Z5=Kh(),K5=Xh(),{isBlob:J5}=$i(),{BINARY_TYPES:UO,EMPTY_BUFFER:np,GUID:Q5,kForOnEventAttribute:rv,kListener:X5,kStatusCode:Y5,kWebSocket:Ft,NOOP:BO}=Ms(),{EventTarget:{addEventListener:e6,removeEventListener:t6}}=jO(),{format:r6,parse:s6}=ev(),{toBuffer:a6}=Qo(),n6=30*1e3,HO=Symbol("kAborted"),sv=[8,13],zs=["CONNECTING","OPEN","CLOSING","CLOSED"],i6=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,bt=class t extends z5{constructor(e,r,s){super(),this._binaryType=UO[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=np,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(s=r,r=[]):r=[r]),VO(this,e,r,s)):(this._autoPong=s.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){UO.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,s){let a=new Z5({allowSynchronousEvents:s.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation}),i=new K5(e,this._extensions,s.generateMask);this._receiver=a,this._sender=i,this._socket=e,a[Ft]=this,i[Ft]=this,e[Ft]=this,a.on("conclude",l6),a.on("drain",u6),a.on("error",p6),a.on("message",d6),a.on("ping",f6),a.on("pong",m6),i.onerror=h6,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",ZO),e.on("data",op),e.on("end",KO),e.on("error",JO),this._readyState=t.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[xa.extensionName]&&this._extensions[xa.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){wr(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(e,r,!this._isServer,s=>{s||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),WO(this)}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,s){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(s=e,e=r=void 0):typeof r=="function"&&(s=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){av(this,e,s);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||np,r,s)}pong(e,r,s){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(s=e,e=r=void 0):typeof r=="function"&&(s=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){av(this,e,s);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||np,r,s)}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,s){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(s=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){av(this,e,s);return}let a={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[xa.extensionName]||(a.compress=!1),this._sender.send(e||np,a,s)}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){wr(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy())}}};Object.defineProperty(bt,"CONNECTING",{enumerable:!0,value:zs.indexOf("CONNECTING")});Object.defineProperty(bt.prototype,"CONNECTING",{enumerable:!0,value:zs.indexOf("CONNECTING")});Object.defineProperty(bt,"OPEN",{enumerable:!0,value:zs.indexOf("OPEN")});Object.defineProperty(bt.prototype,"OPEN",{enumerable:!0,value:zs.indexOf("OPEN")});Object.defineProperty(bt,"CLOSING",{enumerable:!0,value:zs.indexOf("CLOSING")});Object.defineProperty(bt.prototype,"CLOSING",{enumerable:!0,value:zs.indexOf("CLOSING")});Object.defineProperty(bt,"CLOSED",{enumerable:!0,value:zs.indexOf("CLOSED")});Object.defineProperty(bt.prototype,"CLOSED",{enumerable:!0,value:zs.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(bt.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(bt.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[rv])return e[X5];return null},set(e){for(let r of this.listeners(t))if(r[rv]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[rv]:!0})}})});bt.prototype.addEventListener=e6;bt.prototype.removeEventListener=t6;QO.exports=bt;function VO(t,e,r,s){let a={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:sv[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...s,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=a.autoPong,!sv.includes(a.protocolVersion))throw new RangeError(`Unsupported protocol version: ${a.protocolVersion} (supported versions: ${sv.join(", ")})`);let i;if(e instanceof tv)i=e;else try{i=new tv(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}i.protocol==="http:"?i.protocol="ws:":i.protocol==="https:"&&(i.protocol="wss:"),t._url=i.href;let n=i.protocol==="wss:",o=i.protocol==="ws+unix:",l;if(i.protocol!=="ws:"&&!n&&!o?l=`The URL's protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"`:o&&!i.pathname?l="The URL's pathname is empty":i.hash&&(l="The URL contains a fragment identifier"),l){let f=new SyntaxError(l);if(t._redirects===0)throw f;ip(t,f);return}let c=n?443:80,u=G5(16).toString("base64"),p=n?B5.request:H5.request,h=new Set,d;if(a.createConnection=a.createConnection||(n?c6:o6),a.defaultPort=a.defaultPort||c,a.port=i.port||c,a.host=i.hostname.startsWith("[")?i.hostname.slice(1,-1):i.hostname,a.headers={...a.headers,"Sec-WebSocket-Version":a.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},a.path=i.pathname+i.search,a.timeout=a.handshakeTimeout,a.perMessageDeflate&&(d=new xa(a.perMessageDeflate!==!0?a.perMessageDeflate:{},!1,a.maxPayload),a.headers["Sec-WebSocket-Extensions"]=r6({[xa.extensionName]:d.offer()})),r.length){for(let f of r){if(typeof f!="string"||!i6.test(f)||h.has(f))throw new SyntaxError("An invalid or duplicated subprotocol was specified");h.add(f)}a.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(a.origin&&(a.protocolVersion<13?a.headers["Sec-WebSocket-Origin"]=a.origin:a.headers.Origin=a.origin),(i.username||i.password)&&(a.auth=`${i.username}:${i.password}`),o){let f=a.path.split(":");a.socketPath=f[0],a.path=f[1]}let m;if(a.followRedirects){if(t._redirects===0){t._originalIpc=o,t._originalSecure=n,t._originalHostOrSocketPath=o?a.socketPath:i.host;let f=s&&s.headers;if(s={...s,headers:{}},f)for(let[v,g]of Object.entries(f))s.headers[v.toLowerCase()]=g}else if(t.listenerCount("redirect")===0){let f=o?t._originalIpc?a.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:i.host===t._originalHostOrSocketPath;(!f||t._originalSecure&&!n)&&(delete a.headers.authorization,delete a.headers.cookie,f||delete a.headers.host,a.auth=void 0)}a.auth&&!s.headers.authorization&&(s.headers.authorization="Basic "+Buffer.from(a.auth).toString("base64")),m=t._req=p(a),t._redirects&&t.emit("redirect",t.url,m)}else m=t._req=p(a);a.timeout&&m.on("timeout",()=>{wr(t,m,"Opening handshake has timed out")}),m.on("error",f=>{m===null||m[HO]||(m=t._req=null,ip(t,f))}),m.on("response",f=>{let v=f.headers.location,g=f.statusCode;if(v&&a.followRedirects&&g>=300&&g<400){if(++t._redirects>a.maxRedirects){wr(t,m,"Maximum redirects exceeded");return}m.abort();let b;try{b=new tv(v,e)}catch{let R=new SyntaxError(`Invalid URL: ${v}`);ip(t,R);return}VO(t,b,r,s)}else t.emit("unexpected-response",m,f)||wr(t,m,`Unexpected server response: ${f.statusCode}`)}),m.on("upgrade",(f,v,g)=>{if(t.emit("upgrade",f),t.readyState!==bt.CONNECTING)return;m=t._req=null;let b=f.headers.upgrade;if(b===void 0||b.toLowerCase()!=="websocket"){wr(t,v,"Invalid Upgrade header");return}let w=W5("sha1").update(u+Q5).digest("base64");if(f.headers["sec-websocket-accept"]!==w){wr(t,v,"Invalid Sec-WebSocket-Accept header");return}let R=f.headers["sec-websocket-protocol"],C;if(R!==void 0?h.size?h.has(R)||(C="Server sent an invalid subprotocol"):C="Server sent a subprotocol but none was requested":h.size&&(C="Server sent no subprotocol"),C){wr(t,v,C);return}R&&(t._protocol=R);let P=f.headers["sec-websocket-extensions"];if(P!==void 0){if(!d){wr(t,v,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let T;try{T=s6(P)}catch{wr(t,v,"Invalid Sec-WebSocket-Extensions header");return}let $=Object.keys(T);if($.length!==1||$[0]!==xa.extensionName){wr(t,v,"Server indicated an extension that was not requested");return}try{d.accept(T[xa.extensionName])}catch{wr(t,v,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[xa.extensionName]=d}t.setSocket(v,g,{allowSynchronousEvents:a.allowSynchronousEvents,generateMask:a.generateMask,maxPayload:a.maxPayload,skipUTF8Validation:a.skipUTF8Validation})}),a.finishRequest?a.finishRequest(m,t):m.end()}function ip(t,e){t._readyState=bt.CLOSING,t._errorEmitted=!0,t.emit("error",e),t.emitClose()}function o6(t){return t.path=t.socketPath,zO.connect(t)}function c6(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=zO.isIP(t.host)?"":t.host),V5.connect(t)}function wr(t,e,r){t._readyState=bt.CLOSING;let s=new Error(r);Error.captureStackTrace(s,wr),e.setHeader?(e[HO]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(ip,t,s)):(e.destroy(s),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function av(t,e,r){if(e){let s=J5(e)?e.size:a6(e).length;t._socket?t._sender._bufferedBytes+=s:t._bufferedAmount+=s}if(r){let s=new Error(`WebSocket is not open: readyState ${t.readyState} (${zs[t.readyState]})`);process.nextTick(r,s)}}function l6(t,e){let r=this[Ft];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[Ft]!==void 0&&(r._socket.removeListener("data",op),process.nextTick(GO,r._socket),t===1005?r.close():r.close(t,e))}function u6(){let t=this[Ft];t.isPaused||t._socket.resume()}function p6(t){let e=this[Ft];e._socket[Ft]!==void 0&&(e._socket.removeListener("data",op),process.nextTick(GO,e._socket),e.close(t[Y5])),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t))}function qO(){this[Ft].emitClose()}function d6(t,e){this[Ft].emit("message",t,e)}function f6(t){let e=this[Ft];e._autoPong&&e.pong(t,!this._isServer,BO),e.emit("ping",t)}function m6(t){this[Ft].emit("pong",t)}function GO(t){t.resume()}function h6(t){let e=this[Ft];e.readyState!==bt.CLOSED&&(e.readyState===bt.OPEN&&(e._readyState=bt.CLOSING,WO(e)),this._socket.end(),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t)))}function WO(t){t._closeTimer=setTimeout(t._socket.destroy.bind(t._socket),n6)}function ZO(){let t=this[Ft];this.removeListener("close",ZO),this.removeListener("data",op),this.removeListener("end",KO),t._readyState=bt.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[Ft]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",qO),t._receiver.on("finish",qO))}function op(t){this[Ft]._receiver.write(t)||this.pause()}function KO(){let t=this[Ft];t._readyState=bt.CLOSING,t._receiver.end(),this.end()}function JO(){let t=this[Ft];this.removeListener("error",JO),this.on("error",BO),t&&(t._readyState=bt.CLOSING,this.destroy())}});var tk=z((tie,ek)=>{"use strict";var eie=cp(),{Duplex:v6}=require("stream");function XO(t){t.emit("close")}function g6(){!this.destroyed&&this._writableState.finished&&this.destroy()}function YO(t){this.removeListener("error",YO),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function y6(t,e){let r=!0,s=new v6({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(i,n){let o=!n&&s._readableState.objectMode?i.toString():i;s.push(o)||t.pause()}),t.once("error",function(i){s.destroyed||(r=!1,s.destroy(i))}),t.once("close",function(){s.destroyed||s.push(null)}),s._destroy=function(a,i){if(t.readyState===t.CLOSED){i(a),process.nextTick(XO,s);return}let n=!1;t.once("error",function(l){n=!0,i(l)}),t.once("close",function(){n||i(a),process.nextTick(XO,s)}),r&&t.terminate()},s._final=function(a){if(t.readyState===t.CONNECTING){t.once("open",function(){s._final(a)});return}t._socket!==null&&(t._socket._writableState.finished?(a(),s._readableState.endEmitted&&s.destroy()):(t._socket.once("finish",function(){a()}),t.close()))},s._read=function(){t.isPaused&&t.resume()},s._write=function(a,i,n){if(t.readyState===t.CONNECTING){t.once("open",function(){s._write(a,i,n)});return}t.send(a,n)},s.on("end",g6),s.on("error",YO),s}ek.exports=y6});var sk=z((rie,rk)=>{"use strict";var{tokenChars:x6}=$i();function b6(t){let e=new Set,r=-1,s=-1,a=0;for(a;a<t.length;a++){let n=t.charCodeAt(a);if(s===-1&&x6[n]===1)r===-1&&(r=a);else if(a!==0&&(n===32||n===9))s===-1&&r!==-1&&(s=a);else if(n===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${a}`);s===-1&&(s=a);let o=t.slice(r,s);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);e.add(o),r=s=-1}else throw new SyntaxError(`Unexpected character at index ${a}`)}if(r===-1||s!==-1)throw new SyntaxError("Unexpected end of input");let i=t.slice(r,a);if(e.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);return e.add(i),e}rk.exports={parse:b6}});var uk=z((aie,lk)=>{"use strict";var _6=require("events"),lp=require("http"),{Duplex:sie}=require("stream"),{createHash:w6}=require("crypto"),ak=ev(),Pn=Yo(),S6=sk(),E6=cp(),{GUID:P6,kWebSocket:R6}=Ms(),C6=/^[+/0-9A-Za-z]{22}==$/,nk=0,ik=1,ck=2,nv=class extends _6{constructor(e,r){if(super(),e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:E6,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=lp.createServer((s,a)=>{let i=lp.STATUS_CODES[426];a.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),a.end(i)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let s=this.emit.bind(this,"connection");this._removeListeners=T6(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(a,i,n)=>{this.handleUpgrade(a,i,n,s)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=nk}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===ck){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(sc,this);return}if(e&&this.once("close",e),this._state!==ik)if(this._state=ik,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(sc,this):process.nextTick(sc,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{sc(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,s,a){r.on("error",ok);let i=e.headers["sec-websocket-key"],n=e.headers.upgrade,o=+e.headers["sec-websocket-version"];if(e.method!=="GET"){Rn(this,e,r,405,"Invalid HTTP method");return}if(n===void 0||n.toLowerCase()!=="websocket"){Rn(this,e,r,400,"Invalid Upgrade header");return}if(i===void 0||!C6.test(i)){Rn(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(o!==13&&o!==8){Rn(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});return}if(!this.shouldHandle(e)){ac(r,400);return}let l=e.headers["sec-websocket-protocol"],c=new Set;if(l!==void 0)try{c=S6.parse(l)}catch{Rn(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],p={};if(this.options.perMessageDeflate&&u!==void 0){let h=new Pn(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let d=ak.parse(u);d[Pn.extensionName]&&(h.accept(d[Pn.extensionName]),p[Pn.extensionName]=h)}catch{Rn(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let h={origin:e.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(h,(d,m,f,v)=>{if(!d)return ac(r,m||401,f,v);this.completeUpgrade(p,i,c,e,r,s,a)});return}if(!this.options.verifyClient(h))return ac(r,401)}this.completeUpgrade(p,i,c,e,r,s,a)}completeUpgrade(e,r,s,a,i,n,o){if(!i.readable||!i.writable)return i.destroy();if(i[R6])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>nk)return ac(i,503);let c=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${w6("sha1").update(r+P6).digest("base64")}`],u=new this.options.WebSocket(null,void 0,this.options);if(s.size){let p=this.options.handleProtocols?this.options.handleProtocols(s,a):s.values().next().value;p&&(c.push(`Sec-WebSocket-Protocol: ${p}`),u._protocol=p)}if(e[Pn.extensionName]){let p=e[Pn.extensionName].params,h=ak.format({[Pn.extensionName]:[p]});c.push(`Sec-WebSocket-Extensions: ${h}`),u._extensions=e}this.emit("headers",c,a),i.write(c.concat(`\r
`).join(`\r
`)),i.removeListener("error",ok),u.setSocket(i,n,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(sc,this)})),o(u,a)}};lk.exports=nv;function T6(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let s of Object.keys(e))t.removeListener(s,e[s])}}function sc(t){t._state=ck,t.emit("close")}function ok(){this.destroy()}function ac(t,e,r,s){r=r||lp.STATUS_CODES[e],s={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...s},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${lp.STATUS_CODES[e]}\r
`+Object.keys(s).map(a=>`${a}: ${s[a]}`).join(`\r
`)+`\r
\r
`+r)}function Rn(t,e,r,s,a,i){if(t.listenerCount("wsClientError")){let n=new Error(a);Error.captureStackTrace(n,Rn),t.emit("wsClientError",n,r,e)}else ac(r,s,a,i)}});var H6={};wp(H6,{activate:()=>j6,deactivate:()=>z6,openTabs:()=>B6});module.exports=Mk(H6);var nt=ae(require("vscode"),1);var ht=ae(require("vscode"),1),RP=ae(require("path"),1),zm=ae(require("os"),1);var hv=require("crypto");function On(){return(0,hv.randomBytes)(16).toString("hex")}var Dr=ae(require("fs"),1);var ey=require("node:buffer"),ty=ae(require("node:path"),1),Oc=ae(require("node:child_process"),1),Ji=ae(require("node:process"),1),ry=ae(sg(),1);function Ip(t){let e=typeof t=="string"?`
`:10,r=typeof t=="string"?"\r":13;return t[t.length-1]===e&&(t=t.slice(0,-1)),t[t.length-1]===r&&(t=t.slice(0,-1)),t}var Wi=ae(require("node:process"),1),In=ae(require("node:path"),1),Dp=require("node:url");function vc(t={}){let{env:e=process.env,platform:r=process.platform}=t;return r!=="win32"?"PATH":Object.keys(e).reverse().find(s=>s.toUpperCase()==="PATH")||"Path"}var d1=({cwd:t=Wi.default.cwd(),path:e=Wi.default.env[vc()],preferLocal:r=!0,execPath:s=Wi.default.execPath,addExecPath:a=!0}={})=>{let i=t instanceof URL?(0,Dp.fileURLToPath)(t):t,n=In.default.resolve(i),o=[];return r&&f1(o,n),a&&m1(o,s,n),[...o,e].join(In.default.delimiter)},f1=(t,e)=>{let r;for(;r!==e;)t.push(In.default.join(e,"node_modules/.bin")),r=e,e=In.default.resolve(e,"..")},m1=(t,e,r)=>{let s=e instanceof URL?(0,Dp.fileURLToPath)(e):e;t.push(In.default.resolve(r,s,".."))},ag=({env:t=Wi.default.env,...e}={})=>{t={...t};let r=vc({env:t});return e.path=t[r],t[r]=d1(e),t};var h1=(t,e,r,s)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;let a=Object.getOwnPropertyDescriptor(t,r),i=Object.getOwnPropertyDescriptor(e,r);!v1(a,i)&&s||Object.defineProperty(t,r,i)},v1=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},g1=(t,e)=>{let r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},y1=(t,e)=>`/* Wrapped ${t}*/
${e}`,x1=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),b1=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),_1=(t,e,r)=>{let s=r===""?"":`with ${r.trim()}() `,a=y1.bind(null,s,e.toString());Object.defineProperty(a,"name",b1),Object.defineProperty(t,"toString",{...x1,value:a})};function Lp(t,e,{ignoreNonConfigurable:r=!1}={}){let{name:s}=t;for(let a of Reflect.ownKeys(e))h1(t,e,a,r);return g1(t,e),_1(t,e,s),t}var gc=new WeakMap,ng=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,s=0,a=t.displayName||t.name||"<anonymous>",i=function(...n){if(gc.set(i,++s),s===1)r=t.apply(this,n),t=null;else if(e.throw===!0)throw new Error(`Function \`${a}\` can only be called once`);return r};return Lp(i,t),gc.set(i,s),i};ng.callCount=t=>{if(!gc.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return gc.get(t)};var ig=ng;var mg=ae(require("node:process"),1);var dg=require("node:os");var og=()=>{let t=lg-cg+1;return Array.from({length:t},w1)},w1=(t,e)=>({name:`SIGRT${e+1}`,number:cg+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),cg=34,lg=64;var pg=require("node:os");var ug=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var $p=()=>{let t=og();return[...ug,...t].map(S1)},S1=({name:t,number:e,description:r,action:s,forced:a=!1,standard:i})=>{let{signals:{[t]:n}}=pg.constants,o=n!==void 0;return{name:t,number:o?n:e,description:r,supported:o,action:s,forced:a,standard:i}};var E1=()=>{let t=$p();return Object.fromEntries(t.map(P1))},P1=({name:t,number:e,description:r,supported:s,action:a,forced:i,standard:n})=>[t,{name:t,number:e,description:r,supported:s,action:a,forced:i,standard:n}],fg=E1(),R1=()=>{let t=$p(),e=65,r=Array.from({length:e},(s,a)=>C1(a,t));return Object.assign({},...r)},C1=(t,e)=>{let r=T1(t,e);if(r===void 0)return{};let{name:s,description:a,supported:i,action:n,forced:o,standard:l}=r;return{[t]:{name:s,number:t,description:a,supported:i,action:n,forced:o,standard:l}}},T1=(t,e)=>{let r=e.find(({name:s})=>dg.constants.signals[s]===t);return r!==void 0?r:e.find(s=>s.number===t)},wG=R1();var O1=({timedOut:t,timeout:e,errorCode:r,signal:s,signalDescription:a,exitCode:i,isCanceled:n})=>t?`timed out after ${e} milliseconds`:n?"was canceled":r!==void 0?`failed with ${r}`:s!==void 0?`was killed with ${s} (${a})`:i!==void 0?`failed with exit code ${i}`:"failed",Zi=({stdout:t,stderr:e,all:r,error:s,signal:a,exitCode:i,command:n,escapedCommand:o,timedOut:l,isCanceled:c,killed:u,parsed:{options:{timeout:p,cwd:h=mg.default.cwd()}}})=>{i=i===null?void 0:i,a=a===null?void 0:a;let d=a===void 0?void 0:fg[a].description,m=s&&s.code,v=`Command ${O1({timedOut:l,timeout:p,errorCode:m,signal:a,signalDescription:d,exitCode:i,isCanceled:c})}: ${n}`,g=Object.prototype.toString.call(s)==="[object Error]",b=g?`${v}
${s.message}`:v,w=[b,e,t].filter(Boolean).join(`
`);return g?(s.originalMessage=s.message,s.message=w):s=new Error(w),s.shortMessage=b,s.command=n,s.escapedCommand=o,s.exitCode=i,s.signal=a,s.signalDescription=d,s.stdout=t,s.stderr=e,s.cwd=h,r!==void 0&&(s.all=r),"bufferedData"in s&&delete s.bufferedData,s.failed=!0,s.timedOut=!!l,s.isCanceled=c,s.killed=u&&!l,s};var yc=["stdin","stdout","stderr"],k1=t=>yc.some(e=>t[e]!==void 0),hg=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return yc.map(s=>t[s]);if(k1(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${yc.map(s=>`\`${s}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,yc.length);return Array.from({length:r},(s,a)=>e[a])};var gg=ae(require("node:os"),1);var Sa=[];Sa.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&Sa.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Sa.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");var xc=t=>!!t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function",Np=Symbol.for("signal-exit emitter"),Fp=globalThis,A1=Object.defineProperty.bind(Object),jp=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(Fp[Np])return Fp[Np];A1(Fp,Np,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(e,r){this.listeners[e].push(r)}removeListener(e,r){let s=this.listeners[e],a=s.indexOf(r);a!==-1&&(a===0&&s.length===1?s.length=0:s.splice(a,1))}emit(e,r,s){if(this.emitted[e])return!1;this.emitted[e]=!0;let a=!1;for(let i of this.listeners[e])a=i(r,s)===!0||a;return e==="exit"&&(a=this.emit("afterExit",r,s)||a),a}},bc=class{},I1=t=>({onExit(e,r){return t.onExit(e,r)},load(){return t.load()},unload(){return t.unload()}}),Mp=class extends bc{onExit(){return()=>{}}load(){}unload(){}},Up=class extends bc{#i=qp.platform==="win32"?"SIGINT":"SIGHUP";#t=new jp;#e;#a;#n;#s={};#r=!1;constructor(e){super(),this.#e=e,this.#s={};for(let r of Sa)this.#s[r]=()=>{let s=this.#e.listeners(r),{count:a}=this.#t,i=e;if(typeof i.__signal_exit_emitter__=="object"&&typeof i.__signal_exit_emitter__.count=="number"&&(a+=i.__signal_exit_emitter__.count),s.length===a){this.unload();let n=this.#t.emit("exit",null,r),o=r==="SIGHUP"?this.#i:r;n||e.kill(e.pid,o)}};this.#n=e.reallyExit,this.#a=e.emit}onExit(e,r){if(!xc(this.#e))return()=>{};this.#r===!1&&this.load();let s=r?.alwaysLast?"afterExit":"exit";return this.#t.on(s,e),()=>{this.#t.removeListener(s,e),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#r){this.#r=!0,this.#t.count+=1;for(let e of Sa)try{let r=this.#s[e];r&&this.#e.on(e,r)}catch{}this.#e.emit=(e,...r)=>this.#c(e,...r),this.#e.reallyExit=e=>this.#o(e)}}unload(){this.#r&&(this.#r=!1,Sa.forEach(e=>{let r=this.#s[e];if(!r)throw new Error("Listener not defined for signal: "+e);try{this.#e.removeListener(e,r)}catch{}}),this.#e.emit=this.#a,this.#e.reallyExit=this.#n,this.#t.count-=1)}#o(e){return xc(this.#e)?(this.#e.exitCode=e||0,this.#t.emit("exit",this.#e.exitCode,null),this.#n.call(this.#e,this.#e.exitCode)):0}#c(e,...r){let s=this.#a;if(e==="exit"&&xc(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let a=s.call(this.#e,e,...r);return this.#t.emit("exit",this.#e.exitCode,null),a}else return s.call(this.#e,e,...r)}},qp=globalThis.process,{onExit:vg,load:OG,unload:kG}=I1(xc(qp)?new Up(qp):new Mp);var D1=1e3*5,yg=(t,e="SIGTERM",r={})=>{let s=t(e);return L1(t,e,r,s),s},L1=(t,e,r,s)=>{if(!$1(e,r,s))return;let a=F1(r),i=setTimeout(()=>{t("SIGKILL")},a);i.unref&&i.unref()},$1=(t,{forceKillAfterTimeout:e},r)=>N1(t)&&e!==!1&&r,N1=t=>t===gg.default.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",F1=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return D1;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},xg=(t,e)=>{t.kill()&&(e.isCanceled=!0)},j1=(t,e,r)=>{t.kill(e),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},bg=(t,{timeout:e,killSignal:r="SIGTERM"},s)=>{if(e===0||e===void 0)return s;let a,i=new Promise((o,l)=>{a=setTimeout(()=>{j1(t,r,l)},e)}),n=s.finally(()=>{clearTimeout(a)});return Promise.race([i,n])},_g=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},wg=async(t,{cleanup:e,detached:r},s)=>{if(!e||r)return s;let a=vg(()=>{t.kill()});return s.finally(()=>{a()})};var Sg=require("node:fs"),Eg=require("node:child_process");function _c(t){return t!==null&&typeof t=="object"&&typeof t.pipe=="function"}function zp(t){return _c(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object"}var M1=t=>t instanceof Eg.ChildProcess&&typeof t.then=="function",Bp=(t,e,r)=>{if(typeof r=="string")return t[e].pipe((0,Sg.createWriteStream)(r)),t;if(zp(r))return t[e].pipe(r),t;if(!M1(r))throw new TypeError("The second argument must be a string, a stream or an Execa child process.");if(!zp(r.stdin))throw new TypeError("The target child process's stdin must be available.");return t[e].pipe(r.stdin),r},Pg=t=>{t.stdout!==null&&(t.pipeStdout=Bp.bind(void 0,t,"stdout")),t.stderr!==null&&(t.pipeStderr=Bp.bind(void 0,t,"stderr")),t.all!==void 0&&(t.pipeAll=Bp.bind(void 0,t,"all"))};var Cc=require("node:fs"),Fg=require("node:timers/promises");var Ki=async(t,{init:e,convertChunk:r,getSize:s,truncateChunk:a,addChunk:i,getFinalChunk:n,finalize:o},{maxBuffer:l=Number.POSITIVE_INFINITY}={})=>{if(!q1(t))throw new Error("The first argument must be a Readable, a ReadableStream, or an async iterable.");let c=e();c.length=0;try{for await(let u of t){let p=z1(u),h=r[p](u,c);Tg({convertedChunk:h,state:c,getSize:s,truncateChunk:a,addChunk:i,maxBuffer:l})}return U1({state:c,convertChunk:r,getSize:s,truncateChunk:a,addChunk:i,getFinalChunk:n,maxBuffer:l}),o(c)}catch(u){throw u.bufferedData=o(c),u}},U1=({state:t,getSize:e,truncateChunk:r,addChunk:s,getFinalChunk:a,maxBuffer:i})=>{let n=a(t);n!==void 0&&Tg({convertedChunk:n,state:t,getSize:e,truncateChunk:r,addChunk:s,maxBuffer:i})},Tg=({convertedChunk:t,state:e,getSize:r,truncateChunk:s,addChunk:a,maxBuffer:i})=>{let n=r(t),o=e.length+n;if(o<=i){Rg(t,e,a,o);return}let l=s(t,i-e.length);throw l!==void 0&&Rg(l,e,a,i),new wc},Rg=(t,e,r,s)=>{e.contents=r(t,e,s),e.length=s},q1=t=>typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function",z1=t=>{let e=typeof t;if(e==="string")return"string";if(e!=="object"||t===null)return"others";if(globalThis.Buffer?.isBuffer(t))return"buffer";let r=Cg.call(t);return r==="[object ArrayBuffer]"?"arrayBuffer":r==="[object DataView]"?"dataView":Number.isInteger(t.byteLength)&&Number.isInteger(t.byteOffset)&&Cg.call(t.buffer)==="[object ArrayBuffer]"?"typedArray":"others"},{toString:Cg}=Object.prototype,wc=class extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}};var Hp=t=>t,Vp=()=>{},Gp=({contents:t})=>t,Sc=t=>{throw new Error(`Streams in object mode are not supported: ${String(t)}`)},Ec=t=>t.length;async function Wp(t,e){return Ki(t,Q1,e)}var B1=()=>({contents:new ArrayBuffer(0)}),H1=t=>V1.encode(t),V1=new TextEncoder,Og=t=>new Uint8Array(t),kg=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),G1=(t,e)=>t.slice(0,e),W1=(t,{contents:e,length:r},s)=>{let a=Dg()?K1(e,s):Z1(e,s);return new Uint8Array(a).set(t,r),a},Z1=(t,e)=>{if(e<=t.byteLength)return t;let r=new ArrayBuffer(Ig(e));return new Uint8Array(r).set(new Uint8Array(t),0),r},K1=(t,e)=>{if(e<=t.maxByteLength)return t.resize(e),t;let r=new ArrayBuffer(e,{maxByteLength:Ig(e)});return new Uint8Array(r).set(new Uint8Array(t),0),r},Ig=t=>Ag**Math.ceil(Math.log(t)/Math.log(Ag)),Ag=2,J1=({contents:t,length:e})=>Dg()?t:t.slice(0,e),Dg=()=>"resize"in ArrayBuffer.prototype,Q1={init:B1,convertChunk:{string:H1,buffer:Og,arrayBuffer:Og,dataView:kg,typedArray:kg,others:Sc},getSize:Ec,truncateChunk:G1,addChunk:W1,getFinalChunk:Vp,finalize:J1};async function Pc(t,e){if(!("Buffer"in globalThis))throw new Error("getStreamAsBuffer() is only supported in Node.js");try{return Lg(await Wp(t,e))}catch(r){throw r.bufferedData!==void 0&&(r.bufferedData=Lg(r.bufferedData)),r}}var Lg=t=>globalThis.Buffer.from(t);async function Zp(t,e){return Ki(t,rA,e)}var X1=()=>({contents:"",textDecoder:new TextDecoder}),Rc=(t,{textDecoder:e})=>e.decode(t,{stream:!0}),Y1=(t,{contents:e})=>e+t,eA=(t,e)=>t.slice(0,e),tA=({textDecoder:t})=>{let e=t.decode();return e===""?void 0:e},rA={init:X1,convertChunk:{string:Hp,buffer:Rc,arrayBuffer:Rc,dataView:Rc,typedArray:Rc,others:Sc},getSize:Ec,truncateChunk:eA,addChunk:Y1,getFinalChunk:tA,finalize:Gp};var jg=ae(Ng(),1),Mg=t=>{if(t!==void 0)throw new TypeError("The `input` and `inputFile` options cannot be both set.")},aA=({input:t,inputFile:e})=>typeof e!="string"?t:(Mg(t),(0,Cc.readFileSync)(e)),Ug=t=>{let e=aA(t);if(_c(e))throw new TypeError("The `input` option cannot be a stream in sync mode");return e},nA=({input:t,inputFile:e})=>typeof e!="string"?t:(Mg(t),(0,Cc.createReadStream)(e)),qg=(t,e)=>{let r=nA(e);r!==void 0&&(_c(r)?r.pipe(t.stdin):t.stdin.end(r))},zg=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let r=(0,jg.default)();return t.stdout&&r.add(t.stdout),t.stderr&&r.add(t.stderr),r},Kp=async(t,e)=>{if(!(!t||e===void 0)){await(0,Fg.setTimeout)(0),t.destroy();try{return await e}catch(r){return r.bufferedData}}},Jp=(t,{encoding:e,buffer:r,maxBuffer:s})=>{if(!(!t||!r))return e==="utf8"||e==="utf-8"?Zp(t,{maxBuffer:s}):e===null||e==="buffer"?Pc(t,{maxBuffer:s}):iA(t,s,e)},iA=async(t,e,r)=>(await Pc(t,{maxBuffer:e})).toString(r),Bg=async({stdout:t,stderr:e,all:r},{encoding:s,buffer:a,maxBuffer:i},n)=>{let o=Jp(t,{encoding:s,buffer:a,maxBuffer:i}),l=Jp(e,{encoding:s,buffer:a,maxBuffer:i}),c=Jp(r,{encoding:s,buffer:a,maxBuffer:i*2});try{return await Promise.all([n,o,l,c])}catch(u){return Promise.all([{error:u,signal:u.signal,timedOut:u.timedOut},Kp(t,o),Kp(e,l),Kp(r,c)])}};var oA=(async()=>{})().constructor.prototype,cA=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(oA,t)]),Qp=(t,e)=>{for(let[r,s]of cA){let a=typeof e=="function"?(...i)=>Reflect.apply(s.value,e(),i):s.value.bind(e);Reflect.defineProperty(t,r,{...s,value:a})}},Hg=t=>new Promise((e,r)=>{t.on("exit",(s,a)=>{e({exitCode:s,signal:a})}),t.on("error",s=>{r(s)}),t.stdin&&t.stdin.on("error",s=>{r(s)})});var Wg=require("node:buffer"),Zg=require("node:child_process"),Kg=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],lA=/^[\w.-]+$/,uA=t=>typeof t!="string"||lA.test(t)?t:`"${t.replaceAll('"','\\"')}"`,Xp=(t,e)=>Kg(t,e).join(" "),Yp=(t,e)=>Kg(t,e).map(r=>uA(r)).join(" "),pA=/ +/g;var Vg=t=>{let e=typeof t;if(e==="string")return t;if(e==="number")return String(t);if(e==="object"&&t!==null&&!(t instanceof Zg.ChildProcess)&&"stdout"in t){let r=typeof t.stdout;if(r==="string")return t.stdout;if(Wg.Buffer.isBuffer(t.stdout))return t.stdout.toString();throw new TypeError(`Unexpected "${r}" stdout in template expression`)}throw new TypeError(`Unexpected "${e}" in template expression`)},Gg=(t,e,r)=>r||t.length===0||e.length===0?[...t,...e]:[...t.slice(0,-1),`${t.at(-1)}${e[0]}`,...e.slice(1)],dA=({templates:t,expressions:e,tokens:r,index:s,template:a})=>{let i=a??t.raw[s],n=i.split(pA).filter(Boolean),o=Gg(r,n,i.startsWith(" "));if(s===e.length)return o;let l=e[s],c=Array.isArray(l)?l.map(u=>Vg(u)):[Vg(l)];return Gg(o,c,i.endsWith(" "))},ed=(t,e)=>{let r=[];for(let[s,a]of t.entries())r=dA({templates:t,expressions:e,tokens:r,index:s,template:a});return r};var Jg=require("node:util"),Qg=ae(require("node:process"),1),Xg=(0,Jg.debuglog)("execa").enabled,Tc=(t,e)=>String(t).padStart(e,"0"),fA=()=>{let t=new Date;return`${Tc(t.getHours(),2)}:${Tc(t.getMinutes(),2)}:${Tc(t.getSeconds(),2)}.${Tc(t.getMilliseconds(),3)}`},td=(t,{verbose:e})=>{e&&Qg.default.stderr.write(`[${fA()}] ${t}
`)};var mA=1e3*1e3*100,hA=({env:t,extendEnv:e,preferLocal:r,localDir:s,execPath:a})=>{let i=e?{...Ji.default.env,...t}:t;return r?ag({env:i,cwd:s,execPath:a}):i},sy=(t,e,r={})=>{let s=ry.default._parse(t,e,r);return t=s.command,e=s.args,r=s.options,r={maxBuffer:mA,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||Ji.default.cwd(),execPath:Ji.default.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,verbose:Xg,...r},r.env=hA(r),r.stdio=hg(r),Ji.default.platform==="win32"&&ty.default.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:r,parsed:s}},Qi=(t,e,r)=>typeof e!="string"&&!ey.Buffer.isBuffer(e)?r===void 0?void 0:"":t.stripFinalNewline?Ip(e):e;function vA(t,e,r){let s=sy(t,e,r),a=Xp(t,e),i=Yp(t,e);td(i,s.options),_g(s.options);let n;try{n=Oc.default.spawn(s.file,s.args,s.options)}catch(d){let m=new Oc.default.ChildProcess,f=Promise.reject(Zi({error:d,stdout:"",stderr:"",all:"",command:a,escapedCommand:i,parsed:s,timedOut:!1,isCanceled:!1,killed:!1}));return Qp(m,f),m}let o=Hg(n),l=bg(n,s.options,o),c=wg(n,s.options,l),u={isCanceled:!1};n.kill=yg.bind(null,n.kill.bind(n)),n.cancel=xg.bind(null,n,u);let h=ig(async()=>{let[{error:d,exitCode:m,signal:f,timedOut:v},g,b,w]=await Bg(n,s.options,c),R=Qi(s.options,g),C=Qi(s.options,b),P=Qi(s.options,w);if(d||m!==0||f!==null){let T=Zi({error:d,exitCode:m,signal:f,stdout:R,stderr:C,all:P,command:a,escapedCommand:i,parsed:s,timedOut:v,isCanceled:u.isCanceled||(s.options.signal?s.options.signal.aborted:!1),killed:n.killed});if(!s.options.reject)return T;throw T}return{command:a,escapedCommand:i,exitCode:0,stdout:R,stderr:C,all:P,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return qg(n,s.options),n.all=zg(n,s.options),Pg(n),Qp(n,h),n}function ss(t,e,r){let s=sy(t,e,r),a=Xp(t,e),i=Yp(t,e);td(i,s.options);let n=Ug(s.options),o;try{o=Oc.default.spawnSync(s.file,s.args,{...s.options,input:n})}catch(u){throw Zi({error:u,stdout:"",stderr:"",all:"",command:a,escapedCommand:i,parsed:s,timedOut:!1,isCanceled:!1,killed:!1})}let l=Qi(s.options,o.stdout,o.error),c=Qi(s.options,o.stderr,o.error);if(o.error||o.status!==0||o.signal!==null){let u=Zi({stdout:l,stderr:c,error:o.error,signal:o.signal,exitCode:o.status,command:a,escapedCommand:i,parsed:s,timedOut:o.error&&o.error.code==="ETIMEDOUT",isCanceled:!1,killed:o.signal!==null});if(!s.options.reject)return u;throw u}return{command:a,escapedCommand:i,exitCode:0,stdout:l,stderr:c,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}var gA=({input:t,inputFile:e,stdio:r})=>t===void 0&&e===void 0&&r===void 0?{stdin:"inherit"}:{},Yg=(t={})=>({preferLocal:!0,...gA(t),...t});function ay(t){function e(r,...s){if(!Array.isArray(r))return ay({...t,...r});let[a,...i]=ed(r,s);return vA(a,i,Yg(t))}return e.sync=(r,...s)=>{if(!Array.isArray(r))throw new TypeError("Please use $(options).sync`command` instead of $.sync(options)`command`.");let[a,...i]=ed(r,s);return ss(a,i,Yg(t))},e}var SW=ay();var PP=ae(bd(),1);var $n=class t{constructor(e){this.returned=e}queue=[];readResolve;readReject;isDone=!1;hasError;started=!1;[Symbol.asyncIterator](){if(this.started)throw new Error("Stream can only be iterated once");return this.started=!0,this}next(){return this.queue.length>0?Promise.resolve({done:!1,value:this.queue.shift()}):this.isDone?Promise.resolve({done:!0,value:void 0}):this.hasError?Promise.reject(this.hasError):new Promise((e,r)=>{this.readResolve=e,this.readReject=r})}enqueue(e){if(this.readResolve){let r=this.readResolve;this.readResolve=void 0,this.readReject=void 0,r({done:!1,value:e})}else this.queue.push(e)}done(){if(this.isDone=!0,this.readResolve){let e=this.readResolve;this.readResolve=void 0,this.readReject=void 0,e({done:!0,value:void 0})}}error(e){if(this.hasError=e,this.readReject){let r=this.readReject;this.readResolve=void 0,this.readReject=void 0,r(e)}}return(){return this.isDone=!0,this.returned&&this.returned(),Promise.resolve({done:!0,value:void 0})}static from(e){let r=new t;for(let s of e)r.enqueue(s);return r.done(),r}};function Wx(){return{clawd:{light:"/resources/clawd.svg",dark:"/resources/clawd.svg"},"welcome-art":{light:"/resources/welcome-art-light.svg",dark:"/resources/welcome-art-dark.svg"}}}function Zx(){return{clawd:{light:"./resources/clawd.svg",dark:"./resources/clawd.svg"},"welcome-art":{light:"./resources/welcome-art-light.svg",dark:"./resources/welcome-art-dark.svg"}}}var Xx=require("child_process");var Pa=require("path"),zc=ae(require("fs"),1);var Kx=require("path"),Jx=require("os");function ns(){return process.env.CLAUDE_CONFIG_DIR??(0,Kx.join)((0,Jx.homedir)(),".claude")}function _d(t){if(!t)return!1;if(typeof t=="boolean")return t;let e=t.toLowerCase().trim();return["1","true","yes","on"].includes(e)}var fL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function mL(){return(0,Pa.join)(ns(),"projects")}function hL(t){return(0,Pa.join)(mL(),t.replace(/[^a-zA-Z0-9]/g,"-"))}var Nn=class{constructor(e,r,s){this.sessionMessages=e;this.messages=r;this.summaries=s}async fetchSessions(){return this.getTranscripts().map(r=>{let s=r[r.length-1],a=r[0],i=xL(r);return{lastModified:new Date(s.timestamp).getTime(),messageCount:r.length,isSidechain:a.isSidechain,id:s.sessionId,summary:this.summaries.get(s.uuid)||i}})}getTranscripts(){let e=[...this.messages.values()],r=new Set(e.map(s=>s.parentUuid));return e.filter(s=>!r.has(s.uuid)).map(s=>this.getTranscript(s)).filter(s=>s.length)}async getSessionMessages(e){if(e.endsWith(".jsonl")){let l=[];for(let c of await Qx(e))l.push(c);return l}let r=e,a=this.sessionMessages.get(r);if(!a)return[];let n=Array.from(this.messages.values()).filter(l=>a.has(l.uuid)).sort((l,c)=>new Date(c.timestamp).getTime()-new Date(l.timestamp).getTime())[0];return n?this.getTranscript(n).map(yL).filter(l=>!!l):[]}getTranscript(e){let r=[],s=e;for(;s;)r.unshift(s),s=s.parentUuid?this.messages.get(s.parentUuid):void 0;return r}static load(e){return vL(e)}};async function vL(t){let e=hL(t),r=await zc.promises.readdir(e),a=(await Promise.all(r.map(async c=>{let u=await zc.promises.stat((0,Pa.join)(e,c));return{name:(0,Pa.join)(e,c),stat:u}}))).filter(c=>c.stat.isFile()&&c.name.endsWith(".jsonl")),i=await Promise.all(a.sort((c,u)=>c.stat.mtime.getTime()-u.stat.mtime.getTime()).map(async c=>{let u=gL((0,Pa.basename)(c.name,".jsonl"));if(!u)return{sessionId:u,sessionMessages:new Set};let p=new Map,h=new Map;try{for(let d of await Qx(c.name))d.type==="user"||d.type==="assistant"||d.type==="attachment"||d.type==="system"?p.set(d.uuid,d):d.type==="summary"&&d.leafUuid&&h.set(d.leafUuid,d.summary)}catch{}return{sessionId:u,sessionMessages:p,summaries:h}})),n=new Map,o=new Map,l=new Map;for(let{sessionId:c,sessionMessages:u,summaries:p}of i)if(c){n.set(c,new Set(u.keys()));for(let[h,d]of u.entries())o.set(h,d);for(let[h,d]of p.entries())l.set(h,d)}return new Nn(n,o,l)}function gL(t){return typeof t!="string"?null:fL.test(t)?t:null}async function Qx(t){try{let e=await zc.promises.readFile(t,"utf8");return e.trim()?e.split(`
`).filter(r=>r.trim()).map(r=>{try{return JSON.parse(r)}catch{return null}}).filter(r=>r!==null):[]}catch{return[]}}function yL(t){if(!t.isMeta){if(t.type==="user")return{type:"user",message:t.message,session_id:t.uuid,parent_tool_use_id:null};if(t.type==="assistant")return{type:"assistant",message:t.message,session_id:t.uuid,parent_tool_use_id:null,uuid:t.message.id};if(t.type==="system")return;if(t.type==="attachment")return}}function xL(t){let e;for(let a of t)if(a.type==="user"&&!a.isMeta)e=a;else if(e)break;if(!e||e.type!=="user")return"No prompt";let r=e.message?.content,s="";return typeof r=="string"?s=r:Array.isArray(r)?s=r.findLast(i=>i.type==="text")?.text||"No prompt":s="No prompt",s=s.replace(/\n/g," ").trim(),s.length>45&&(s=s.slice(0,45)+"..."),s}var Bc=class{constructor(e,r,s,a,i,n){this.cwd=e;this.logger=r;this.settings=s;this.openNewInTab=a;this.showTerminalBanner=i;this.authManager=n;this.readFromClient()}channels=new Map;fromClientStream=new $n;abortControllers=new Map;config;outstandingRequests=new Map;async fromClient(e){this.fromClientStream.enqueue(e)}async readFromClient(){for await(let e of this.fromClientStream)switch(e.type){case"launch_claude":await this.launchClaude(e.channelId,e.resume,e.cwd,e.model,e.permissionMode,e.thinkingLevel);break;case"close_channel":this.closeChannel(e.channelId,!1);break;case"interrupt_claude":this.interruptClaude(e.channelId);break;case"io_message":this.transportMessage(e.channelId,e.message,e.done);break;case"request":this.handleRequest(e);break;case"response":{let r=e.requestId,s=this.outstandingRequests.get(r);s?e.response.type==="error"?s.reject(new Error(e.response.error)):s.resolve(e.response):this.logger.warn(`No handler for response with requestId: ${r}`)}break;case"cancel_request":this.handleCancellation(e.targetRequestId);break;default:this.logger.error(`Unknown message: ${e}`)}}async launchClaude(e,r,s,a,i,n){if(this.logger.log(`Launching Claude on channel: ${e}`),this.channels.has(e))throw new Error(`Channel already exists: ${e}`);try{let o=new $n;process.env.DEBUG="1";let l=this.spawnClaude(o,r,async(c,u,p)=>this.requestToolPermission(e,c,u,p.suggestions||[]),a||null,s,i,this.getMaxThinkingTokensForModel(n));this.channels.set(e,{in:o,query:l}),(async()=>{try{for await(let c of l)this.send({type:"io_message",channelId:e,message:c,done:!1});this.closeChannel(e,!0)}catch(c){this.closeChannel(e,!0,String(c)),this.logger.error(`Error from Claude (on channel ${e}): ${c}`)}})()}catch(o){this.closeChannel(e,!0,String(o)),this.logger.error(`Error spawning Claude (on channel ${e}): ${o}`)}}async requestToolPermission(e,r,s,a){return(await this.sendRequest(e,{type:"tool_permission_request",toolName:r,inputs:s,suggestions:a})).result}sendRequest(e,r){let s=On();return new Promise((a,i)=>{this.outstandingRequests.set(s,{resolve:n=>{a(n)},reject:i}),this.send({type:"request",channelId:e,requestId:s,request:r})}).finally(()=>{this.outstandingRequests.delete(s)})}async interruptClaude(e){let r=this.channels.get(e);if(!r){this.logger.warn(`Channel not found: ${e}`);return}try{await r.query.interrupt(),this.logger.log(`Interrupted Claude for requestId: ${e}`)}catch(s){this.logger.error(`Failed to interrupt Claude: ${s}`)}}async closeChannel(e,r,s){this.logger.log(`Closing Claude on channel: ${e}`),r&&this.send({type:"close_channel",channelId:e,error:s});let a=this.channels.get(e);if(a){a.in.done();try{await a.query.return()}catch(i){this.logger.warn(`Error cleaning up channel ${e}: ${i}`)}this.channels.delete(e)}}transportMessage(e,r,s){let a=this.channels.get(e);if(!a)throw new Error(`Channel not found: ${e}`);r.type==="user"&&a.in.enqueue(r),s&&a.in.done()}async shutdown(){await this.closeAllChannels(),this.fromClientStream.done()}async closeAllChannels(){let e=Array.from(this.channels.keys()).map(r=>this.closeChannel(r,!1));await Promise.all(e),this.channels.clear()}async closeAllChannelsWithCredentialChange(){let e=Array.from(this.channels.keys()).map(r=>this.closeChannel(r,!0));await Promise.all(e),this.channels.clear()}loadConfig(){if(this.config)return this.config;this.logger.log("Loading config cache by launching Claude...");let e=(async()=>{let r=new $n,s=this.spawnClaude(r,void 0,async()=>({behavior:"deny",message:"Config loading only"}),"default",this.cwd,"default",0);r.done();let a={slashCommands:await s.supportedCommands(),models:await s.supportedModels(),accountInfo:await s.accountInfo()};return s.return(),a})().catch(r=>{throw this.logger.error(`Failed to load config cache: ${r}`),this.config=void 0,r});return this.config=e,e}async getMcpServers(e){let r=e?this.channels.get(e):void 0;if(!r)throw new Error(`Channel not found: ${e}`);try{return{type:"get_mcp_servers_response",mcpServers:await r.query.mcpServerStatus()}}catch(s){return this.logger.error(`Error fetching MCP servers: ${s}`),{type:"get_mcp_servers_response",mcpServers:[]}}}async handleRequest(e){let r=new AbortController;try{this.abortControllers.set(e.requestId,r);let s=await this.processRequest(e,r.signal);this.send({type:"response",requestId:e.requestId,response:s})}catch(s){this.logger.error(`Error processing client request: ${s}`),this.send({type:"response",requestId:e.requestId,response:{type:"error",error:s instanceof Error?s.message:String(s)}})}finally{this.abortControllers.delete(e.requestId)}}async processRequest(e,r){switch(e.request.type){case"init":{let s=this.authManager?.getAuthStatus();return{type:"init_response",state:{defaultCwd:this.cwd,openNewInTab:this.openNewInTab,showTerminalBanner:this.showTerminalBanner,authStatus:s,modelSetting:this.settings.getModel(),thinkingLevel:this.settings.getThinkingLevel(),platform:this.getPlatform()}}}case"get_claude_state":return{type:"get_claude_state_response",config:await this.loadConfig()};case"get_mcp_servers":return await this.getMcpServers(e.channelId);case"list_sessions_request":return this.listSessions();case"open_file":return this.openFile(e.request.filePath,e.request.location),{type:"open_file_response"};case"get_session_request":return this.getSession(e.request.sessionId);case"exec":return this.execCommand(e.request.command,e.request.params);case"list_files_request":return{type:"list_files_response",files:await this.findFiles(e.request.pattern)};case"open_diff":return this.openDiff(e.request.originalFilePath,e.request.newFilePath,e.request.edits,e.request.supportMultiEdits||!1,r);case"open_content":return this.openContent(e.request.content,e.request.fileName,e.request.editable,r);case"get_asset_uris":return{type:"asset_uris_response",assetUris:this.getAssetUris()};case"open_url":return await this.openURL(e.request.url),{type:"open_url_response"};case"set_permission_mode":return this.setPermissionMode(e.channelId,e.request.mode);case"set_model":return this.setModel(e.channelId,e.request.model);case"set_thinking_level":return this.setThinkingLevel(e.channelId,e.request.thinkingLevel);case"get_auth_status":return{type:"get_auth_status_response",status:this.authManager?.getAuthStatus()};case"login":{if(!this.authManager)throw new Error("Authentication is not supported in this environment");let{method:s}=e.request,a=await this.authManager.login(s,async i=>{this.send({type:"request",channelId:"",requestId:On(),request:{type:"auth_url",url:i.manualRedirectUrl,method:s}});try{await this.openURL(i.automaticRedirectUrl)}catch(n){this.logger.warn(`Failed to open browser: ${n}`)}});return await this.closeAllChannelsWithCredentialChange(),{type:"login_response",auth:a}}case"submit_oauth_code":{if(!this.authManager)throw new Error("Authentication is not supported in this environment");let{code:s}=e.request;return this.authManager.handleManualAuthCode(s),{type:"submit_oauth_code_response"}}case"open_config_file":return this.openConfigFile(e.request.configType),{type:"open_config_file_response"};case"open_claude_in_terminal":return await this.openClaudeInTerminal(e.request.prompt,e.request.inNewWindow),{type:"open_claude_in_terminal_response"};case"show_claude_terminal_setting":return await this.showClaudeTerminalSetting(),{type:"show_claude_terminal_setting_response"};case"dismiss_terminal_banner":return await this.dismissTerminalBanner(),{type:"dismiss_terminal_banner_response"};default:}throw new Error("Unknown request type.")}async loadSessionsFromPath(e,r,s){try{return(await(await Nn.load(e)).fetchSessions()).filter(n=>!n.isSidechain).map(n=>({id:n.id,lastModified:n.lastModified,messageCount:n.messageCount,summary:n.summary,worktree:r,isCurrentWorkspace:s}))}catch(a){return this.logger.warn(`Failed to load sessions from ${e}: ${a}`),[]}}async listSessions(){let e=[],r=await this.loadSessionsFromPath(this.cwd,void 0,!0);return e.push(...r),{type:"list_sessions_response",sessions:e}}async getSession(e){return{type:"get_session_response",messages:await(await Nn.load(this.cwd)).getSessionMessages(e)}}handleCancellation(e){let r=this.abortControllers.get(e);r&&r.abort()}async execCommand(e,r){let s="",a="",i=(0,Xx.spawn)(e,r,{cwd:this.cwd,shell:!1});i.stdout.on("data",o=>{s+=o.toString()}),i.stderr.on("data",o=>{a+=o.toString()});let n=await new Promise(o=>{i.on("close",l=>{o(l??0)}),i.on("error",l=>{a+=l.message,o(1)})});return{type:"exec_response",stdout:s,stderr:a,exitCode:n}}getAssetUris(){return Wx()}async setPermissionMode(e,r){let s=e?this.channels.get(e):void 0;if(!s)throw new Error(`Channel not found: ${e}`);try{return await s.query.setPermissionMode(r),{type:"set_permission_mode_response",success:!0}}catch(a){return this.logger.error(`Failed to set permission mode: ${a}`),{type:"set_permission_mode_response",success:!1}}}async setModel(e,r){let s=e?this.channels.get(e):void 0;if(!s)throw new Error(`Channel not found: ${e}`);try{return await s.query.setModel(r.value),await this.settings.setModel(r.value),{type:"set_model_response",success:!0}}catch(a){return this.logger.error(`Failed to set model: ${a}`),{type:"set_model_response",success:!1}}}async setThinkingLevel(e,r){let s=e?this.channels.get(e):void 0;if(!s)throw new Error(`Channel not found: ${e}`);let a=this.getMaxThinkingTokensForModel(r);return await s.query.setMaxThinkingTokens(a),await this.settings.setThinkingLevel(r),{type:"set_thinking_level_response"}}getPlatform(){switch(process.platform){case"win32":return"windows";case"darwin":return"macos";default:return"linux"}}async pushStateUpdate(){let e=this.authManager?.getAuthStatus();this.config=void 0;let r=await this.loadConfig(),s={type:"request",channelId:"",requestId:On(),request:{type:"update_state",state:{defaultCwd:this.cwd,openNewInTab:this.openNewInTab,showTerminalBanner:this.showTerminalBanner,authStatus:e,modelSetting:this.settings.getModel(),thinkingLevel:this.settings.getThinkingLevel(),platform:this.getPlatform()},config:r}};this.send(s)}getMaxThinkingTokensForModel(e){return e==="off"?0:31999}};var et=ae(require("vscode"),1);var hr=ae(require("vscode"),1),zn=require("fs"),Ab=require("os"),Pd=require("path"),Ib=require("child_process");var _L=typeof global=="object"&&global&&global.Object===Object&&global,Yx=_L;var wL=typeof self=="object"&&self&&self.Object===Object&&self,SL=Yx||wL||Function("return this")(),Fn=SL;var EL=Fn.Symbol,jn=EL;var eb=Object.prototype,PL=eb.hasOwnProperty,RL=eb.toString,no=jn?jn.toStringTag:void 0;function CL(t){var e=PL.call(t,no),r=t[no];try{t[no]=void 0;var s=!0}catch{}var a=RL.call(t);return s&&(e?t[no]=r:delete t[no]),a}var tb=CL;var TL=Object.prototype,OL=TL.toString;function kL(t){return OL.call(t)}var rb=kL;var AL="[object Null]",IL="[object Undefined]",sb=jn?jn.toStringTag:void 0;function DL(t){return t==null?t===void 0?IL:AL:sb&&sb in Object(t)?tb(t):rb(t)}var ab=DL;function LL(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Hc=LL;var $L="[object AsyncFunction]",NL="[object Function]",FL="[object GeneratorFunction]",jL="[object Proxy]";function ML(t){if(!Hc(t))return!1;var e=ab(t);return e==NL||e==FL||e==$L||e==jL}var nb=ML;var UL=Fn["__core-js_shared__"],Vc=UL;var ib=function(){var t=/[^.]+$/.exec(Vc&&Vc.keys&&Vc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function qL(t){return!!ib&&ib in t}var ob=qL;var zL=Function.prototype,BL=zL.toString;function HL(t){if(t!=null){try{return BL.call(t)}catch{}try{return t+""}catch{}}return""}var cb=HL;var VL=/[\\^$.*+?()[\]{}|]/g,GL=/^\[object .+?Constructor\]$/,WL=Function.prototype,ZL=Object.prototype,KL=WL.toString,JL=ZL.hasOwnProperty,QL=RegExp("^"+KL.call(JL).replace(VL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function XL(t){if(!Hc(t)||ob(t))return!1;var e=nb(t)?QL:GL;return e.test(cb(t))}var lb=XL;function YL(t,e){return t?.[e]}var ub=YL;function e$(t,e){var r=ub(t,e);return lb(r)?r:void 0}var Gc=e$;function t$(t,e){return t===e||t!==t&&e!==e}var pb=t$;var r$=Gc(Object,"create"),Ss=r$;function s$(){this.__data__=Ss?Ss(null):{},this.size=0}var db=s$;function a$(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var fb=a$;var n$="__lodash_hash_undefined__",i$=Object.prototype,o$=i$.hasOwnProperty;function c$(t){var e=this.__data__;if(Ss){var r=e[t];return r===n$?void 0:r}return o$.call(e,t)?e[t]:void 0}var mb=c$;var l$=Object.prototype,u$=l$.hasOwnProperty;function p$(t){var e=this.__data__;return Ss?e[t]!==void 0:u$.call(e,t)}var hb=p$;var d$="__lodash_hash_undefined__";function f$(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ss&&e===void 0?d$:e,this}var vb=f$;function Mn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}Mn.prototype.clear=db;Mn.prototype.delete=fb;Mn.prototype.get=mb;Mn.prototype.has=hb;Mn.prototype.set=vb;var wd=Mn;function m$(){this.__data__=[],this.size=0}var gb=m$;function h$(t,e){for(var r=t.length;r--;)if(pb(t[r][0],e))return r;return-1}var Xs=h$;var v$=Array.prototype,g$=v$.splice;function y$(t){var e=this.__data__,r=Xs(e,t);if(r<0)return!1;var s=e.length-1;return r==s?e.pop():g$.call(e,r,1),--this.size,!0}var yb=y$;function x$(t){var e=this.__data__,r=Xs(e,t);return r<0?void 0:e[r][1]}var xb=x$;function b$(t){return Xs(this.__data__,t)>-1}var bb=b$;function _$(t,e){var r=this.__data__,s=Xs(r,t);return s<0?(++this.size,r.push([t,e])):r[s][1]=e,this}var _b=_$;function Un(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}Un.prototype.clear=gb;Un.prototype.delete=yb;Un.prototype.get=xb;Un.prototype.has=bb;Un.prototype.set=_b;var wb=Un;var w$=Gc(Fn,"Map"),Sb=w$;function S$(){this.size=0,this.__data__={hash:new wd,map:new(Sb||wb),string:new wd}}var Eb=S$;function E$(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Pb=E$;function P$(t,e){var r=t.__data__;return Pb(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ys=P$;function R$(t){var e=Ys(this,t).delete(t);return this.size-=e?1:0,e}var Rb=R$;function C$(t){return Ys(this,t).get(t)}var Cb=C$;function T$(t){return Ys(this,t).has(t)}var Tb=T$;function O$(t,e){var r=Ys(this,t),s=r.size;return r.set(t,e),this.size+=r.size==s?0:1,this}var Ob=O$;function qn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}qn.prototype.clear=Eb;qn.prototype.delete=Rb;qn.prototype.get=Cb;qn.prototype.has=Tb;qn.prototype.set=Ob;var Sd=qn;var k$="Expected a function";function Ed(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(k$);var r=function(){var s=arguments,a=e?e.apply(this,s):s[0],i=r.cache;if(i.has(a))return i.get(a);var n=t.apply(this,s);return r.cache=i.set(a,n)||i,n};return r.cache=new(Ed.Cache||Sd),r}Ed.Cache=Sd;var io=Ed;function A$(t){let e=t.trim();return e?/[*?{}[\]]/.test(e)?e:`**/*${e.split("").map(s=>{if(/[a-zA-Z]/.test(s)){let a=s.toLowerCase(),i=s.toUpperCase();return`[${a}${i}]`}return s}).join("")}*`:"**/*"}var Db=`{${["**/node_modules/**","**/.git/**","**/dist/**","**/build/**","**/.next/**","**/.nuxt/**","**/.DS_Store","**/Thumbs.db","**/*.log","**/.env","**/.env.*","**/yarn-error.log","**/npm-debug.log*"].join(",")}}`;async function Rd(t){let e=[],r=t?A$(t):"**/*",s=await Lb(),a=100,i;try{i=await hr.workspace.findFiles(r,s,a)}catch{i=await hr.workspace.findFiles(r,Db,a)}try{for(let n of i){let o=hr.workspace.asRelativePath(n),l=n.path.split("/").pop()||"";e.push({path:o,name:l,type:"file"})}e.sort((n,o)=>n.path.localeCompare(o.path))}catch{}return e}async function Lb(){let t=[];try{let s=hr.workspace.getConfiguration("search"),a=hr.workspace.getConfiguration("files"),i=s.get("exclude")||{},n=a.get("exclude")||{};for(let[l,c]of Object.entries(i))c&&typeof l=="string"&&t.push(l);for(let[l,c]of Object.entries(n))c&&typeof l=="string"&&t.push(l);if(s.get("useIgnoreFiles",!0)){let l=hr.workspace.workspaceFolders;if(l)for(let c of l){let u=I$(c.uri.fsPath);t.push(...u)}}}catch{}let e=t.filter(s=>typeof s=="string"&&s.length>0);return e.length===0?Db:e.length===1?e[0]:`{${e.join(",")}}`}function I$(t){let e=[];try{let r=(0,Pd.join)(t,".gitignore");if((0,zn.existsSync)(r)){let a=(0,zn.readFileSync)(r,"utf8");e.push(...kb(a))}let s=(0,Pd.join)((0,Ab.homedir)(),".config","git","ignore");if((0,zn.existsSync)(s)){let a=(0,zn.readFileSync)(s,"utf8");e.push(...kb(a))}}catch{}return e}function kb(t){let e=[];for(let r of t.split(`
`)){let s=r.trim();if(!s||s.startsWith("#")||s.startsWith("!"))continue;let a=s;a.endsWith("/")&&(a=a.slice(0,-1)+"/**"),a.startsWith("/")?a=a.slice(1):a="**/"+a,e.includes(a)||e.push(a)}return e}async function D$(t){try{let e=hr.workspace.getWorkspaceFolder(t);if(!e)return!1;let r=hr.workspace.asRelativePath(t,!1),s=await Lb();return!!((await hr.workspace.findFiles(new hr.RelativePattern(e,r),s,1)).length===0||hr.workspace.getConfiguration("search").get("useIgnoreFiles",!0)&&await new Promise(l=>{(0,Ib.execFile)("git",["check-ignore",t.fsPath],{cwd:e.uri.fsPath},(c,u)=>{l(!c&&!!u)})}))}catch{return!1}}var Cd=io(D$,t=>t.fsPath);var Hd=ae(require("vscode"),1),kt=ae(require("path"),1);function Es(t){return Array.isArray?Array.isArray(t):zb(t)==="[object Array]"}var L$=1/0;function $$(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-L$?"-0":e}function N$(t){return t==null?"":$$(t)}function is(t){return typeof t=="string"}function Ub(t){return typeof t=="number"}function F$(t){return t===!0||t===!1||j$(t)&&zb(t)=="[object Boolean]"}function qb(t){return typeof t=="object"}function j$(t){return qb(t)&&t!==null}function vr(t){return t!=null}function Td(t){return!t.trim().length}function zb(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var M$="Incorrect 'index' type",U$=t=>`Invalid value for key ${t}`,q$=t=>`Pattern length exceeds max of ${t}.`,z$=t=>`Missing ${t} property in key`,B$=t=>`Property 'weight' in key '${t}' must be a positive integer`,$b=Object.prototype.hasOwnProperty,Od=class{constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(s=>{let a=Bb(s);this._keys.push(a),this._keyMap[a.id]=a,r+=a.weight}),this._keys.forEach(s=>{s.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function Bb(t){let e=null,r=null,s=null,a=1,i=null;if(is(t)||Es(t))s=t,e=Nb(t),r=kd(t);else{if(!$b.call(t,"name"))throw new Error(z$("name"));let n=t.name;if(s=n,$b.call(t,"weight")&&(a=t.weight,a<=0))throw new Error(B$(n));e=Nb(n),r=kd(n),i=t.getFn}return{path:e,id:r,weight:a,src:s,getFn:i}}function Nb(t){return Es(t)?t:t.split(".")}function kd(t){return Es(t)?t.join("."):t}function H$(t,e){let r=[],s=!1,a=(i,n,o)=>{if(vr(i))if(!n[o])r.push(i);else{let l=n[o],c=i[l];if(!vr(c))return;if(o===n.length-1&&(is(c)||Ub(c)||F$(c)))r.push(N$(c));else if(Es(c)){s=!0;for(let u=0,p=c.length;u<p;u+=1)a(c[u],n,o+1)}else n.length&&a(c,n,o+1)}};return a(t,is(e)?e.split("."):e,0),s?r:r[0]}var V$={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},G$={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},W$={location:0,threshold:.6,distance:100},Z$={useExtendedSearch:!1,getFn:H$,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},je={...G$,...V$,...W$,...Z$},K$=/[^ ]+/g;function J$(t=1,e=3){let r=new Map,s=Math.pow(10,e);return{get(a){let i=a.match(K$).length;if(r.has(i))return r.get(i);let n=1/Math.pow(i,.5*t),o=parseFloat(Math.round(n*s)/s);return r.set(i,o),o},clear(){r.clear()}}}var oo=class{constructor({getFn:e=je.getFn,fieldNormWeight:r=je.fieldNormWeight}={}){this.norm=J$(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,s)=>{this._keysMap[r.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,is(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){let r=this.size();is(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,s=this.size();r<s;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!vr(e)||Td(e))return;let s={v:e,i:r,n:this.norm.get(e)};this.records.push(s)}_addObject(e,r){let s={i:r,$:{}};this.keys.forEach((a,i)=>{let n=a.getFn?a.getFn(e):this.getFn(e,a.path);if(vr(n)){if(Es(n)){let o=[],l=[{nestedArrIndex:-1,value:n}];for(;l.length;){let{nestedArrIndex:c,value:u}=l.pop();if(vr(u))if(is(u)&&!Td(u)){let p={v:u,i:c,n:this.norm.get(u)};o.push(p)}else Es(u)&&u.forEach((p,h)=>{l.push({nestedArrIndex:h,value:p})})}s.$[i]=o}else if(is(n)&&!Td(n)){let o={v:n,n:this.norm.get(n)};s.$[i]=o}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}};function Hb(t,e,{getFn:r=je.getFn,fieldNormWeight:s=je.fieldNormWeight}={}){let a=new oo({getFn:r,fieldNormWeight:s});return a.setKeys(t.map(Bb)),a.setSources(e),a.create(),a}function Q$(t,{getFn:e=je.getFn,fieldNormWeight:r=je.fieldNormWeight}={}){let{keys:s,records:a}=t,i=new oo({getFn:e,fieldNormWeight:r});return i.setKeys(s),i.setIndexRecords(a),i}function Wc(t,{errors:e=0,currentLocation:r=0,expectedLocation:s=0,distance:a=je.distance,ignoreLocation:i=je.ignoreLocation}={}){let n=e/t.length;if(i)return n;let o=Math.abs(s-r);return a?n+o/a:o?1:n}function X$(t=[],e=je.minMatchCharLength){let r=[],s=-1,a=-1,i=0;for(let n=t.length;i<n;i+=1){let o=t[i];o&&s===-1?s=i:!o&&s!==-1&&(a=i-1,a-s+1>=e&&r.push([s,a]),s=-1)}return t[i-1]&&i-s>=e&&r.push([s,i-1]),r}var Ra=32;function Y$(t,e,r,{location:s=je.location,distance:a=je.distance,threshold:i=je.threshold,findAllMatches:n=je.findAllMatches,minMatchCharLength:o=je.minMatchCharLength,includeMatches:l=je.includeMatches,ignoreLocation:c=je.ignoreLocation}={}){if(e.length>Ra)throw new Error(q$(Ra));let u=e.length,p=t.length,h=Math.max(0,Math.min(s,p)),d=i,m=h,f=o>1||l,v=f?Array(p):[],g;for(;(g=t.indexOf(e,m))>-1;){let T=Wc(e,{currentLocation:g,expectedLocation:h,distance:a,ignoreLocation:c});if(d=Math.min(T,d),m=g+u,f){let $=0;for(;$<u;)v[g+$]=1,$+=1}}m=-1;let b=[],w=1,R=u+p,C=1<<u-1;for(let T=0;T<u;T+=1){let $=0,D=R;for(;$<D;)Wc(e,{errors:T,currentLocation:h+D,expectedLocation:h,distance:a,ignoreLocation:c})<=d?$=D:R=D,D=Math.floor((R-$)/2+$);R=D;let j=Math.max(1,h-D+1),I=n?p:Math.min(h+D,p)+u,k=Array(I+2);k[I+1]=(1<<T)-1;for(let L=I;L>=j;L-=1){let q=L-1,V=r[t.charAt(q)];if(f&&(v[q]=+!!V),k[L]=(k[L+1]<<1|1)&V,T&&(k[L]|=(b[L+1]|b[L])<<1|1|b[L+1]),k[L]&C&&(w=Wc(e,{errors:T,currentLocation:q,expectedLocation:h,distance:a,ignoreLocation:c}),w<=d)){if(d=w,m=q,m<=h)break;j=Math.max(1,2*h-m)}}if(Wc(e,{errors:T+1,currentLocation:h,expectedLocation:h,distance:a,ignoreLocation:c})>d)break;b=k}let P={isMatch:m>=0,score:Math.max(.001,w)};if(f){let T=X$(v,o);T.length?l&&(P.indices=T):P.isMatch=!1}return P}function eN(t){let e={};for(let r=0,s=t.length;r<s;r+=1){let a=t.charAt(r);e[a]=(e[a]||0)|1<<s-r-1}return e}var Zc=class{constructor(e,{location:r=je.location,threshold:s=je.threshold,distance:a=je.distance,includeMatches:i=je.includeMatches,findAllMatches:n=je.findAllMatches,minMatchCharLength:o=je.minMatchCharLength,isCaseSensitive:l=je.isCaseSensitive,ignoreLocation:c=je.ignoreLocation}={}){if(this.options={location:r,threshold:s,distance:a,includeMatches:i,findAllMatches:n,minMatchCharLength:o,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;let u=(h,d)=>{this.chunks.push({pattern:h,alphabet:eN(h),startIndex:d})},p=this.pattern.length;if(p>Ra){let h=0,d=p%Ra,m=p-d;for(;h<m;)u(this.pattern.substr(h,Ra),h),h+=Ra;if(d){let f=p-Ra;u(this.pattern.substr(f),f)}}else u(this.pattern,0)}searchIn(e){let{isCaseSensitive:r,includeMatches:s}=this.options;if(r||(e=e.toLowerCase()),this.pattern===e){let m={isMatch:!0,score:0};return s&&(m.indices=[[0,e.length-1]]),m}let{location:a,distance:i,threshold:n,findAllMatches:o,minMatchCharLength:l,ignoreLocation:c}=this.options,u=[],p=0,h=!1;this.chunks.forEach(({pattern:m,alphabet:f,startIndex:v})=>{let{isMatch:g,score:b,indices:w}=Y$(e,m,f,{location:a+v,distance:i,threshold:n,findAllMatches:o,minMatchCharLength:l,includeMatches:s,ignoreLocation:c});g&&(h=!0),p+=b,g&&w&&(u=[...u,...w])});let d={isMatch:h,score:h?p/this.chunks.length:1};return h&&s&&(d.indices=u),d}},os=class{constructor(e){this.pattern=e}static isMultiMatch(e){return Fb(e,this.multiRegex)}static isSingleMatch(e){return Fb(e,this.singleRegex)}search(){}};function Fb(t,e){let r=t.match(e);return r?r[1]:null}var Ad=class extends os{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},Id=class extends os{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let s=e.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}},Dd=class extends os{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},Ld=class extends os{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},$d=class extends os{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},Nd=class extends os{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},Kc=class extends os{constructor(e,{location:r=je.location,threshold:s=je.threshold,distance:a=je.distance,includeMatches:i=je.includeMatches,findAllMatches:n=je.findAllMatches,minMatchCharLength:o=je.minMatchCharLength,isCaseSensitive:l=je.isCaseSensitive,ignoreLocation:c=je.ignoreLocation}={}){super(e),this._bitapSearch=new Zc(e,{location:r,threshold:s,distance:a,includeMatches:i,findAllMatches:n,minMatchCharLength:o,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},Jc=class extends os{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,s,a=[],i=this.pattern.length;for(;(s=e.indexOf(this.pattern,r))>-1;)r=s+i,a.push([s,r-1]);let n=!!a.length;return{isMatch:n,score:n?0:1,indices:a}}},Fd=[Ad,Jc,Dd,Ld,Nd,$d,Id,Kc],jb=Fd.length,tN=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,rN="|";function sN(t,e={}){return t.split(rN).map(r=>{let s=r.trim().split(tN).filter(i=>i&&!!i.trim()),a=[];for(let i=0,n=s.length;i<n;i+=1){let o=s[i],l=!1,c=-1;for(;!l&&++c<jb;){let u=Fd[c],p=u.isMultiMatch(o);p&&(a.push(new u(p,e)),l=!0)}if(!l)for(c=-1;++c<jb;){let u=Fd[c],p=u.isSingleMatch(o);if(p){a.push(new u(p,e));break}}}return a})}var aN=new Set([Kc.type,Jc.type]),jd=class{constructor(e,{isCaseSensitive:r=je.isCaseSensitive,includeMatches:s=je.includeMatches,minMatchCharLength:a=je.minMatchCharLength,ignoreLocation:i=je.ignoreLocation,findAllMatches:n=je.findAllMatches,location:o=je.location,threshold:l=je.threshold,distance:c=je.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:s,minMatchCharLength:a,findAllMatches:n,ignoreLocation:i,location:o,threshold:l,distance:c},this.pattern=r?e:e.toLowerCase(),this.query=sN(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){let r=this.query;if(!r)return{isMatch:!1,score:1};let{includeMatches:s,isCaseSensitive:a}=this.options;e=a?e:e.toLowerCase();let i=0,n=[],o=0;for(let l=0,c=r.length;l<c;l+=1){let u=r[l];n.length=0,i=0;for(let p=0,h=u.length;p<h;p+=1){let d=u[p],{isMatch:m,indices:f,score:v}=d.search(e);if(m){if(i+=1,o+=v,s){let g=d.constructor.type;aN.has(g)?n=[...n,...f]:n.push(f)}}else{o=0,i=0,n.length=0;break}}if(i){let p={isMatch:!0,score:o/i};return s&&(p.indices=n),p}}return{isMatch:!1,score:1}}},Md=[];function nN(...t){Md.push(...t)}function Ud(t,e){for(let r=0,s=Md.length;r<s;r+=1){let a=Md[r];if(a.condition(t,e))return new a(t,e)}return new Zc(t,e)}var Qc={AND:"$and",OR:"$or"},qd={PATH:"$path",PATTERN:"$val"},zd=t=>!!(t[Qc.AND]||t[Qc.OR]),iN=t=>!!t[qd.PATH],oN=t=>!Es(t)&&qb(t)&&!zd(t),Mb=t=>({[Qc.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Vb(t,e,{auto:r=!0}={}){let s=a=>{let i=Object.keys(a),n=iN(a);if(!n&&i.length>1&&!zd(a))return s(Mb(a));if(oN(a)){let l=n?a[qd.PATH]:i[0],c=n?a[qd.PATTERN]:a[l];if(!is(c))throw new Error(U$(l));let u={keyId:kd(l),pattern:c};return r&&(u.searcher=Ud(c,e)),u}let o={children:[],operator:i[0]};return i.forEach(l=>{let c=a[l];Es(c)&&c.forEach(u=>{o.children.push(s(u))})}),o};return zd(t)||(t=Mb(t)),s(t)}function cN(t,{ignoreFieldNorm:e=je.ignoreFieldNorm}){t.forEach(r=>{let s=1;r.matches.forEach(({key:a,norm:i,score:n})=>{let o=a?a.weight:null;s*=Math.pow(n===0&&o?Number.EPSILON:n,(o||1)*(e?1:i))}),r.score=s})}function lN(t,e){let r=t.matches;e.matches=[],vr(r)&&r.forEach(s=>{if(!vr(s.indices)||!s.indices.length)return;let{indices:a,value:i}=s,n={indices:a,value:i};s.key&&(n.key=s.key.src),s.idx>-1&&(n.refIndex=s.idx),e.matches.push(n)})}function uN(t,e){e.score=t.score}function pN(t,e,{includeMatches:r=je.includeMatches,includeScore:s=je.includeScore}={}){let a=[];return r&&a.push(lN),s&&a.push(uN),t.map(i=>{let{idx:n}=i,o={item:e[n],refIndex:n};return a.length&&a.forEach(l=>{l(i,o)}),o})}var Ps=class{constructor(e,r={},s){this.options={...je,...r},this.options.useExtendedSearch,this._keyStore=new Od(this.options.keys),this.setCollection(e,s)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof oo))throw new Error(M$);this._myIndex=r||Hb(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){vr(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let r=[];for(let s=0,a=this._docs.length;s<a;s+=1){let i=this._docs[s];e(i,s)&&(this.removeAt(s),s-=1,a-=1,r.push(i))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){let{includeMatches:s,includeScore:a,shouldSort:i,sortFn:n,ignoreFieldNorm:o}=this.options,l=is(e)?is(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return cN(l,{ignoreFieldNorm:o}),i&&l.sort(n),Ub(r)&&r>-1&&(l=l.slice(0,r)),pN(l,this._docs,{includeMatches:s,includeScore:a})}_searchStringList(e){let r=Ud(e,this.options),{records:s}=this._myIndex,a=[];return s.forEach(({v:i,i:n,n:o})=>{if(!vr(i))return;let{isMatch:l,score:c,indices:u}=r.searchIn(i);l&&a.push({item:i,idx:n,matches:[{score:c,value:i,norm:o,indices:u}]})}),a}_searchLogical(e){let r=Vb(e,this.options),s=(o,l,c)=>{if(!o.children){let{keyId:p,searcher:h}=o,d=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(l,p),searcher:h});return d&&d.length?[{idx:c,item:l,matches:d}]:[]}let u=[];for(let p=0,h=o.children.length;p<h;p+=1){let d=o.children[p],m=s(d,l,c);if(m.length)u.push(...m);else if(o.operator===Qc.AND)return[]}return u},a=this._myIndex.records,i={},n=[];return a.forEach(({$:o,i:l})=>{if(vr(o)){let c=s(r,o,l);c.length&&(i[l]||(i[l]={idx:l,item:o,matches:[]},n.push(i[l])),c.forEach(({matches:u})=>{i[l].matches.push(...u)}))}}),n}_searchObjectList(e){let r=Ud(e,this.options),{keys:s,records:a}=this._myIndex,i=[];return a.forEach(({$:n,i:o})=>{if(!vr(n))return;let l=[];s.forEach((c,u)=>{l.push(...this._findMatches({key:c,value:n[u],searcher:r}))}),l.length&&i.push({idx:o,item:n,matches:l})}),i}_findMatches({key:e,value:r,searcher:s}){if(!vr(r))return[];let a=[];if(Es(r))r.forEach(({v:i,i:n,n:o})=>{if(!vr(i))return;let{isMatch:l,score:c,indices:u}=s.searchIn(i);l&&a.push({score:c,key:e,value:i,idx:n,norm:o,indices:u})});else{let{v:i,n}=r,{isMatch:o,score:l,indices:c}=s.searchIn(i);o&&a.push({score:l,key:e,value:i,norm:n,indices:c})}return a}};Ps.version="7.0.0";Ps.createIndex=Hb;Ps.parseIndex=Q$;Ps.config=je;Ps.parseQuery=Vb;nN(jd);var Xc=require("child_process");var Bd=100,dN=2e7,fN=1e4,mN=io(()=>{if(!process.env.USE_BUILTIN_RIPGREP||process.env.USE_BUILTIN_RIPGREP==="0"||process.env.USE_BUILTIN_RIPGREP==="false"){let a=process.platform==="win32"?"rg.exe":"rg";try{return(0,Xc.execFileSync)(a,["--version"],{stdio:"ignore"}),{mode:"system",command:a,args:[]}}catch{}}let e=kt.resolve(__dirname,"..","..","..",".."),r=kt.resolve(e,"vendor","ripgrep");return{mode:"builtin",command:process.platform==="win32"?kt.resolve(r,"x64-win32","rg.exe"):kt.resolve(r,`${process.arch}-${process.platform}`,"rg"),args:[]}});function hN(){let t=mN();return{rgPath:t.command,rgArgs:t.args}}async function vN(t,e){return new Promise((r,s)=>{let{rgPath:a,rgArgs:i}=hN();(0,Xc.execFile)(a,[...i,...t],{cwd:e,maxBuffer:dN,timeout:fN},(n,o)=>{if(!n){r(o.trim().split(`
`).filter(Boolean));return}if("code"in n&&n.code===1){r([]);return}let l=o&&o.trim().length>0,c="signal"in n&&n.signal==="SIGTERM"||"code"in n&&n.code==="ABORT_ERR",u="code"in n&&n.code==="ERR_CHILD_PROCESS_STDIO_MAXBUFFER";if((c||u)&&l){let p=o.trim().split(`
`).filter(Boolean);r(p.length>0?p.slice(0,-1):[]);return}s(n)})})}function gN(t,e){if(!e){let n=new Set;for(let o of t){let l=o.split(kt.sep)[0];if(l&&(n.add(l),n.size>=Bd))break}return[...n].sort().map(o=>{let l=t.some(c=>c.startsWith(o+kt.sep));return{path:l?o+kt.sep:o,filename:kt.basename(o),isDirectory:l}})}let r=t.map(n=>({path:n,filename:kt.basename(n),testPenalty:n.includes("test")?1:0})),s=e.lastIndexOf(kt.sep);s>2&&(r=r.filter(n=>n.path.substring(0,s).startsWith(e.substring(0,s))));let i=new Ps(r,{includeScore:!0,threshold:.5,keys:[{name:"path",weight:1},{name:"filename",weight:2}]}).search(e,{limit:Bd});return i=i.sort((n,o)=>n.score===void 0||o.score===void 0?0:Math.abs(n.score-o.score)>.05?n.score-o.score:n.item.testPenalty-o.item.testPenalty),i.map(n=>({path:n.item.path,filename:n.item.filename,isDirectory:n.item.path.endsWith(kt.sep)})).slice(0,Bd)}async function Gb(t,e,r){try{let s=["--files","--follow","--hidden"];try{let l=Hd.workspace.getConfiguration("search"),c=Hd.workspace.getConfiguration("files"),u=l.get("exclude")||{},p=c.get("exclude")||{};for(let[h,d]of Object.entries(u))d&&s.push("--glob",`!${h}`);for(let[h,d]of Object.entries(p))d&&!u[h]&&s.push("--glob",`!${h}`)}catch(l){r.warn("Failed to get VSCode exclude patterns",l)}let a=await vN(s,e),n=[...yN(a),...a];return gN(n,t).map(l=>({path:l.path,name:l.filename,type:l.isDirectory?"directory":"file"}))}catch(s){throw r.error("Ripgrep search failed",s),s}}function yN(t){let e=new Set;return t.forEach(r=>{let a=kt.dirname(r);for(;a!=="."&&a!==kt.parse(a).root;)e.add(a),a=kt.dirname(a)}),[...e].map(r=>r+kt.sep)}var Zd=require("path"),p_=require("url"),d_=require("events"),m_=require("child_process"),h_=require("readline"),Le=ae(require("fs"),1),v_=require("fs/promises"),w_=require("path"),S_=require("os"),Ta=require("path"),Xd=require("process"),E_=require("crypto"),Eq={},xN=Object.create,bN=Object.getPrototypeOf,Wd=Object.defineProperty,_N=Object.getOwnPropertyNames,wN=Object.prototype.hasOwnProperty,SN=(t,e,r)=>{r=t!=null?xN(bN(t)):{};let s=e||!t||!t.__esModule?Wd(r,"default",{value:t,enumerable:!0}):r;for(let a of _N(t))wN.call(s,a)||Wd(s,a,{get:()=>t[a],enumerable:!0});return s},Fe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),EN=(t,e)=>{for(var r in e)Wd(t,r,{get:e[r],enumerable:!0,configurable:!0,set:s=>e[r]=()=>s})},PN=Fe((t,e)=>{(function(r,s){typeof t=="object"&&typeof e<"u"?s(t):typeof define=="function"&&define.amd?define(["exports"],s):s(r.URI=r.URI||{})})(t,function(r){function s(){for(var x=arguments.length,y=Array(x),E=0;E<x;E++)y[E]=arguments[E];if(y.length>1){y[0]=y[0].slice(0,-1);for(var F=y.length-1,B=1;B<F;++B)y[B]=y[B].slice(1,-1);return y[F]=y[F].slice(1),y.join("")}else return y[0]}function a(x){return"(?:"+x+")"}function i(x){return x===void 0?"undefined":x===null?"null":Object.prototype.toString.call(x).split(" ").pop().split("]").shift().toLowerCase()}function n(x){return x.toUpperCase()}function o(x){return x!=null?x instanceof Array?x:typeof x.length!="number"||x.split||x.setInterval||x.call?[x]:Array.prototype.slice.call(x):[]}function l(x,y){var E=x;if(y)for(var F in y)E[F]=y[F];return E}function c(x){var y="[A-Za-z]",E="[\\x0D]",F="[0-9]",B="[\\x22]",Q=s(F,"[A-Fa-f]"),ce="[\\x0A]",Se="[\\x20]",ve=a(a("%[EFef]"+Q+"%"+Q+Q+"%"+Q+Q)+"|"+a("%[89A-Fa-f]"+Q+"%"+Q+Q)+"|"+a("%"+Q+Q)),Ue="[\\:\\/\\?\\#\\[\\]\\@]",we="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ie=s(Ue,we),Ee=x?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",De=x?"[\\uE000-\\uF8FF]":"[]",ge=s(y,F,"[\\-\\.\\_\\~]",Ee),pt=a(y+s(y,F,"[\\+\\-\\.]")+"*"),He=a(a(ve+"|"+s(ge,we,"[\\:]"))+"*"),Ct=a(a("25[0-5]")+"|"+a("2[0-4]"+F)+"|"+a("1"+F+F)+"|"+a("[1-9]"+F)+"|"+F),Ze=a(a("25[0-5]")+"|"+a("2[0-4]"+F)+"|"+a("1"+F+F)+"|"+a("0?[1-9]"+F)+"|0?0?"+F),mt=a(Ze+"\\."+Ze+"\\."+Ze+"\\."+Ze),Ke=a(Q+"{1,4}"),xt=a(a(Ke+"\\:"+Ke)+"|"+mt),Tt=a(a(Ke+"\\:")+"{6}"+xt),Ot=a("\\:\\:"+a(Ke+"\\:")+"{5}"+xt),ur=a(a(Ke)+"?\\:\\:"+a(Ke+"\\:")+"{4}"+xt),Qt=a(a(a(Ke+"\\:")+"{0,1}"+Ke)+"?\\:\\:"+a(Ke+"\\:")+"{3}"+xt),ts=a(a(a(Ke+"\\:")+"{0,2}"+Ke)+"?\\:\\:"+a(Ke+"\\:")+"{2}"+xt),Ur=a(a(a(Ke+"\\:")+"{0,3}"+Ke)+"?\\:\\:"+Ke+"\\:"+xt),qr=a(a(a(Ke+"\\:")+"{0,4}"+Ke)+"?\\:\\:"+xt),zt=a(a(a(Ke+"\\:")+"{0,5}"+Ke)+"?\\:\\:"+Ke),pr=a(a(a(Ke+"\\:")+"{0,6}"+Ke)+"?\\:\\:"),dr=a([Tt,Ot,ur,Qt,ts,Ur,qr,zt,pr].join("|")),Xt=a(a(ge+"|"+ve)+"+"),Vi=a(dr+"\\%25"+Xt),_s=a(dr+a("\\%25|\\%(?!"+Q+"{2})")+Xt),pc=a("[vV]"+Q+"+\\."+s(ge,we,"[\\:]")+"+"),_a=a("\\["+a(_s+"|"+dr+"|"+pc)+"\\]"),Zs=a(a(ve+"|"+s(ge,we))+"*"),Ks=a(_a+"|"+mt+"(?!"+Zs+")|"+Zs),zr=a(F+"*"),dc=a(a(He+"@")+"?"+Ks+a("\\:"+zr)+"?"),Js=a(ve+"|"+s(ge,we,"[\\:\\@]")),bp=a(Js+"*"),Pr=a(Js+"+"),Qs=a(a(ve+"|"+s(ge,we,"[\\@]"))+"+"),fr=a(a("\\/"+bp)+"*"),Br=a("\\/"+a(Pr+fr)+"?"),rs=a(Qs+fr),Gi=a(Pr+fr),mr="(?!"+Js+")",Tn=a(fr+"|"+Br+"|"+rs+"|"+Gi+"|"+mr),ws=a(a(Js+"|"+s("[\\/\\?]",De))+"*"),wa=a(a(Js+"|[\\/\\?]")+"*"),fc=a(a("\\/\\/"+dc+fr)+"|"+Br+"|"+Gi+"|"+mr),_p=a(pt+"\\:"+fc+a("\\?"+ws)+"?"+a("\\#"+wa)+"?"),dv=a(a("\\/\\/"+dc+fr)+"|"+Br+"|"+rs+"|"+mr),fv=a(dv+a("\\?"+ws)+"?"+a("\\#"+wa)+"?"),Ok=a(_p+"|"+fv),kk=a(pt+"\\:"+fc+a("\\?"+ws)+"?"),Ak="^("+pt+")\\:"+a(a("\\/\\/("+a("("+He+")@")+"?("+Ks+")"+a("\\:("+zr+")")+"?)")+"?("+fr+"|"+Br+"|"+Gi+"|"+mr+")")+a("\\?("+ws+")")+"?"+a("\\#("+wa+")")+"?$",Ik="^(){0}"+a(a("\\/\\/("+a("("+He+")@")+"?("+Ks+")"+a("\\:("+zr+")")+"?)")+"?("+fr+"|"+Br+"|"+rs+"|"+mr+")")+a("\\?("+ws+")")+"?"+a("\\#("+wa+")")+"?$",Dk="^("+pt+")\\:"+a(a("\\/\\/("+a("("+He+")@")+"?("+Ks+")"+a("\\:("+zr+")")+"?)")+"?("+fr+"|"+Br+"|"+Gi+"|"+mr+")")+a("\\?("+ws+")")+"?$",V6="^"+a("\\#("+wa+")")+"?$",G6="^"+a("("+He+")@")+"?("+Ks+")"+a("\\:("+zr+")")+"?$";return{NOT_SCHEME:new RegExp(s("[^]",y,F,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(s("[^\\%\\:]",ge,we),"g"),NOT_HOST:new RegExp(s("[^\\%\\[\\]\\:]",ge,we),"g"),NOT_PATH:new RegExp(s("[^\\%\\/\\:\\@]",ge,we),"g"),NOT_PATH_NOSCHEME:new RegExp(s("[^\\%\\/\\@]",ge,we),"g"),NOT_QUERY:new RegExp(s("[^\\%]",ge,we,"[\\:\\@\\/\\?]",De),"g"),NOT_FRAGMENT:new RegExp(s("[^\\%]",ge,we,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(s("[^]",ge,we),"g"),UNRESERVED:new RegExp(ge,"g"),OTHER_CHARS:new RegExp(s("[^\\%]",ge,Ie),"g"),PCT_ENCODED:new RegExp(ve,"g"),IPV4ADDRESS:new RegExp("^("+mt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+dr+")"+a(a("\\%25|\\%(?!"+Q+"{2})")+"("+Xt+")")+"?\\]?$")}}var u=c(!1),p=c(!0),h=function(){function x(y,E){var F=[],B=!0,Q=!1,ce=void 0;try{for(var Se=y[Symbol.iterator](),ve;!(B=(ve=Se.next()).done)&&(F.push(ve.value),!(E&&F.length===E));B=!0);}catch(Ue){Q=!0,ce=Ue}finally{try{!B&&Se.return&&Se.return()}finally{if(Q)throw ce}}return F}return function(y,E){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return x(y,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(x){if(Array.isArray(x)){for(var y=0,E=Array(x.length);y<x.length;y++)E[y]=x[y];return E}else return Array.from(x)},m=2147483647,f=36,v=1,g=26,b=38,w=700,R=72,C=128,P="-",T=/^xn--/,$=/[^\0-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,j={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=f-v,k=Math.floor,A=String.fromCharCode;function L(x){throw new RangeError(j[x])}function q(x,y){for(var E=[],F=x.length;F--;)E[F]=y(x[F]);return E}function V(x,y){var E=x.split("@"),F="";E.length>1&&(F=E[0]+"@",x=E[1]),x=x.replace(D,".");var B=x.split("."),Q=q(B,y).join(".");return F+Q}function H(x){for(var y=[],E=0,F=x.length;E<F;){var B=x.charCodeAt(E++);if(B>=55296&&B<=56319&&E<F){var Q=x.charCodeAt(E++);(Q&64512)==56320?y.push(((B&1023)<<10)+(Q&1023)+65536):(y.push(B),E--)}else y.push(B)}return y}var G=function(y){return String.fromCodePoint.apply(String,d(y))},Z=function(y){return y-48<10?y-22:y-65<26?y-65:y-97<26?y-97:f},K=function(y,E){return y+22+75*(y<26)-((E!=0)<<5)},re=function(y,E,F){var B=0;for(y=F?k(y/w):y>>1,y+=k(y/E);y>I*g>>1;B+=f)y=k(y/I);return k(B+(I+1)*y/(y+b))},le=function(y){var E=[],F=y.length,B=0,Q=C,ce=R,Se=y.lastIndexOf(P);Se<0&&(Se=0);for(var ve=0;ve<Se;++ve)y.charCodeAt(ve)>=128&&L("not-basic"),E.push(y.charCodeAt(ve));for(var Ue=Se>0?Se+1:0;Ue<F;){for(var we=B,Ie=1,Ee=f;;Ee+=f){Ue>=F&&L("invalid-input");var De=Z(y.charCodeAt(Ue++));(De>=f||De>k((m-B)/Ie))&&L("overflow"),B+=De*Ie;var ge=Ee<=ce?v:Ee>=ce+g?g:Ee-ce;if(De<ge)break;var pt=f-ge;Ie>k(m/pt)&&L("overflow"),Ie*=pt}var He=E.length+1;ce=re(B-we,He,we==0),k(B/He)>m-Q&&L("overflow"),Q+=k(B/He),B%=He,E.splice(B++,0,Q)}return String.fromCodePoint.apply(String,E)},Je=function(y){var E=[];y=H(y);var F=y.length,B=C,Q=0,ce=R,Se=!0,ve=!1,Ue=void 0;try{for(var we=y[Symbol.iterator](),Ie;!(Se=(Ie=we.next()).done);Se=!0){var Ee=Ie.value;Ee<128&&E.push(A(Ee))}}catch(_s){ve=!0,Ue=_s}finally{try{!Se&&we.return&&we.return()}finally{if(ve)throw Ue}}var De=E.length,ge=De;for(De&&E.push(P);ge<F;){var pt=m,He=!0,Ct=!1,Ze=void 0;try{for(var mt=y[Symbol.iterator](),Ke;!(He=(Ke=mt.next()).done);He=!0){var xt=Ke.value;xt>=B&&xt<pt&&(pt=xt)}}catch(_s){Ct=!0,Ze=_s}finally{try{!He&&mt.return&&mt.return()}finally{if(Ct)throw Ze}}var Tt=ge+1;pt-B>k((m-Q)/Tt)&&L("overflow"),Q+=(pt-B)*Tt,B=pt;var Ot=!0,ur=!1,Qt=void 0;try{for(var ts=y[Symbol.iterator](),Ur;!(Ot=(Ur=ts.next()).done);Ot=!0){var qr=Ur.value;if(qr<B&&++Q>m&&L("overflow"),qr==B){for(var zt=Q,pr=f;;pr+=f){var dr=pr<=ce?v:pr>=ce+g?g:pr-ce;if(zt<dr)break;var Xt=zt-dr,Vi=f-dr;E.push(A(K(dr+Xt%Vi,0))),zt=k(Xt/Vi)}E.push(A(K(zt,0))),ce=re(Q,Tt,ge==De),Q=0,++ge}}}catch(_s){ur=!0,Qt=_s}finally{try{!Ot&&ts.return&&ts.return()}finally{if(ur)throw Qt}}++Q,++B}return E.join("")},xe=function(y){return V(y,function(E){return T.test(E)?le(E.slice(4).toLowerCase()):E})},Pe=function(y){return V(y,function(E){return $.test(E)?"xn--"+Je(E):E})},Ae={version:"2.1.0",ucs2:{decode:H,encode:G},decode:le,encode:Je,toASCII:Pe,toUnicode:xe},qe={};function M(x){var y=x.charCodeAt(0),E=void 0;return y<16?E="%0"+y.toString(16).toUpperCase():y<128?E="%"+y.toString(16).toUpperCase():y<2048?E="%"+(y>>6|192).toString(16).toUpperCase()+"%"+(y&63|128).toString(16).toUpperCase():E="%"+(y>>12|224).toString(16).toUpperCase()+"%"+(y>>6&63|128).toString(16).toUpperCase()+"%"+(y&63|128).toString(16).toUpperCase(),E}function W(x){for(var y="",E=0,F=x.length;E<F;){var B=parseInt(x.substr(E+1,2),16);if(B<128)y+=String.fromCharCode(B),E+=3;else if(B>=194&&B<224){if(F-E>=6){var Q=parseInt(x.substr(E+4,2),16);y+=String.fromCharCode((B&31)<<6|Q&63)}else y+=x.substr(E,6);E+=6}else if(B>=224){if(F-E>=9){var ce=parseInt(x.substr(E+4,2),16),Se=parseInt(x.substr(E+7,2),16);y+=String.fromCharCode((B&15)<<12|(ce&63)<<6|Se&63)}else y+=x.substr(E,9);E+=9}else y+=x.substr(E,3),E+=3}return y}function se(x,y){function E(F){var B=W(F);return B.match(y.UNRESERVED)?B:F}return x.scheme&&(x.scheme=String(x.scheme).replace(y.PCT_ENCODED,E).toLowerCase().replace(y.NOT_SCHEME,"")),x.userinfo!==void 0&&(x.userinfo=String(x.userinfo).replace(y.PCT_ENCODED,E).replace(y.NOT_USERINFO,M).replace(y.PCT_ENCODED,n)),x.host!==void 0&&(x.host=String(x.host).replace(y.PCT_ENCODED,E).toLowerCase().replace(y.NOT_HOST,M).replace(y.PCT_ENCODED,n)),x.path!==void 0&&(x.path=String(x.path).replace(y.PCT_ENCODED,E).replace(x.scheme?y.NOT_PATH:y.NOT_PATH_NOSCHEME,M).replace(y.PCT_ENCODED,n)),x.query!==void 0&&(x.query=String(x.query).replace(y.PCT_ENCODED,E).replace(y.NOT_QUERY,M).replace(y.PCT_ENCODED,n)),x.fragment!==void 0&&(x.fragment=String(x.fragment).replace(y.PCT_ENCODED,E).replace(y.NOT_FRAGMENT,M).replace(y.PCT_ENCODED,n)),x}function he(x){return x.replace(/^0*(.*)/,"$1")||"0"}function J(x,y){var E=x.match(y.IPV4ADDRESS)||[],F=h(E,2),B=F[1];return B?B.split(".").map(he).join("."):x}function X(x,y){var E=x.match(y.IPV6ADDRESS)||[],F=h(E,3),B=F[1],Q=F[2];if(B){for(var ce=B.toLowerCase().split("::").reverse(),Se=h(ce,2),ve=Se[0],Ue=Se[1],we=Ue?Ue.split(":").map(he):[],Ie=ve.split(":").map(he),Ee=y.IPV4ADDRESS.test(Ie[Ie.length-1]),De=Ee?7:8,ge=Ie.length-De,pt=Array(De),He=0;He<De;++He)pt[He]=we[He]||Ie[ge+He]||"";Ee&&(pt[De-1]=J(pt[De-1],y));var Ct=pt.reduce(function(Tt,Ot,ur){if(!Ot||Ot==="0"){var Qt=Tt[Tt.length-1];Qt&&Qt.index+Qt.length===ur?Qt.length++:Tt.push({index:ur,length:1})}return Tt},[]),Ze=Ct.sort(function(Tt,Ot){return Ot.length-Tt.length})[0],mt=void 0;if(Ze&&Ze.length>1){var Ke=pt.slice(0,Ze.index),xt=pt.slice(Ze.index+Ze.length);mt=Ke.join(":")+"::"+xt.join(":")}else mt=pt.join(":");return Q&&(mt+="%"+Q),mt}else return x}var ue=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Me="".match(/(){0}/)[1]===void 0;function _e(x){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E={},F=y.iri!==!1?p:u;y.reference==="suffix"&&(x=(y.scheme?y.scheme+":":"")+"//"+x);var B=x.match(ue);if(B){Me?(E.scheme=B[1],E.userinfo=B[3],E.host=B[4],E.port=parseInt(B[5],10),E.path=B[6]||"",E.query=B[7],E.fragment=B[8],isNaN(E.port)&&(E.port=B[5])):(E.scheme=B[1]||void 0,E.userinfo=x.indexOf("@")!==-1?B[3]:void 0,E.host=x.indexOf("//")!==-1?B[4]:void 0,E.port=parseInt(B[5],10),E.path=B[6]||"",E.query=x.indexOf("?")!==-1?B[7]:void 0,E.fragment=x.indexOf("#")!==-1?B[8]:void 0,isNaN(E.port)&&(E.port=x.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?B[4]:void 0)),E.host&&(E.host=X(J(E.host,F),F)),E.scheme===void 0&&E.userinfo===void 0&&E.host===void 0&&E.port===void 0&&!E.path&&E.query===void 0?E.reference="same-document":E.scheme===void 0?E.reference="relative":E.fragment===void 0?E.reference="absolute":E.reference="uri",y.reference&&y.reference!=="suffix"&&y.reference!==E.reference&&(E.error=E.error||"URI is not a "+y.reference+" reference.");var Q=qe[(y.scheme||E.scheme||"").toLowerCase()];if(!y.unicodeSupport&&(!Q||!Q.unicodeSupport)){if(E.host&&(y.domainHost||Q&&Q.domainHost))try{E.host=Ae.toASCII(E.host.replace(F.PCT_ENCODED,W).toLowerCase())}catch(ce){E.error=E.error||"Host's domain name can not be converted to ASCII via punycode: "+ce}se(E,u)}else se(E,F);Q&&Q.parse&&Q.parse(E,y)}else E.error=E.error||"URI can not be parsed.";return E}function it(x,y){var E=y.iri!==!1?p:u,F=[];return x.userinfo!==void 0&&(F.push(x.userinfo),F.push("@")),x.host!==void 0&&F.push(X(J(String(x.host),E),E).replace(E.IPV6ADDRESS,function(B,Q,ce){return"["+Q+(ce?"%25"+ce:"")+"]"})),(typeof x.port=="number"||typeof x.port=="string")&&(F.push(":"),F.push(String(x.port))),F.length?F.join(""):void 0}var ot=/^\.\.?\//,Ce=/^\/\.(\/|$)/,dt=/^\/\.\.(\/|$)/,Qe=/^\/?(?:.|\n)*?(?=\/|$)/;function ut(x){for(var y=[];x.length;)if(x.match(ot))x=x.replace(ot,"");else if(x.match(Ce))x=x.replace(Ce,"/");else if(x.match(dt))x=x.replace(dt,"/"),y.pop();else if(x==="."||x==="..")x="";else{var E=x.match(Qe);if(E){var F=E[0];x=x.slice(F.length),y.push(F)}else throw new Error("Unexpected dot segment condition")}return y.join("")}function tt(x){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=y.iri?p:u,F=[],B=qe[(y.scheme||x.scheme||"").toLowerCase()];if(B&&B.serialize&&B.serialize(x,y),x.host&&!E.IPV6ADDRESS.test(x.host)){if(y.domainHost||B&&B.domainHost)try{x.host=y.iri?Ae.toUnicode(x.host):Ae.toASCII(x.host.replace(E.PCT_ENCODED,W).toLowerCase())}catch(Se){x.error=x.error||"Host's domain name can not be converted to "+(y.iri?"Unicode":"ASCII")+" via punycode: "+Se}}se(x,E),y.reference!=="suffix"&&x.scheme&&(F.push(x.scheme),F.push(":"));var Q=it(x,y);if(Q!==void 0&&(y.reference!=="suffix"&&F.push("//"),F.push(Q),x.path&&x.path.charAt(0)!=="/"&&F.push("/")),x.path!==void 0){var ce=x.path;!y.absolutePath&&(!B||!B.absolutePath)&&(ce=ut(ce)),Q===void 0&&(ce=ce.replace(/^\/\//,"/%2F")),F.push(ce)}return x.query!==void 0&&(F.push("?"),F.push(x.query)),x.fragment!==void 0&&(F.push("#"),F.push(x.fragment)),F.join("")}function ct(x,y){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},F=arguments[3],B={};return F||(x=_e(tt(x,E),E),y=_e(tt(y,E),E)),E=E||{},!E.tolerant&&y.scheme?(B.scheme=y.scheme,B.userinfo=y.userinfo,B.host=y.host,B.port=y.port,B.path=ut(y.path||""),B.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(B.userinfo=y.userinfo,B.host=y.host,B.port=y.port,B.path=ut(y.path||""),B.query=y.query):(y.path?(y.path.charAt(0)==="/"?B.path=ut(y.path):((x.userinfo!==void 0||x.host!==void 0||x.port!==void 0)&&!x.path?B.path="/"+y.path:x.path?B.path=x.path.slice(0,x.path.lastIndexOf("/")+1)+y.path:B.path=y.path,B.path=ut(B.path)),B.query=y.query):(B.path=x.path,y.query!==void 0?B.query=y.query:B.query=x.query),B.userinfo=x.userinfo,B.host=x.host,B.port=x.port),B.scheme=x.scheme),B.fragment=y.fragment,B}function jt(x,y,E){var F=l({scheme:"null"},E);return tt(ct(_e(x,F),_e(y,F),F,!0),F)}function Mt(x,y){return typeof x=="string"?x=tt(_e(x,y),y):i(x)==="object"&&(x=_e(tt(x,y),y)),x}function qt(x,y,E){return typeof x=="string"?x=tt(_e(x,E),E):i(x)==="object"&&(x=tt(x,E)),typeof y=="string"?y=tt(_e(y,E),E):i(y)==="object"&&(y=tt(y,E)),x===y}function xs(x,y){return x&&x.toString().replace(!y||!y.iri?u.ESCAPE:p.ESCAPE,M)}function Jt(x,y){return x&&x.toString().replace(!y||!y.iri?u.PCT_ENCODED:p.PCT_ENCODED,W)}var Vs={scheme:"http",domainHost:!0,parse:function(y,E){return y.host||(y.error=y.error||"HTTP URIs must have a host."),y},serialize:function(y,E){var F=String(y.scheme).toLowerCase()==="https";return(y.port===(F?443:80)||y.port==="")&&(y.port=void 0),y.path||(y.path="/"),y}},Gs={scheme:"https",domainHost:Vs.domainHost,parse:Vs.parse,serialize:Vs.serialize};function qi(x){return typeof x.secure=="boolean"?x.secure:String(x.scheme).toLowerCase()==="wss"}var ba={scheme:"ws",domainHost:!0,parse:function(y,E){var F=y;return F.secure=qi(F),F.resourceName=(F.path||"/")+(F.query?"?"+F.query:""),F.path=void 0,F.query=void 0,F},serialize:function(y,E){if((y.port===(qi(y)?443:80)||y.port==="")&&(y.port=void 0),typeof y.secure=="boolean"&&(y.scheme=y.secure?"wss":"ws",y.secure=void 0),y.resourceName){var F=y.resourceName.split("?"),B=h(F,2),Q=B[0],ce=B[1];y.path=Q&&Q!=="/"?Q:void 0,y.query=ce,y.resourceName=void 0}return y.fragment=void 0,y}},oc={scheme:"wss",domainHost:ba.domainHost,parse:ba.parse,serialize:ba.serialize},cc={},Sr=!0,lc="[A-Za-z0-9\\-\\.\\_\\~"+(Sr?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Er="[0-9A-Fa-f]",fp=a(a("%[EFef]"+Er+"%"+Er+Er+"%"+Er+Er)+"|"+a("%[89A-Fa-f]"+Er+"%"+Er+Er)+"|"+a("%"+Er+Er)),mp="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",hp="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",vp=s(hp,'[\\"\\\\]'),Ws="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",gp=new RegExp(lc,"g"),bs=new RegExp(fp,"g"),yp=new RegExp(s("[^]",mp,"[\\.]",'[\\"]',vp),"g"),Cn=new RegExp(s("[^]",lc,Ws),"g"),uc=Cn;function zi(x){var y=W(x);return y.match(gp)?y:x}var Bi={scheme:"mailto",parse:function(y,E){var F=y,B=F.to=F.path?F.path.split(","):[];if(F.path=void 0,F.query){for(var Q=!1,ce={},Se=F.query.split("&"),ve=0,Ue=Se.length;ve<Ue;++ve){var we=Se[ve].split("=");switch(we[0]){case"to":for(var Ie=we[1].split(","),Ee=0,De=Ie.length;Ee<De;++Ee)B.push(Ie[Ee]);break;case"subject":F.subject=Jt(we[1],E);break;case"body":F.body=Jt(we[1],E);break;default:Q=!0,ce[Jt(we[0],E)]=Jt(we[1],E);break}}Q&&(F.headers=ce)}F.query=void 0;for(var ge=0,pt=B.length;ge<pt;++ge){var He=B[ge].split("@");if(He[0]=Jt(He[0]),E.unicodeSupport)He[1]=Jt(He[1],E).toLowerCase();else try{He[1]=Ae.toASCII(Jt(He[1],E).toLowerCase())}catch(Ct){F.error=F.error||"Email address's domain name can not be converted to ASCII via punycode: "+Ct}B[ge]=He.join("@")}return F},serialize:function(y,E){var F=y,B=o(y.to);if(B){for(var Q=0,ce=B.length;Q<ce;++Q){var Se=String(B[Q]),ve=Se.lastIndexOf("@"),Ue=Se.slice(0,ve).replace(bs,zi).replace(bs,n).replace(yp,M),we=Se.slice(ve+1);try{we=E.iri?Ae.toUnicode(we):Ae.toASCII(Jt(we,E).toLowerCase())}catch(ge){F.error=F.error||"Email address's domain name can not be converted to "+(E.iri?"Unicode":"ASCII")+" via punycode: "+ge}B[Q]=Ue+"@"+we}F.path=B.join(",")}var Ie=y.headers=y.headers||{};y.subject&&(Ie.subject=y.subject),y.body&&(Ie.body=y.body);var Ee=[];for(var De in Ie)Ie[De]!==cc[De]&&Ee.push(De.replace(bs,zi).replace(bs,n).replace(Cn,M)+"="+Ie[De].replace(bs,zi).replace(bs,n).replace(uc,M));return Ee.length&&(F.query=Ee.join("&")),F}},xp=/^([^\:]+)\:(.*)/,Hi={scheme:"urn",parse:function(y,E){var F=y.path&&y.path.match(xp),B=y;if(F){var Q=E.scheme||B.scheme||"urn",ce=F[1].toLowerCase(),Se=F[2],ve=Q+":"+(E.nid||ce),Ue=qe[ve];B.nid=ce,B.nss=Se,B.path=void 0,Ue&&(B=Ue.parse(B,E))}else B.error=B.error||"URN can not be parsed.";return B},serialize:function(y,E){var F=E.scheme||y.scheme||"urn",B=y.nid,Q=F+":"+(E.nid||B),ce=qe[Q];ce&&(y=ce.serialize(y,E));var Se=y,ve=y.nss;return Se.path=(B||E.nid)+":"+ve,Se}},N=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,O={scheme:"urn:uuid",parse:function(y,E){var F=y;return F.uuid=F.nss,F.nss=void 0,!E.tolerant&&(!F.uuid||!F.uuid.match(N))&&(F.error=F.error||"UUID is not valid."),F},serialize:function(y,E){var F=y;return F.nss=(y.uuid||"").toLowerCase(),F}};qe[Vs.scheme]=Vs,qe[Gs.scheme]=Gs,qe[ba.scheme]=ba,qe[oc.scheme]=oc,qe[Bi.scheme]=Bi,qe[Hi.scheme]=Hi,qe[O.scheme]=O,r.SCHEMES=qe,r.pctEncChar=M,r.pctDecChars=W,r.parse=_e,r.removeDotSegments=ut,r.serialize=tt,r.resolveComponents=ct,r.resolve=jt,r.normalize=Mt,r.equal=qt,r.escapeComponent=xs,r.unescapeComponent=Jt,Object.defineProperty(r,"__esModule",{value:!0})})}),nf=Fe((t,e)=>{e.exports=function r(s,a){if(s===a)return!0;if(s&&a&&typeof s=="object"&&typeof a=="object"){if(s.constructor!==a.constructor)return!1;var i,n,o;if(Array.isArray(s)){if(i=s.length,i!=a.length)return!1;for(n=i;n--!==0;)if(!r(s[n],a[n]))return!1;return!0}if(s.constructor===RegExp)return s.source===a.source&&s.flags===a.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===a.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===a.toString();if(o=Object.keys(s),i=o.length,i!==Object.keys(a).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(a,o[n]))return!1;for(n=i;n--!==0;){var l=o[n];if(!r(s[l],a[l]))return!1}return!0}return s!==s&&a!==a}}),RN=Fe((t,e)=>{e.exports=function(s){for(var a=0,i=s.length,n=0,o;n<i;)a++,o=s.charCodeAt(n++),o>=55296&&o<=56319&&n<i&&(o=s.charCodeAt(n),(o&64512)==56320&&n++);return a}}),Qn=Fe((t,e)=>{e.exports={copy:r,checkDataType:s,checkDataTypes:a,coerceToTypes:n,toHash:o,getProperty:u,escapeQuotes:p,equal:nf(),ucs2length:RN(),varOccurences:h,varReplace:d,schemaHasRules:m,schemaHasRulesExcept:f,schemaUnknownRules:v,toQuotedString:g,getPathExpr:b,getPath:w,getData:P,unescapeFragment:$,unescapeJsonPointer:I,escapeFragment:D,escapeJsonPointer:j};function r(k,A){A=A||{};for(var L in k)A[L]=k[L];return A}function s(k,A,L,q){var V=q?" !== ":" === ",H=q?" || ":" && ",G=q?"!":"",Z=q?"":"!";switch(k){case"null":return A+V+"null";case"array":return G+"Array.isArray("+A+")";case"object":return"("+G+A+H+"typeof "+A+V+'"object"'+H+Z+"Array.isArray("+A+"))";case"integer":return"(typeof "+A+V+'"number"'+H+Z+"("+A+" % 1)"+H+A+V+A+(L?H+G+"isFinite("+A+")":"")+")";case"number":return"(typeof "+A+V+'"'+k+'"'+(L?H+G+"isFinite("+A+")":"")+")";default:return"typeof "+A+V+'"'+k+'"'}}function a(k,A,L){switch(k.length){case 1:return s(k[0],A,L,!0);default:var q="",V=o(k);V.array&&V.object&&(q=V.null?"(":"(!"+A+" || ",q+="typeof "+A+' !== "object")',delete V.null,delete V.array,delete V.object),V.number&&delete V.integer;for(var H in V)q+=(q?" && ":"")+s(H,A,L,!0);return q}}var i=o(["string","number","integer","boolean","null"]);function n(k,A){if(Array.isArray(A)){for(var L=[],q=0;q<A.length;q++){var V=A[q];(i[V]||k==="array"&&V==="array")&&(L[L.length]=V)}if(L.length)return L}else{if(i[A])return[A];if(k==="array"&&A==="array")return["array"]}}function o(k){for(var A={},L=0;L<k.length;L++)A[k[L]]=!0;return A}var l=/^[a-z$_][a-z$_0-9]*$/i,c=/'|\\/g;function u(k){return typeof k=="number"?"["+k+"]":l.test(k)?"."+k:"['"+p(k)+"']"}function p(k){return k.replace(c,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function h(k,A){A+="[^0-9]";var L=k.match(new RegExp(A,"g"));return L?L.length:0}function d(k,A,L){return A+="([^0-9])",L=L.replace(/\$/g,"$$$$"),k.replace(new RegExp(A,"g"),L+"$1")}function m(k,A){if(typeof k=="boolean")return!k;for(var L in k)if(A[L])return!0}function f(k,A,L){if(typeof k=="boolean")return!k&&L!="not";for(var q in k)if(q!=L&&A[q])return!0}function v(k,A){if(typeof k!="boolean"){for(var L in k)if(!A[L])return L}}function g(k){return"'"+p(k)+"'"}function b(k,A,L,q){var V=L?"'/' + "+A+(q?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):q?"'[' + "+A+" + ']'":"'[\\'' + "+A+" + '\\']'";return T(k,V)}function w(k,A,L){var q=g(L?"/"+j(A):u(A));return T(k,q)}var R=/^\/(?:[^~]|~0|~1)*$/,C=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function P(k,A,L){var q,V,H,G;if(k==="")return"rootData";if(k[0]=="/"){if(!R.test(k))throw new Error("Invalid JSON-pointer: "+k);V=k,H="rootData"}else{if(G=k.match(C),!G)throw new Error("Invalid JSON-pointer: "+k);if(q=+G[1],V=G[2],V=="#"){if(q>=A)throw new Error("Cannot access property/index "+q+" levels up, current level is "+A);return L[A-q]}if(q>A)throw new Error("Cannot access data "+q+" levels up, current level is "+A);if(H="data"+(A-q||""),!V)return H}for(var Z=H,K=V.split("/"),re=0;re<K.length;re++){var le=K[re];le&&(H+=u(I(le)),Z+=" && "+H)}return Z}function T(k,A){return k=='""'?A:(k+" + "+A).replace(/([^\\])' \+ '/g,"$1")}function $(k){return I(decodeURIComponent(k))}function D(k){return encodeURIComponent(j(k))}function j(k){return k.replace(/~/g,"~0").replace(/\//g,"~1")}function I(k){return k.replace(/~1/g,"/").replace(/~0/g,"~")}}),o_=Fe((t,e)=>{var r=Qn();e.exports=s;function s(a){r.copy(a,this)}}),CN=Fe((t,e)=>{var r=e.exports=function(i,n,o){typeof n=="function"&&(o=n,n={}),o=n.cb||o;var l=typeof o=="function"?o:o.pre||function(){},c=o.post||function(){};s(n,l,c,i,"",i)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function s(i,n,o,l,c,u,p,h,d,m){if(l&&typeof l=="object"&&!Array.isArray(l)){n(l,c,u,p,h,d,m);for(var f in l){var v=l[f];if(Array.isArray(v)){if(f in r.arrayKeywords)for(var g=0;g<v.length;g++)s(i,n,o,v[g],c+"/"+f+"/"+g,u,c,f,l,g)}else if(f in r.propsKeywords){if(v&&typeof v=="object")for(var b in v)s(i,n,o,v[b],c+"/"+f+"/"+a(b),u,c,f,l,b)}else(f in r.keywords||i.allKeys&&!(f in r.skipKeywords))&&s(i,n,o,v,c+"/"+f,u,c,f,l)}o(l,c,u,p,h,d,m)}}function a(i){return i.replace(/~/g,"~0").replace(/\//g,"~1")}}),of=Fe((t,e)=>{var r=PN(),s=nf(),a=Qn(),i=o_(),n=CN();e.exports=o,o.normalizeId=w,o.fullPath=v,o.url=R,o.ids=C,o.inlineRef=d,o.schema=l;function o(P,T,$){var D=this._refs[$];if(typeof D=="string")if(this._refs[D])D=this._refs[D];else return o.call(this,P,T,D);if(D=D||this._schemas[$],D instanceof i)return d(D.schema,this._opts.inlineRefs)?D.schema:D.validate||this._compile(D);var j=l.call(this,T,$),I,k,A;return j&&(I=j.schema,T=j.root,A=j.baseId),I instanceof i?k=I.validate||P.call(this,I.schema,T,void 0,A):I!==void 0&&(k=d(I,this._opts.inlineRefs)?I:P.call(this,I,T,void 0,A)),k}function l(P,T){var $=r.parse(T),D=g($),j=v(this._getId(P.schema));if(Object.keys(P.schema).length===0||D!==j){var I=w(D),k=this._refs[I];if(typeof k=="string")return c.call(this,P,k,$);if(k instanceof i)k.validate||this._compile(k),P=k;else if(k=this._schemas[I],k instanceof i){if(k.validate||this._compile(k),I==w(T))return{schema:k,root:P,baseId:j};P=k}else return;if(!P.schema)return;j=v(this._getId(P.schema))}return p.call(this,$,j,P.schema,P)}function c(P,T,$){var D=l.call(this,P,T);if(D){var j=D.schema,I=D.baseId;P=D.root;var k=this._getId(j);return k&&(I=R(I,k)),p.call(this,$,I,j,P)}}var u=a.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function p(P,T,$,D){if(P.fragment=P.fragment||"",P.fragment.slice(0,1)=="/"){for(var j=P.fragment.split("/"),I=1;I<j.length;I++){var k=j[I];if(k){if(k=a.unescapeFragment(k),$=$[k],$===void 0)break;var A;if(!u[k]&&(A=this._getId($),A&&(T=R(T,A)),$.$ref)){var L=R(T,$.$ref),q=l.call(this,D,L);q&&($=q.schema,D=q.root,T=q.baseId)}}}if($!==void 0&&$!==D.schema)return{schema:$,root:D,baseId:T}}}var h=a.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function d(P,T){if(T===!1)return!1;if(T===void 0||T===!0)return m(P);if(T)return f(P)<=T}function m(P){var T;if(Array.isArray(P)){for(var $=0;$<P.length;$++)if(T=P[$],typeof T=="object"&&!m(T))return!1}else for(var D in P)if(D=="$ref"||(T=P[D],typeof T=="object"&&!m(T)))return!1;return!0}function f(P){var T=0,$;if(Array.isArray(P)){for(var D=0;D<P.length;D++)if($=P[D],typeof $=="object"&&(T+=f($)),T==1/0)return 1/0}else for(var j in P){if(j=="$ref")return 1/0;if(h[j])T++;else if($=P[j],typeof $=="object"&&(T+=f($)+1),T==1/0)return 1/0}return T}function v(P,T){T!==!1&&(P=w(P));var $=r.parse(P);return g($)}function g(P){return r.serialize(P).split("#")[0]+"#"}var b=/#\/?$/;function w(P){return P?P.replace(b,""):""}function R(P,T){return T=w(T),r.resolve(P,T)}function C(P){var T=w(this._getId(P)),$={"":T},D={"":v(T,!1)},j={},I=this;return n(P,{allKeys:!0},function(k,A,L,q,V,H,G){if(A!==""){var Z=I._getId(k),K=$[q],re=D[q]+"/"+V;if(G!==void 0&&(re+="/"+(typeof G=="number"?G:a.escapeFragment(G))),typeof Z=="string"){Z=K=w(K?r.resolve(K,Z):Z);var le=I._refs[Z];if(typeof le=="string"&&(le=I._refs[le]),le&&le.schema){if(!s(k,le.schema))throw new Error('id "'+Z+'" resolves to more than one schema')}else if(Z!=w(re))if(Z[0]=="#"){if(j[Z]&&!s(k,j[Z]))throw new Error('id "'+Z+'" resolves to more than one schema');j[Z]=k}else I._refs[Z]=re}$[A]=K,D[A]=re}}),j}}),cf=Fe((t,e)=>{var r=of();e.exports={Validation:i(s),MissingRef:i(a)};function s(n){this.message="validation failed",this.errors=n,this.ajv=this.validation=!0}a.message=function(n,o){return"can't resolve reference "+o+" from id "+n};function a(n,o,l){this.message=l||a.message(n,o),this.missingRef=r.url(n,o),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function i(n){return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}}),c_=Fe((t,e)=>{e.exports=function(r,s){s||(s={}),typeof s=="function"&&(s={cmp:s});var a=typeof s.cycles=="boolean"?s.cycles:!1,i=s.cmp&&function(o){return function(l){return function(c,u){var p={key:c,value:l[c]},h={key:u,value:l[u]};return o(p,h)}}}(s.cmp),n=[];return function o(l){if(l&&l.toJSON&&typeof l.toJSON=="function"&&(l=l.toJSON()),l!==void 0){if(typeof l=="number")return isFinite(l)?""+l:"null";if(typeof l!="object")return JSON.stringify(l);var c,u;if(Array.isArray(l)){for(u="[",c=0;c<l.length;c++)c&&(u+=","),u+=o(l[c])||"null";return u+"]"}if(l===null)return"null";if(n.indexOf(l)!==-1){if(a)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var p=n.push(l)-1,h=Object.keys(l).sort(i&&i(l));for(u="",c=0;c<h.length;c++){var d=h[c],m=o(l[d]);m&&(u&&(u+=","),u+=JSON.stringify(d)+":"+m)}return n.splice(p,1),"{"+u+"}"}}(r)}}),l_=Fe((t,e)=>{e.exports=function(s,a,i){var n="",o=s.schema.$async===!0,l=s.util.schemaHasRulesExcept(s.schema,s.RULES.all,"$ref"),c=s.self._getId(s.schema);if(s.opts.strictKeywords){var u=s.util.schemaUnknownRules(s.schema,s.RULES.keywords);if(u){var p="unknown keyword: "+u;if(s.opts.strictKeywords==="log")s.logger.warn(p);else throw new Error(p)}}if(s.isTop&&(n+=" var validate = ",o&&(s.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",c&&(s.opts.sourceCode||s.opts.processCode)&&(n+=" "+("/*# sourceURL="+c+" */")+" ")),typeof s.schema=="boolean"||!(l||s.schema.$ref)){var a="false schema",h=s.level,d=s.dataLevel,m=s.schema[a],f=s.schemaPath+s.util.getProperty(a),v=s.errSchemaPath+"/"+a,T=!s.opts.allErrors,j,g="data"+(d||""),P="valid"+h;if(s.schema===!1){s.isTop?T=!0:n+=" var "+P+" = false; ";var b=b||[];b.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(j||"false schema")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(v)+" , params: {} ",s.opts.messages!==!1&&(n+=" , message: 'boolean schema is false' "),s.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+s.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ";var w=n;n=b.pop(),!s.compositeRule&&T?s.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else s.isTop?o?n+=" return data; ":n+=" validate.errors = null; return true; ":n+=" var "+P+" = true; ";return s.isTop&&(n+=" }; return validate; "),n}if(s.isTop){var R=s.isTop,h=s.level=0,d=s.dataLevel=0,g="data";if(s.rootId=s.resolve.fullPath(s.self._getId(s.root.schema)),s.baseId=s.baseId||s.rootId,delete s.isTop,s.dataPathArr=[""],s.schema.default!==void 0&&s.opts.useDefaults&&s.opts.strictDefaults){var C="default is ignored in the schema root";if(s.opts.strictDefaults==="log")s.logger.warn(C);else throw new Error(C)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{var{level:h,dataLevel:d}=s,g="data"+(d||"");if(c&&(s.baseId=s.resolve.url(s.baseId,c)),o&&!s.async)throw new Error("async schema in sync schema");n+=" var errs_"+h+" = errors;"}var P="valid"+h,T=!s.opts.allErrors,$="",D="",j,I=s.schema.type,k=Array.isArray(I);if(I&&s.opts.nullable&&s.schema.nullable===!0&&(k?I.indexOf("null")==-1&&(I=I.concat("null")):I!="null"&&(I=[I,"null"],k=!0)),k&&I.length==1&&(I=I[0],k=!1),s.schema.$ref&&l){if(s.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+s.errSchemaPath+'" (see option extendRefs)');s.opts.extendRefs!==!0&&(l=!1,s.logger.warn('$ref: keywords ignored in schema at path "'+s.errSchemaPath+'"'))}if(s.schema.$comment&&s.opts.$comment&&(n+=" "+s.RULES.all.$comment.code(s,"$comment")),I){if(s.opts.coerceTypes)var A=s.util.coerceToTypes(s.opts.coerceTypes,I);var L=s.RULES.types[I];if(A||k||L===!0||L&&!Qe(L)){var f=s.schemaPath+".type",v=s.errSchemaPath+"/type",f=s.schemaPath+".type",v=s.errSchemaPath+"/type",q=k?"checkDataTypes":"checkDataType";if(n+=" if ("+s.util[q](I,g,s.opts.strictNumbers,!0)+") { ",A){var V="dataType"+h,H="coerced"+h;n+=" var "+V+" = typeof "+g+"; var "+H+" = undefined; ",s.opts.coerceTypes=="array"&&(n+=" if ("+V+" == 'object' && Array.isArray("+g+") && "+g+".length == 1) { "+g+" = "+g+"[0]; "+V+" = typeof "+g+"; if ("+s.util.checkDataType(s.schema.type,g,s.opts.strictNumbers)+") "+H+" = "+g+"; } "),n+=" if ("+H+" !== undefined) ; ";var G=A;if(G)for(var Z,K=-1,re=G.length-1;K<re;)Z=G[K+=1],Z=="string"?n+=" else if ("+V+" == 'number' || "+V+" == 'boolean') "+H+" = '' + "+g+"; else if ("+g+" === null) "+H+" = ''; ":Z=="number"||Z=="integer"?(n+=" else if ("+V+" == 'boolean' || "+g+" === null || ("+V+" == 'string' && "+g+" && "+g+" == +"+g+" ",Z=="integer"&&(n+=" && !("+g+" % 1)"),n+=")) "+H+" = +"+g+"; "):Z=="boolean"?n+=" else if ("+g+" === 'false' || "+g+" === 0 || "+g+" === null) "+H+" = false; else if ("+g+" === 'true' || "+g+" === 1) "+H+" = true; ":Z=="null"?n+=" else if ("+g+" === '' || "+g+" === 0 || "+g+" === false) "+H+" = null; ":s.opts.coerceTypes=="array"&&Z=="array"&&(n+=" else if ("+V+" == 'string' || "+V+" == 'number' || "+V+" == 'boolean' || "+g+" == null) "+H+" = ["+g+"]; ");n+=" else {   ";var b=b||[];b.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(j||"type")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(v)+" , params: { type: '",k?n+=""+I.join(","):n+=""+I,n+="' } ",s.opts.messages!==!1&&(n+=" , message: 'should be ",k?n+=""+I.join(","):n+=""+I,n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ";var w=n;n=b.pop(),!s.compositeRule&&T?s.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+H+" !== undefined) {  ";var le=d?"data"+(d-1||""):"parentData",Je=d?s.dataPathArr[d]:"parentDataProperty";n+=" "+g+" = "+H+"; ",d||(n+="if ("+le+" !== undefined)"),n+=" "+le+"["+Je+"] = "+H+"; } "}else{var b=b||[];b.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(j||"type")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(v)+" , params: { type: '",k?n+=""+I.join(","):n+=""+I,n+="' } ",s.opts.messages!==!1&&(n+=" , message: 'should be ",k?n+=""+I.join(","):n+=""+I,n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ";var w=n;n=b.pop(),!s.compositeRule&&T?s.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(s.schema.$ref&&!l)n+=" "+s.RULES.all.$ref.code(s,"$ref")+" ",T&&(n+=" } if (errors === ",R?n+="0":n+="errs_"+h,n+=") { ",D+="}");else{var xe=s.RULES;if(xe){for(var L,Pe=-1,Ae=xe.length-1;Pe<Ae;)if(L=xe[Pe+=1],Qe(L)){if(L.type&&(n+=" if ("+s.util.checkDataType(L.type,g,s.opts.strictNumbers)+") { "),s.opts.useDefaults){if(L.type=="object"&&s.schema.properties){var m=s.schema.properties,qe=Object.keys(m),M=qe;if(M)for(var W,se=-1,he=M.length-1;se<he;){W=M[se+=1];var J=m[W];if(J.default!==void 0){var X=g+s.util.getProperty(W);if(s.compositeRule){if(s.opts.strictDefaults){var C="default is ignored for: "+X;if(s.opts.strictDefaults==="log")s.logger.warn(C);else throw new Error(C)}}else n+=" if ("+X+" === undefined ",s.opts.useDefaults=="empty"&&(n+=" || "+X+" === null || "+X+" === '' "),n+=" ) "+X+" = ",s.opts.useDefaults=="shared"?n+=" "+s.useDefault(J.default)+" ":n+=" "+JSON.stringify(J.default)+" ",n+="; "}}}else if(L.type=="array"&&Array.isArray(s.schema.items)){var ue=s.schema.items;if(ue){for(var J,K=-1,Me=ue.length-1;K<Me;)if(J=ue[K+=1],J.default!==void 0){var X=g+"["+K+"]";if(s.compositeRule){if(s.opts.strictDefaults){var C="default is ignored for: "+X;if(s.opts.strictDefaults==="log")s.logger.warn(C);else throw new Error(C)}}else n+=" if ("+X+" === undefined ",s.opts.useDefaults=="empty"&&(n+=" || "+X+" === null || "+X+" === '' "),n+=" ) "+X+" = ",s.opts.useDefaults=="shared"?n+=" "+s.useDefault(J.default)+" ":n+=" "+JSON.stringify(J.default)+" ",n+="; "}}}}var _e=L.rules;if(_e){for(var it,ot=-1,Ce=_e.length-1;ot<Ce;)if(it=_e[ot+=1],ut(it)){var dt=it.code(s,it.keyword,L.type);dt&&(n+=" "+dt+" ",T&&($+="}"))}}if(T&&(n+=" "+$+" ",$=""),L.type&&(n+=" } ",I&&I===L.type&&!A)){n+=" else { ";var f=s.schemaPath+".type",v=s.errSchemaPath+"/type",b=b||[];b.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(j||"type")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(v)+" , params: { type: '",k?n+=""+I.join(","):n+=""+I,n+="' } ",s.opts.messages!==!1&&(n+=" , message: 'should be ",k?n+=""+I.join(","):n+=""+I,n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ";var w=n;n=b.pop(),!s.compositeRule&&T?s.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}T&&(n+=" if (errors === ",R?n+="0":n+="errs_"+h,n+=") { ",D+="}")}}}T&&(n+=" "+D+" "),R?(o?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+P+" = errors === errs_"+h+";";function Qe(ct){for(var jt=ct.rules,Mt=0;Mt<jt.length;Mt++)if(ut(jt[Mt]))return!0}function ut(ct){return s.schema[ct.keyword]!==void 0||ct.implements&&tt(ct)}function tt(ct){for(var jt=ct.implements,Mt=0;Mt<jt.length;Mt++)if(s.schema[jt[Mt]]!==void 0)return!0}return n}}),TN=Fe((t,e)=>{var r=of(),s=Qn(),a=cf(),i=c_(),n=l_(),o=s.ucs2length,l=nf(),c=a.Validation;e.exports=u;function u(w,R,C,P){var T=this,$=this._opts,D=[void 0],j={},I=[],k={},A=[],L={},q=[];R=R||{schema:w,refVal:D,refs:j};var V=p.call(this,w,R,P),H=this._compilations[V.index];if(V.compiling)return H.callValidate=le;var G=this._formats,Z=this.RULES;try{var K=Je(w,R,C,P);H.validate=K;var re=H.callValidate;return re&&(re.schema=K.schema,re.errors=null,re.refs=K.refs,re.refVal=K.refVal,re.root=K.root,re.$async=K.$async,$.sourceCode&&(re.source=K.source)),K}finally{h.call(this,w,R,P)}function le(){var J=H.validate,X=J.apply(this,arguments);return le.errors=J.errors,X}function Je(J,X,ue,Me){var _e=!X||X&&X.schema==J;if(X.schema!=R.schema)return u.call(T,J,X,ue,Me);var it=J.$async===!0,ot=n({isTop:!0,schema:J,isRoot:_e,baseId:Me,root:X,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:a.MissingRef,RULES:Z,validate:n,util:s,resolve:r,resolveRef:xe,usePattern:W,useDefault:se,useCustomRule:he,opts:$,formats:G,logger:T.logger,self:T});ot=b(D,v)+b(I,m)+b(A,f)+b(q,g)+ot,$.processCode&&(ot=$.processCode(ot,J));var Ce;try{var dt=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",ot);Ce=dt(T,Z,G,R,D,A,q,l,o,c),D[0]=Ce}catch(Qe){throw T.logger.error("Error compiling schema, function code:",ot),Qe}return Ce.schema=J,Ce.errors=null,Ce.refs=j,Ce.refVal=D,Ce.root=_e?Ce:X,it&&(Ce.$async=!0),$.sourceCode===!0&&(Ce.source={code:ot,patterns:I,defaults:A}),Ce}function xe(J,X,ue){X=r.url(J,X);var Me=j[X],_e,it;if(Me!==void 0)return _e=D[Me],it="refVal["+Me+"]",M(_e,it);if(!ue&&R.refs){var ot=R.refs[X];if(ot!==void 0)return _e=R.refVal[ot],it=Pe(X,_e),M(_e,it)}it=Pe(X);var Ce=r.call(T,Je,R,X);if(Ce===void 0){var dt=C&&C[X];dt&&(Ce=r.inlineRef(dt,$.inlineRefs)?dt:u.call(T,dt,R,C,J))}if(Ce===void 0)Ae(X);else return qe(X,Ce),M(Ce,it)}function Pe(J,X){var ue=D.length;return D[ue]=X,j[J]=ue,"refVal"+ue}function Ae(J){delete j[J]}function qe(J,X){var ue=j[J];D[ue]=X}function M(J,X){return typeof J=="object"||typeof J=="boolean"?{code:X,schema:J,inline:!0}:{code:X,$async:J&&!!J.$async}}function W(J){var X=k[J];return X===void 0&&(X=k[J]=I.length,I[X]=J),"pattern"+X}function se(J){switch(typeof J){case"boolean":case"number":return""+J;case"string":return s.toQuotedString(J);case"object":if(J===null)return"null";var X=i(J),ue=L[X];return ue===void 0&&(ue=L[X]=A.length,A[ue]=J),"default"+ue}}function he(J,X,ue,Me){if(T._opts.validateSchema!==!1){var _e=J.definition.dependencies;if(_e&&!_e.every(function(jt){return Object.prototype.hasOwnProperty.call(ue,jt)}))throw new Error("parent schema must have all required keywords: "+_e.join(","));var it=J.definition.validateSchema;if(it){var ot=it(X);if(!ot){var Ce="keyword schema is invalid: "+T.errorsText(it.errors);if(T._opts.validateSchema=="log")T.logger.error(Ce);else throw new Error(Ce)}}}var dt=J.definition.compile,Qe=J.definition.inline,ut=J.definition.macro,tt;if(dt)tt=dt.call(T,X,ue,Me);else if(ut)tt=ut.call(T,X,ue,Me),$.validateSchema!==!1&&T.validateSchema(tt,!0);else if(Qe)tt=Qe.call(T,Me,J.keyword,X,ue);else if(tt=J.definition.validate,!tt)return;if(tt===void 0)throw new Error('custom keyword "'+J.keyword+'"failed to compile');var ct=q.length;return q[ct]=tt,{code:"customRule"+ct,validate:tt}}}function p(w,R,C){var P=d.call(this,w,R,C);return P>=0?{index:P,compiling:!0}:(P=this._compilations.length,this._compilations[P]={schema:w,root:R,baseId:C},{index:P,compiling:!1})}function h(w,R,C){var P=d.call(this,w,R,C);P>=0&&this._compilations.splice(P,1)}function d(w,R,C){for(var P=0;P<this._compilations.length;P++){var T=this._compilations[P];if(T.schema==w&&T.root==R&&T.baseId==C)return P}return-1}function m(w,R){return"var pattern"+w+" = new RegExp("+s.toQuotedString(R[w])+");"}function f(w){return"var default"+w+" = defaults["+w+"];"}function v(w,R){return R[w]===void 0?"":"var refVal"+w+" = refVal["+w+"];"}function g(w){return"var customRule"+w+" = customRules["+w+"];"}function b(w,R){if(!w.length)return"";for(var C="",P=0;P<w.length;P++)C+=R(P,w);return C}}),ON=Fe((t,e)=>{var r=e.exports=function(){this._cache={}};r.prototype.put=function(a,i){this._cache[a]=i},r.prototype.get=function(a){return this._cache[a]},r.prototype.del=function(a){delete this._cache[a]},r.prototype.clear=function(){this._cache={}}}),kN=Fe((t,e)=>{var r=Qn(),s=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31],i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,n=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,o=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,u=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,p=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,d=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,m=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;e.exports=f;function f(D){return D=D=="full"?"full":"fast",r.copy(f[D])}f.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":c,url:u,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:n,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:$,uuid:p,"json-pointer":h,"json-pointer-uri-fragment":d,"relative-json-pointer":m},f.full={date:g,time:b,"date-time":R,uri:P,"uri-reference":l,"uri-template":c,url:u,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:n,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:$,uuid:p,"json-pointer":h,"json-pointer-uri-fragment":d,"relative-json-pointer":m};function v(D){return D%4===0&&(D%100!==0||D%400===0)}function g(D){var j=D.match(s);if(!j)return!1;var I=+j[1],k=+j[2],A=+j[3];return k>=1&&k<=12&&A>=1&&A<=(k==2&&v(I)?29:a[k])}function b(D,j){var I=D.match(i);if(!I)return!1;var k=I[1],A=I[2],L=I[3],q=I[5];return(k<=23&&A<=59&&L<=59||k==23&&A==59&&L==60)&&(!j||q)}var w=/t|\s/i;function R(D){var j=D.split(w);return j.length==2&&g(j[0])&&b(j[1],!0)}var C=/\/|:/;function P(D){return C.test(D)&&o.test(D)}var T=/[^\\]\\Z/;function $(D){if(T.test(D))return!1;try{return new RegExp(D),!0}catch{return!1}}}),AN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.errSchemaPath+"/"+a,p=!s.opts.allErrors,h="data"+(l||""),d="valid"+o,m,f;if(c=="#"||c=="#/")s.isRoot?(m=s.async,f="validate"):(m=s.root.schema.$async===!0,f="root.refVal[0]");else{var v=s.resolveRef(s.baseId,c,s.isRoot);if(v===void 0){var g=s.MissingRefError.message(s.baseId,c);if(s.opts.missingRefs=="fail"){s.logger.error(g);var b=b||[];b.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(u)+" , params: { ref: '"+s.util.escapeQuotes(c)+"' } ",s.opts.messages!==!1&&(n+=" , message: 'can\\'t resolve reference "+s.util.escapeQuotes(c)+"' "),s.opts.verbose&&(n+=" , schema: "+s.util.toQuotedString(c)+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var w=n;n=b.pop(),!s.compositeRule&&p?s.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",p&&(n+=" if (false) { ")}else if(s.opts.missingRefs=="ignore")s.logger.warn(g),p&&(n+=" if (true) { ");else throw new s.MissingRefError(s.baseId,c,g)}else if(v.inline){var R=s.util.copy(s);R.level++;var C="valid"+R.level;R.schema=v.schema,R.schemaPath="",R.errSchemaPath=c;var P=s.validate(R).replace(/validate\.schema/g,v.code);n+=" "+P+" ",p&&(n+=" if ("+C+") { ")}else m=v.$async===!0||s.async&&v.$async!==!1,f=v.code}if(f){var b=b||[];b.push(n),n="",s.opts.passContext?n+=" "+f+".call(this, ":n+=" "+f+"( ",n+=" "+h+", (dataPath || '')",s.errorPath!='""'&&(n+=" + "+s.errorPath);var T=l?"data"+(l-1||""):"parentData",$=l?s.dataPathArr[l]:"parentDataProperty";n+=" , "+T+" , "+$+", rootData)  ";var D=n;if(n=b.pop(),m){if(!s.async)throw new Error("async schema referenced by sync schema");p&&(n+=" var "+d+"; "),n+=" try { await "+D+"; ",p&&(n+=" "+d+" = true; "),n+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",p&&(n+=" "+d+" = false; "),n+=" } ",p&&(n+=" if ("+d+") { ")}else n+=" if (!"+D+") { if (vErrors === null) vErrors = "+f+".errors; else vErrors = vErrors.concat("+f+".errors); errors = vErrors.length; } ",p&&(n+=" else { ")}return n}}),IN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.schema[a],l=s.schemaPath+s.util.getProperty(a),c=s.errSchemaPath+"/"+a,u=!s.opts.allErrors,p=s.util.copy(s),h="";p.level++;var d="valid"+p.level,m=p.baseId,f=!0,v=o;if(v)for(var g,b=-1,w=v.length-1;b<w;)g=v[b+=1],(s.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:s.util.schemaHasRules(g,s.RULES.all))&&(f=!1,p.schema=g,p.schemaPath=l+"["+b+"]",p.errSchemaPath=c+"/"+b,n+="  "+s.validate(p)+" ",p.baseId=m,u&&(n+=" if ("+d+") { ",h+="}"));return u&&(f?n+=" if (true) { ":n+=" "+h.slice(0,-1)+" "),n}}),DN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f="errs__"+o,v=s.util.copy(s),g="";v.level++;var b="valid"+v.level,w=c.every(function(j){return s.opts.strictKeywords?typeof j=="object"&&Object.keys(j).length>0||j===!1:s.util.schemaHasRules(j,s.RULES.all)});if(w){var R=v.baseId;n+=" var "+f+" = errors; var "+m+" = false;  ";var C=s.compositeRule;s.compositeRule=v.compositeRule=!0;var P=c;if(P)for(var T,$=-1,D=P.length-1;$<D;)T=P[$+=1],v.schema=T,v.schemaPath=u+"["+$+"]",v.errSchemaPath=p+"/"+$,n+="  "+s.validate(v)+" ",v.baseId=R,n+=" "+m+" = "+m+" || "+b+"; if (!"+m+") { ",g+="}";s.compositeRule=v.compositeRule=C,n+=" "+g+" if (!"+m+") {   var err =   ",s.createErrors!==!1?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: {} ",s.opts.messages!==!1&&(n+=" , message: 'should match some schema in anyOf' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!s.compositeRule&&h&&(s.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",s.opts.allErrors&&(n+=" } ")}else h&&(n+=" if (true) { ");return n}}),LN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.schema[a],l=s.errSchemaPath+"/"+a,c=!s.opts.allErrors,u=s.util.toQuotedString(o);return s.opts.$comment===!0?n+=" console.log("+u+");":typeof s.opts.$comment=="function"&&(n+=" self._opts.$comment("+u+", "+s.util.toQuotedString(l)+", validate.root.schema);"),n}}),$N=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f=s.opts.$data&&c&&c.$data,v;f?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",v="schema"+o):v=c,f||(n+=" var schema"+o+" = validate.schema"+u+";"),n+="var "+m+" = equal("+d+", schema"+o+"); if (!"+m+") {   ";var g=g||[];g.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { allowedValue: schema"+o+" } ",s.opts.messages!==!1&&(n+=" , message: 'should be equal to constant' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var b=n;return n=g.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+b+"]); ":n+=" validate.errors = ["+b+"]; return false; ":n+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",h&&(n+=" else { "),n}}),NN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f="errs__"+o,v=s.util.copy(s),g="";v.level++;var b="valid"+v.level,w="i"+o,R=v.dataLevel=s.dataLevel+1,C="data"+R,P=s.baseId,T=s.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0||c===!1:s.util.schemaHasRules(c,s.RULES.all);if(n+="var "+f+" = errors;var "+m+";",T){var $=s.compositeRule;s.compositeRule=v.compositeRule=!0,v.schema=c,v.schemaPath=u,v.errSchemaPath=p,n+=" var "+b+" = false; for (var "+w+" = 0; "+w+" < "+d+".length; "+w+"++) { ",v.errorPath=s.util.getPathExpr(s.errorPath,w,s.opts.jsonPointers,!0);var D=d+"["+w+"]";v.dataPathArr[R]=w;var j=s.validate(v);v.baseId=P,s.util.varOccurences(j,C)<2?n+=" "+s.util.varReplace(j,C,D)+" ":n+=" var "+C+" = "+D+"; "+j+" ",n+=" if ("+b+") break; }  ",s.compositeRule=v.compositeRule=$,n+=" "+g+" if (!"+b+") {"}else n+=" if ("+d+".length == 0) {";var I=I||[];I.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: {} ",s.opts.messages!==!1&&(n+=" , message: 'should contain a valid item' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var k=n;return n=I.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+k+"]); ":n+=" validate.errors = ["+k+"]; return false; ":n+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",T&&(n+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),s.opts.allErrors&&(n+=" } "),n}}),FN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="errs__"+o,f=s.util.copy(s),v="";f.level++;var g="valid"+f.level,b={},w={},R=s.opts.ownProperties;for($ in c)if($!="__proto__"){var C=c[$],P=Array.isArray(C)?w:b;P[$]=C}n+="var "+m+" = errors;";var T=s.errorPath;n+="var missing"+o+";";for(var $ in w)if(P=w[$],P.length){if(n+=" if ( "+d+s.util.getProperty($)+" !== undefined ",R&&(n+=" && Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes($)+"') "),h){n+=" && ( ";var D=P;if(D)for(var j,I=-1,k=D.length-1;I<k;){j=D[I+=1],I&&(n+=" || ");var A=s.util.getProperty(j),L=d+A;n+=" ( ( "+L+" === undefined ",R&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes(j)+"') "),n+=") && (missing"+o+" = "+s.util.toQuotedString(s.opts.jsonPointers?j:A)+") ) "}n+=")) {  ";var q="missing"+o,V="' + "+q+" + '";s.opts._errorDataPathProperty&&(s.errorPath=s.opts.jsonPointers?s.util.getPathExpr(T,q,!0):T+" + "+q);var H=H||[];H.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { property: '"+s.util.escapeQuotes($)+"', missingProperty: '"+V+"', depsCount: "+P.length+", deps: '"+s.util.escapeQuotes(P.length==1?P[0]:P.join(", "))+"' } ",s.opts.messages!==!1&&(n+=" , message: 'should have ",P.length==1?n+="property "+s.util.escapeQuotes(P[0]):n+="properties "+s.util.escapeQuotes(P.join(", ")),n+=" when property "+s.util.escapeQuotes($)+" is present' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var G=n;n=H.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+G+"]); ":n+=" validate.errors = ["+G+"]; return false; ":n+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var Z=P;if(Z)for(var j,K=-1,re=Z.length-1;K<re;){j=Z[K+=1];var A=s.util.getProperty(j),V=s.util.escapeQuotes(j),L=d+A;s.opts._errorDataPathProperty&&(s.errorPath=s.util.getPath(T,j,s.opts.jsonPointers)),n+=" if ( "+L+" === undefined ",R&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes(j)+"') "),n+=") {  var err =   ",s.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { property: '"+s.util.escapeQuotes($)+"', missingProperty: '"+V+"', depsCount: "+P.length+", deps: '"+s.util.escapeQuotes(P.length==1?P[0]:P.join(", "))+"' } ",s.opts.messages!==!1&&(n+=" , message: 'should have ",P.length==1?n+="property "+s.util.escapeQuotes(P[0]):n+="properties "+s.util.escapeQuotes(P.join(", ")),n+=" when property "+s.util.escapeQuotes($)+" is present' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",h&&(v+="}",n+=" else { ")}s.errorPath=T;var le=f.baseId;for(var $ in b){var C=b[$];(s.opts.strictKeywords?typeof C=="object"&&Object.keys(C).length>0||C===!1:s.util.schemaHasRules(C,s.RULES.all))&&(n+=" "+g+" = true; if ( "+d+s.util.getProperty($)+" !== undefined ",R&&(n+=" && Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes($)+"') "),n+=") { ",f.schema=C,f.schemaPath=u+s.util.getProperty($),f.errSchemaPath=p+"/"+s.util.escapeFragment($),n+="  "+s.validate(f)+" ",f.baseId=le,n+=" }  ",h&&(n+=" if ("+g+") { ",v+="}"))}return h&&(n+="   "+v+" if ("+m+" == errors) {"),n}}),jN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f=s.opts.$data&&c&&c.$data,v;f?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",v="schema"+o):v=c;var g="i"+o,b="schema"+o;f||(n+=" var "+b+" = validate.schema"+u+";"),n+="var "+m+";",f&&(n+=" if (schema"+o+" === undefined) "+m+" = true; else if (!Array.isArray(schema"+o+")) "+m+" = false; else {"),n+=""+m+" = false;for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) if (equal("+d+", "+b+"["+g+"])) { "+m+" = true; break; }",f&&(n+="  }  "),n+=" if (!"+m+") {   ";var w=w||[];w.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { allowedValues: schema"+o+" } ",s.opts.messages!==!1&&(n+=" , message: 'should be equal to one of the allowed values' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var R=n;return n=w.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+R+"]); ":n+=" validate.errors = ["+R+"]; return false; ":n+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",h&&(n+=" else { "),n}}),MN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||"");if(s.opts.format===!1)return h&&(n+=" if (true) { "),n;var m=s.opts.$data&&c&&c.$data,f;m?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",f="schema"+o):f=c;var v=s.opts.unknownFormats,g=Array.isArray(v);if(m){var b="format"+o,w="isObject"+o,R="formatType"+o;n+=" var "+b+" = formats["+f+"]; var "+w+" = typeof "+b+" == 'object' && !("+b+" instanceof RegExp) && "+b+".validate; var "+R+" = "+w+" && "+b+".type || 'string'; if ("+w+") { ",s.async&&(n+=" var async"+o+" = "+b+".async; "),n+=" "+b+" = "+b+".validate; } if (  ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" (",v!="ignore"&&(n+=" ("+f+" && !"+b+" ",g&&(n+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),n+=") || "),n+=" ("+b+" && "+R+" == '"+i+"' && !(typeof "+b+" == 'function' ? ",s.async?n+=" (async"+o+" ? await "+b+"("+d+") : "+b+"("+d+")) ":n+=" "+b+"("+d+") ",n+=" : "+b+".test("+d+"))))) {"}else{var b=s.formats[c];if(!b){if(v=="ignore")return s.logger.warn('unknown format "'+c+'" ignored in schema at path "'+s.errSchemaPath+'"'),h&&(n+=" if (true) { "),n;if(g&&v.indexOf(c)>=0)return h&&(n+=" if (true) { "),n;throw new Error('unknown format "'+c+'" is used in schema at path "'+s.errSchemaPath+'"')}var w=typeof b=="object"&&!(b instanceof RegExp)&&b.validate,R=w&&b.type||"string";if(w){var C=b.async===!0;b=b.validate}if(R!=i)return h&&(n+=" if (true) { "),n;if(C){if(!s.async)throw new Error("async format in sync schema");var P="formats"+s.util.getProperty(c)+".validate";n+=" if (!(await "+P+"("+d+"))) { "}else{n+=" if (! ";var P="formats"+s.util.getProperty(c);w&&(P+=".validate"),typeof b=="function"?n+=" "+P+"("+d+") ":n+=" "+P+".test("+d+") ",n+=") { "}}var T=T||[];T.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { format:  ",m?n+=""+f:n+=""+s.util.toQuotedString(c),n+="  } ",s.opts.messages!==!1&&(n+=` , message: 'should match format "`,m?n+="' + "+f+" + '":n+=""+s.util.escapeQuotes(c),n+=`"' `),s.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+s.util.toQuotedString(c),n+="         , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var $=n;return n=T.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+$+"]); ":n+=" validate.errors = ["+$+"]; return false; ":n+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",h&&(n+=" else { "),n}}),UN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f="errs__"+o,v=s.util.copy(s);v.level++;var g="valid"+v.level,b=s.schema.then,w=s.schema.else,R=b!==void 0&&(s.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0||b===!1:s.util.schemaHasRules(b,s.RULES.all)),C=w!==void 0&&(s.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:s.util.schemaHasRules(w,s.RULES.all)),P=v.baseId;if(R||C){var T;v.createErrors=!1,v.schema=c,v.schemaPath=u,v.errSchemaPath=p,n+=" var "+f+" = errors; var "+m+" = true;  ";var $=s.compositeRule;s.compositeRule=v.compositeRule=!0,n+="  "+s.validate(v)+" ",v.baseId=P,v.createErrors=!0,n+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",s.compositeRule=v.compositeRule=$,R?(n+=" if ("+g+") {  ",v.schema=s.schema.then,v.schemaPath=s.schemaPath+".then",v.errSchemaPath=s.errSchemaPath+"/then",n+="  "+s.validate(v)+" ",v.baseId=P,n+=" "+m+" = "+g+"; ",R&&C?(T="ifClause"+o,n+=" var "+T+" = 'then'; "):T="'then'",n+=" } ",C&&(n+=" else { ")):n+=" if (!"+g+") { ",C&&(v.schema=s.schema.else,v.schemaPath=s.schemaPath+".else",v.errSchemaPath=s.errSchemaPath+"/else",n+="  "+s.validate(v)+" ",v.baseId=P,n+=" "+m+" = "+g+"; ",R&&C?(T="ifClause"+o,n+=" var "+T+" = 'else'; "):T="'else'",n+=" } "),n+=" if (!"+m+") {   var err =   ",s.createErrors!==!1?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { failingKeyword: "+T+" } ",s.opts.messages!==!1&&(n+=` , message: 'should match "' + `+T+` + '" schema' `),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!s.compositeRule&&h&&(s.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",h&&(n+=" else { ")}else h&&(n+=" if (true) { ");return n}}),qN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f="errs__"+o,v=s.util.copy(s),g="";v.level++;var b="valid"+v.level,w="i"+o,R=v.dataLevel=s.dataLevel+1,C="data"+R,P=s.baseId;if(n+="var "+f+" = errors;var "+m+";",Array.isArray(c)){var T=s.schema.additionalItems;if(T===!1){n+=" "+m+" = "+d+".length <= "+c.length+"; ";var $=p;p=s.errSchemaPath+"/additionalItems",n+="  if (!"+m+") {   ";var D=D||[];D.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { limit: "+c.length+" } ",s.opts.messages!==!1&&(n+=" , message: 'should NOT have more than "+c.length+" items' "),s.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var j=n;n=D.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+j+"]); ":n+=" validate.errors = ["+j+"]; return false; ":n+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",p=$,h&&(g+="}",n+=" else { ")}var I=c;if(I){for(var k,A=-1,L=I.length-1;A<L;)if(k=I[A+=1],s.opts.strictKeywords?typeof k=="object"&&Object.keys(k).length>0||k===!1:s.util.schemaHasRules(k,s.RULES.all)){n+=" "+b+" = true; if ("+d+".length > "+A+") { ";var q=d+"["+A+"]";v.schema=k,v.schemaPath=u+"["+A+"]",v.errSchemaPath=p+"/"+A,v.errorPath=s.util.getPathExpr(s.errorPath,A,s.opts.jsonPointers,!0),v.dataPathArr[R]=A;var V=s.validate(v);v.baseId=P,s.util.varOccurences(V,C)<2?n+=" "+s.util.varReplace(V,C,q)+" ":n+=" var "+C+" = "+q+"; "+V+" ",n+=" }  ",h&&(n+=" if ("+b+") { ",g+="}")}}if(typeof T=="object"&&(s.opts.strictKeywords?typeof T=="object"&&Object.keys(T).length>0||T===!1:s.util.schemaHasRules(T,s.RULES.all))){v.schema=T,v.schemaPath=s.schemaPath+".additionalItems",v.errSchemaPath=s.errSchemaPath+"/additionalItems",n+=" "+b+" = true; if ("+d+".length > "+c.length+") {  for (var "+w+" = "+c.length+"; "+w+" < "+d+".length; "+w+"++) { ",v.errorPath=s.util.getPathExpr(s.errorPath,w,s.opts.jsonPointers,!0);var q=d+"["+w+"]";v.dataPathArr[R]=w;var V=s.validate(v);v.baseId=P,s.util.varOccurences(V,C)<2?n+=" "+s.util.varReplace(V,C,q)+" ":n+=" var "+C+" = "+q+"; "+V+" ",h&&(n+=" if (!"+b+") break; "),n+=" } }  ",h&&(n+=" if ("+b+") { ",g+="}")}}else if(s.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0||c===!1:s.util.schemaHasRules(c,s.RULES.all)){v.schema=c,v.schemaPath=u,v.errSchemaPath=p,n+="  for (var "+w+" = 0; "+w+" < "+d+".length; "+w+"++) { ",v.errorPath=s.util.getPathExpr(s.errorPath,w,s.opts.jsonPointers,!0);var q=d+"["+w+"]";v.dataPathArr[R]=w;var V=s.validate(v);v.baseId=P,s.util.varOccurences(V,C)<2?n+=" "+s.util.varReplace(V,C,q)+" ":n+=" var "+C+" = "+q+"; "+V+" ",h&&(n+=" if (!"+b+") break; "),n+=" }"}return h&&(n+=" "+g+" if ("+f+" == errors) {"),n}}),Wb=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,P,d="data"+(l||""),m=s.opts.$data&&c&&c.$data,f;m?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",f="schema"+o):f=c;var v=a=="maximum",g=v?"exclusiveMaximum":"exclusiveMinimum",b=s.schema[g],w=s.opts.$data&&b&&b.$data,R=v?"<":">",C=v?">":"<",P=void 0;if(!(m||typeof c=="number"||c===void 0))throw new Error(a+" must be number");if(!(w||b===void 0||typeof b=="number"||typeof b=="boolean"))throw new Error(g+" must be number or boolean");if(w){var T=s.util.getData(b.$data,l,s.dataPathArr),$="exclusive"+o,D="exclType"+o,j="exclIsNumber"+o,I="op"+o,k="' + "+I+" + '";n+=" var schemaExcl"+o+" = "+T+"; ",T="schemaExcl"+o,n+=" var "+$+"; var "+D+" = typeof "+T+"; if ("+D+" != 'boolean' && "+D+" != 'undefined' && "+D+" != 'number') { ";var P=g,A=A||[];A.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(P||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: {} ",s.opts.messages!==!1&&(n+=" , message: '"+g+" should be boolean' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var L=n;n=A.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+L+"]); ":n+=" validate.errors = ["+L+"]; return false; ":n+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+D+" == 'number' ? ( ("+$+" = "+f+" === undefined || "+T+" "+R+"= "+f+") ? "+d+" "+C+"= "+T+" : "+d+" "+C+" "+f+" ) : ( ("+$+" = "+T+" === true) ? "+d+" "+C+"= "+f+" : "+d+" "+C+" "+f+" ) || "+d+" !== "+d+") { var op"+o+" = "+$+" ? '"+R+"' : '"+R+"='; ",c===void 0&&(P=g,p=s.errSchemaPath+"/"+g,f=T,m=w)}else{var j=typeof b=="number",k=R;if(j&&m){var I="'"+k+"'";n+=" if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" ( "+f+" === undefined || "+b+" "+R+"= "+f+" ? "+d+" "+C+"= "+b+" : "+d+" "+C+" "+f+" ) || "+d+" !== "+d+") { "}else{j&&c===void 0?($=!0,P=g,p=s.errSchemaPath+"/"+g,f=b,C+="="):(j&&(f=Math[v?"min":"max"](b,c)),b===(j?f:!0)?($=!0,P=g,p=s.errSchemaPath+"/"+g,C+="="):($=!1,k+="="));var I="'"+k+"'";n+=" if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+d+" "+C+" "+f+" || "+d+" !== "+d+") { "}}P=P||a;var A=A||[];A.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(P||"_limit")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { comparison: "+I+", limit: "+f+", exclusive: "+$+" } ",s.opts.messages!==!1&&(n+=" , message: 'should be "+k+" ",m?n+="' + "+f:n+=""+f+"'"),s.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var L=n;return n=A.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+L+"]); ":n+=" validate.errors = ["+L+"]; return false; ":n+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",h&&(n+=" else { "),n}}),Zb=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,g,d="data"+(l||""),m=s.opts.$data&&c&&c.$data,f;if(m?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",f="schema"+o):f=c,!(m||typeof c=="number"))throw new Error(a+" must be number");var v=a=="maxItems"?">":"<";n+="if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+d+".length "+v+" "+f+") { ";var g=a,b=b||[];b.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(g||"_limitItems")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { limit: "+f+" } ",s.opts.messages!==!1&&(n+=" , message: 'should NOT have ",a=="maxItems"?n+="more":n+="fewer",n+=" than ",m?n+="' + "+f+" + '":n+=""+c,n+=" items' "),s.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var w=n;return n=b.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),Kb=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,g,d="data"+(l||""),m=s.opts.$data&&c&&c.$data,f;if(m?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",f="schema"+o):f=c,!(m||typeof c=="number"))throw new Error(a+" must be number");var v=a=="maxLength"?">":"<";n+="if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),s.opts.unicode===!1?n+=" "+d+".length ":n+=" ucs2length("+d+") ",n+=" "+v+" "+f+") { ";var g=a,b=b||[];b.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(g||"_limitLength")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { limit: "+f+" } ",s.opts.messages!==!1&&(n+=" , message: 'should NOT be ",a=="maxLength"?n+="longer":n+="shorter",n+=" than ",m?n+="' + "+f+" + '":n+=""+c,n+=" characters' "),s.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var w=n;return n=b.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),Jb=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,g,d="data"+(l||""),m=s.opts.$data&&c&&c.$data,f;if(m?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",f="schema"+o):f=c,!(m||typeof c=="number"))throw new Error(a+" must be number");var v=a=="maxProperties"?">":"<";n+="if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" Object.keys("+d+").length "+v+" "+f+") { ";var g=a,b=b||[];b.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(g||"_limitProperties")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { limit: "+f+" } ",s.opts.messages!==!1&&(n+=" , message: 'should NOT have ",a=="maxProperties"?n+="more":n+="fewer",n+=" than ",m?n+="' + "+f+" + '":n+=""+c,n+=" properties' "),s.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var w=n;return n=b.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),zN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m=s.opts.$data&&c&&c.$data,f;if(m?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",f="schema"+o):f=c,!(m||typeof c=="number"))throw new Error(a+" must be number");n+="var division"+o+";if (",m&&(n+=" "+f+" !== undefined && ( typeof "+f+" != 'number' || "),n+=" (division"+o+" = "+d+" / "+f+", ",s.opts.multipleOfPrecision?n+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+s.opts.multipleOfPrecision+" ":n+=" division"+o+" !== parseInt(division"+o+") ",n+=" ) ",m&&(n+="  )  "),n+=" ) {   ";var v=v||[];v.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { multipleOf: "+f+" } ",s.opts.messages!==!1&&(n+=" , message: 'should be multiple of ",m?n+="' + "+f:n+=""+f+"'"),s.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var g=n;return n=v.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),BN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="errs__"+o,f=s.util.copy(s);f.level++;var v="valid"+f.level;if(s.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0||c===!1:s.util.schemaHasRules(c,s.RULES.all)){f.schema=c,f.schemaPath=u,f.errSchemaPath=p,n+=" var "+m+" = errors;  ";var g=s.compositeRule;s.compositeRule=f.compositeRule=!0,f.createErrors=!1;var b;f.opts.allErrors&&(b=f.opts.allErrors,f.opts.allErrors=!1),n+=" "+s.validate(f)+" ",f.createErrors=!0,b&&(f.opts.allErrors=b),s.compositeRule=f.compositeRule=g,n+=" if ("+v+") {   ";var w=w||[];w.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: {} ",s.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var R=n;n=w.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+R+"]); ":n+=" validate.errors = ["+R+"]; return false; ":n+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; } ",s.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",s.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: {} ",s.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h&&(n+=" if (false) { ");return n}}),HN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f="errs__"+o,v=s.util.copy(s),g="";v.level++;var b="valid"+v.level,w=v.baseId,R="prevValid"+o,C="passingSchemas"+o;n+="var "+f+" = errors , "+R+" = false , "+m+" = false , "+C+" = null; ";var P=s.compositeRule;s.compositeRule=v.compositeRule=!0;var T=c;if(T)for(var $,D=-1,j=T.length-1;D<j;)$=T[D+=1],(s.opts.strictKeywords?typeof $=="object"&&Object.keys($).length>0||$===!1:s.util.schemaHasRules($,s.RULES.all))?(v.schema=$,v.schemaPath=u+"["+D+"]",v.errSchemaPath=p+"/"+D,n+="  "+s.validate(v)+" ",v.baseId=w):n+=" var "+b+" = true; ",D&&(n+=" if ("+b+" && "+R+") { "+m+" = false; "+C+" = ["+C+", "+D+"]; } else { ",g+="}"),n+=" if ("+b+") { "+m+" = "+R+" = true; "+C+" = "+D+"; }";return s.compositeRule=v.compositeRule=P,n+=""+g+"if (!"+m+") {   var err =   ",s.createErrors!==!1?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { passingSchemas: "+C+" } ",s.opts.messages!==!1&&(n+=" , message: 'should match exactly one schema in oneOf' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!s.compositeRule&&h&&(s.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",s.opts.allErrors&&(n+=" } "),n}}),VN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m=s.opts.$data&&c&&c.$data,f;m?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",f="schema"+o):f=c;var v=m?"(new RegExp("+f+"))":s.usePattern(c);n+="if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" !"+v+".test("+d+") ) {   ";var g=g||[];g.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { pattern:  ",m?n+=""+f:n+=""+s.util.toQuotedString(c),n+="  } ",s.opts.messages!==!1&&(n+=` , message: 'should match pattern "`,m?n+="' + "+f+" + '":n+=""+s.util.escapeQuotes(c),n+=`"' `),s.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+s.util.toQuotedString(c),n+="         , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var b=n;return n=g.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+b+"]); ":n+=" validate.errors = ["+b+"]; return false; ":n+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),GN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="errs__"+o,f=s.util.copy(s),v="";f.level++;var g="valid"+f.level,b="key"+o,w="idx"+o,R=f.dataLevel=s.dataLevel+1,C="data"+R,P="dataProperties"+o,T=Object.keys(c||{}).filter(K),$=s.schema.patternProperties||{},D=Object.keys($).filter(K),j=s.schema.additionalProperties,I=T.length||D.length,k=j===!1,A=typeof j=="object"&&Object.keys(j).length,L=s.opts.removeAdditional,q=k||A||L,V=s.opts.ownProperties,H=s.baseId,G=s.schema.required;if(G&&!(s.opts.$data&&G.$data)&&G.length<s.opts.loopRequired)var Z=s.util.toHash(G);function K(Jt){return Jt!=="__proto__"}if(n+="var "+m+" = errors;var "+g+" = true;",V&&(n+=" var "+P+" = undefined;"),q){if(V?n+=" "+P+" = "+P+" || Object.keys("+d+"); for (var "+w+"=0; "+w+"<"+P+".length; "+w+"++) { var "+b+" = "+P+"["+w+"]; ":n+=" for (var "+b+" in "+d+") { ",I){if(n+=" var isAdditional"+o+" = !(false ",T.length)if(T.length>8)n+=" || validate.schema"+u+".hasOwnProperty("+b+") ";else{var re=T;if(re)for(var le,Je=-1,xe=re.length-1;Je<xe;)le=re[Je+=1],n+=" || "+b+" == "+s.util.toQuotedString(le)+" "}if(D.length){var Pe=D;if(Pe)for(var Ae,qe=-1,M=Pe.length-1;qe<M;)Ae=Pe[qe+=1],n+=" || "+s.usePattern(Ae)+".test("+b+") "}n+=" ); if (isAdditional"+o+") { "}if(L=="all")n+=" delete "+d+"["+b+"]; ";else{var W=s.errorPath,se="' + "+b+" + '";if(s.opts._errorDataPathProperty&&(s.errorPath=s.util.getPathExpr(s.errorPath,b,s.opts.jsonPointers)),k)if(L)n+=" delete "+d+"["+b+"]; ";else{n+=" "+g+" = false; ";var he=p;p=s.errSchemaPath+"/additionalProperties";var J=J||[];J.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { additionalProperty: '"+se+"' } ",s.opts.messages!==!1&&(n+=" , message: '",s.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),s.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var X=n;n=J.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+X+"]); ":n+=" validate.errors = ["+X+"]; return false; ":n+=" var err = "+X+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",p=he,h&&(n+=" break; ")}else if(A)if(L=="failing"){n+=" var "+m+" = errors;  ";var ue=s.compositeRule;s.compositeRule=f.compositeRule=!0,f.schema=j,f.schemaPath=s.schemaPath+".additionalProperties",f.errSchemaPath=s.errSchemaPath+"/additionalProperties",f.errorPath=s.opts._errorDataPathProperty?s.errorPath:s.util.getPathExpr(s.errorPath,b,s.opts.jsonPointers);var Me=d+"["+b+"]";f.dataPathArr[R]=b;var _e=s.validate(f);f.baseId=H,s.util.varOccurences(_e,C)<2?n+=" "+s.util.varReplace(_e,C,Me)+" ":n+=" var "+C+" = "+Me+"; "+_e+" ",n+=" if (!"+g+") { errors = "+m+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+b+"]; }  ",s.compositeRule=f.compositeRule=ue}else{f.schema=j,f.schemaPath=s.schemaPath+".additionalProperties",f.errSchemaPath=s.errSchemaPath+"/additionalProperties",f.errorPath=s.opts._errorDataPathProperty?s.errorPath:s.util.getPathExpr(s.errorPath,b,s.opts.jsonPointers);var Me=d+"["+b+"]";f.dataPathArr[R]=b;var _e=s.validate(f);f.baseId=H,s.util.varOccurences(_e,C)<2?n+=" "+s.util.varReplace(_e,C,Me)+" ":n+=" var "+C+" = "+Me+"; "+_e+" ",h&&(n+=" if (!"+g+") break; ")}s.errorPath=W}I&&(n+=" } "),n+=" }  ",h&&(n+=" if ("+g+") { ",v+="}")}var it=s.opts.useDefaults&&!s.compositeRule;if(T.length){var ot=T;if(ot)for(var le,Ce=-1,dt=ot.length-1;Ce<dt;){le=ot[Ce+=1];var Qe=c[le];if(s.opts.strictKeywords?typeof Qe=="object"&&Object.keys(Qe).length>0||Qe===!1:s.util.schemaHasRules(Qe,s.RULES.all)){var ut=s.util.getProperty(le),Me=d+ut,tt=it&&Qe.default!==void 0;f.schema=Qe,f.schemaPath=u+ut,f.errSchemaPath=p+"/"+s.util.escapeFragment(le),f.errorPath=s.util.getPath(s.errorPath,le,s.opts.jsonPointers),f.dataPathArr[R]=s.util.toQuotedString(le);var _e=s.validate(f);if(f.baseId=H,s.util.varOccurences(_e,C)<2){_e=s.util.varReplace(_e,C,Me);var ct=Me}else{var ct=C;n+=" var "+C+" = "+Me+"; "}if(tt)n+=" "+_e+" ";else{if(Z&&Z[le]){n+=" if ( "+ct+" === undefined ",V&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes(le)+"') "),n+=") { "+g+" = false; ";var W=s.errorPath,he=p,jt=s.util.escapeQuotes(le);s.opts._errorDataPathProperty&&(s.errorPath=s.util.getPath(W,le,s.opts.jsonPointers)),p=s.errSchemaPath+"/required";var J=J||[];J.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { missingProperty: '"+jt+"' } ",s.opts.messages!==!1&&(n+=" , message: '",s.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+jt+"\\'",n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var X=n;n=J.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+X+"]); ":n+=" validate.errors = ["+X+"]; return false; ":n+=" var err = "+X+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",p=he,s.errorPath=W,n+=" } else { "}else h?(n+=" if ( "+ct+" === undefined ",V&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes(le)+"') "),n+=") { "+g+" = true; } else { "):(n+=" if ("+ct+" !== undefined ",V&&(n+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes(le)+"') "),n+=" ) { ");n+=" "+_e+" } "}}h&&(n+=" if ("+g+") { ",v+="}")}}if(D.length){var Mt=D;if(Mt)for(var Ae,qt=-1,xs=Mt.length-1;qt<xs;){Ae=Mt[qt+=1];var Qe=$[Ae];if(s.opts.strictKeywords?typeof Qe=="object"&&Object.keys(Qe).length>0||Qe===!1:s.util.schemaHasRules(Qe,s.RULES.all)){f.schema=Qe,f.schemaPath=s.schemaPath+".patternProperties"+s.util.getProperty(Ae),f.errSchemaPath=s.errSchemaPath+"/patternProperties/"+s.util.escapeFragment(Ae),V?n+=" "+P+" = "+P+" || Object.keys("+d+"); for (var "+w+"=0; "+w+"<"+P+".length; "+w+"++) { var "+b+" = "+P+"["+w+"]; ":n+=" for (var "+b+" in "+d+") { ",n+=" if ("+s.usePattern(Ae)+".test("+b+")) { ",f.errorPath=s.util.getPathExpr(s.errorPath,b,s.opts.jsonPointers);var Me=d+"["+b+"]";f.dataPathArr[R]=b;var _e=s.validate(f);f.baseId=H,s.util.varOccurences(_e,C)<2?n+=" "+s.util.varReplace(_e,C,Me)+" ":n+=" var "+C+" = "+Me+"; "+_e+" ",h&&(n+=" if (!"+g+") break; "),n+=" } ",h&&(n+=" else "+g+" = true; "),n+=" }  ",h&&(n+=" if ("+g+") { ",v+="}")}}}return h&&(n+=" "+v+" if ("+m+" == errors) {"),n}}),WN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="errs__"+o,f=s.util.copy(s),v="";f.level++;var g="valid"+f.level;if(n+="var "+m+" = errors;",s.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0||c===!1:s.util.schemaHasRules(c,s.RULES.all)){f.schema=c,f.schemaPath=u,f.errSchemaPath=p;var b="key"+o,w="idx"+o,R="i"+o,C="' + "+b+" + '",P=f.dataLevel=s.dataLevel+1,T="data"+P,$="dataProperties"+o,D=s.opts.ownProperties,j=s.baseId;D&&(n+=" var "+$+" = undefined; "),D?n+=" "+$+" = "+$+" || Object.keys("+d+"); for (var "+w+"=0; "+w+"<"+$+".length; "+w+"++) { var "+b+" = "+$+"["+w+"]; ":n+=" for (var "+b+" in "+d+") { ",n+=" var startErrs"+o+" = errors; ";var I=b,k=s.compositeRule;s.compositeRule=f.compositeRule=!0;var A=s.validate(f);f.baseId=j,s.util.varOccurences(A,T)<2?n+=" "+s.util.varReplace(A,T,I)+" ":n+=" var "+T+" = "+I+"; "+A+" ",s.compositeRule=f.compositeRule=k,n+=" if (!"+g+") { for (var "+R+"=startErrs"+o+"; "+R+"<errors; "+R+"++) { vErrors["+R+"].propertyName = "+b+"; }   var err =   ",s.createErrors!==!1?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { propertyName: '"+C+"' } ",s.opts.messages!==!1&&(n+=" , message: 'property name \\'"+C+"\\' is invalid' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!s.compositeRule&&h&&(s.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),h&&(n+=" break; "),n+=" } }"}return h&&(n+=" "+v+" if ("+m+" == errors) {"),n}}),ZN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f=s.opts.$data&&c&&c.$data,v;f?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",v="schema"+o):v=c;var g="schema"+o;if(!f)if(c.length<s.opts.loopRequired&&s.schema.properties&&Object.keys(s.schema.properties).length){var b=[],w=c;if(w)for(var R,C=-1,P=w.length-1;C<P;){R=w[C+=1];var T=s.schema.properties[R];T&&(s.opts.strictKeywords?typeof T=="object"&&Object.keys(T).length>0||T===!1:s.util.schemaHasRules(T,s.RULES.all))||(b[b.length]=R)}}else var b=c;if(f||b.length){var $=s.errorPath,D=f||b.length>=s.opts.loopRequired,j=s.opts.ownProperties;if(h)if(n+=" var missing"+o+"; ",D){f||(n+=" var "+g+" = validate.schema"+u+"; ");var I="i"+o,k="schema"+o+"["+I+"]",A="' + "+k+" + '";s.opts._errorDataPathProperty&&(s.errorPath=s.util.getPathExpr($,k,s.opts.jsonPointers)),n+=" var "+m+" = true; ",f&&(n+=" if (schema"+o+" === undefined) "+m+" = true; else if (!Array.isArray(schema"+o+")) "+m+" = false; else {"),n+=" for (var "+I+" = 0; "+I+" < "+g+".length; "+I+"++) { "+m+" = "+d+"["+g+"["+I+"]] !== undefined ",j&&(n+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+g+"["+I+"]) "),n+="; if (!"+m+") break; } ",f&&(n+="  }  "),n+="  if (!"+m+") {   ";var L=L||[];L.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { missingProperty: '"+A+"' } ",s.opts.messages!==!1&&(n+=" , message: '",s.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+A+"\\'",n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var q=n;n=L.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+q+"]); ":n+=" validate.errors = ["+q+"]; return false; ":n+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var V=b;if(V)for(var H,I=-1,G=V.length-1;I<G;){H=V[I+=1],I&&(n+=" || ");var Z=s.util.getProperty(H),K=d+Z;n+=" ( ( "+K+" === undefined ",j&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes(H)+"') "),n+=") && (missing"+o+" = "+s.util.toQuotedString(s.opts.jsonPointers?H:Z)+") ) "}n+=") {  ";var k="missing"+o,A="' + "+k+" + '";s.opts._errorDataPathProperty&&(s.errorPath=s.opts.jsonPointers?s.util.getPathExpr($,k,!0):$+" + "+k);var L=L||[];L.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { missingProperty: '"+A+"' } ",s.opts.messages!==!1&&(n+=" , message: '",s.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+A+"\\'",n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var q=n;n=L.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+q+"]); ":n+=" validate.errors = ["+q+"]; return false; ":n+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(D){f||(n+=" var "+g+" = validate.schema"+u+"; ");var I="i"+o,k="schema"+o+"["+I+"]",A="' + "+k+" + '";s.opts._errorDataPathProperty&&(s.errorPath=s.util.getPathExpr($,k,s.opts.jsonPointers)),f&&(n+=" if ("+g+" && !Array.isArray("+g+")) {  var err =   ",s.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { missingProperty: '"+A+"' } ",s.opts.messages!==!1&&(n+=" , message: '",s.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+A+"\\'",n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+g+" !== undefined) { "),n+=" for (var "+I+" = 0; "+I+" < "+g+".length; "+I+"++) { if ("+d+"["+g+"["+I+"]] === undefined ",j&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+g+"["+I+"]) "),n+=") {  var err =   ",s.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { missingProperty: '"+A+"' } ",s.opts.messages!==!1&&(n+=" , message: '",s.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+A+"\\'",n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(n+="  }  ")}else{var re=b;if(re)for(var H,le=-1,Je=re.length-1;le<Je;){H=re[le+=1];var Z=s.util.getProperty(H),A=s.util.escapeQuotes(H),K=d+Z;s.opts._errorDataPathProperty&&(s.errorPath=s.util.getPath($,H,s.opts.jsonPointers)),n+=" if ( "+K+" === undefined ",j&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes(H)+"') "),n+=") {  var err =   ",s.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { missingProperty: '"+A+"' } ",s.opts.messages!==!1&&(n+=" , message: '",s.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+A+"\\'",n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}s.errorPath=$}else h&&(n+=" if (true) {");return n}}),KN=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f=s.opts.$data&&c&&c.$data,v;if(f?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",v="schema"+o):v=c,(c||f)&&s.opts.uniqueItems!==!1){f&&(n+=" var "+m+"; if ("+v+" === false || "+v+" === undefined) "+m+" = true; else if (typeof "+v+" != 'boolean') "+m+" = false; else { "),n+=" var i = "+d+".length , "+m+" = true , j; if (i > 1) { ";var g=s.schema.items&&s.schema.items.type,b=Array.isArray(g);if(!g||g=="object"||g=="array"||b&&(g.indexOf("object")>=0||g.indexOf("array")>=0))n+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+m+" = false; break outer; } } } ";else{n+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var w="checkDataType"+(b?"s":"");n+=" if ("+s.util[w](g,"item",s.opts.strictNumbers,!0)+") continue; ",b&&(n+=` if (typeof item == 'string') item = '"' + item; `),n+=" if (typeof itemIndices[item] == 'number') { "+m+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}n+=" } ",f&&(n+="  }  "),n+=" if (!"+m+") {   ";var R=R||[];R.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { i: i, j: j } ",s.opts.messages!==!1&&(n+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),s.opts.verbose&&(n+=" , schema:  ",f?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var C=n;n=R.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+C+"]); ":n+=" validate.errors = ["+C+"]; return false; ":n+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",h&&(n+=" else { ")}else h&&(n+=" if (true) { ");return n}}),JN=Fe((t,e)=>{e.exports={$ref:AN(),allOf:IN(),anyOf:DN(),$comment:LN(),const:$N(),contains:NN(),dependencies:FN(),enum:jN(),format:MN(),if:UN(),items:qN(),maximum:Wb(),minimum:Wb(),maxItems:Zb(),minItems:Zb(),maxLength:Kb(),minLength:Kb(),maxProperties:Jb(),minProperties:Jb(),multipleOf:zN(),not:BN(),oneOf:HN(),pattern:VN(),properties:GN(),propertyNames:WN(),required:ZN(),uniqueItems:KN(),validate:l_()}}),QN=Fe((t,e)=>{var r=JN(),s=Qn().toHash;e.exports=function(){var i=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],n=["type","$comment"],o=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],l=["number","integer","string","array","object","boolean","null"];return i.all=s(n),i.types=s(l),i.forEach(function(c){c.rules=c.rules.map(function(u){var p;if(typeof u=="object"){var h=Object.keys(u)[0];p=u[h],u=h,p.forEach(function(m){n.push(m),i.all[m]=!0})}n.push(u);var d=i.all[u]={keyword:u,code:r[u],implements:p};return d}),i.all.$comment={keyword:"$comment",code:r.$comment},c.type&&(i.types[c.type]=c)}),i.keywords=s(n.concat(o)),i.custom={},i}}),XN=Fe((t,e)=>{var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(s,a){for(var i=0;i<a.length;i++){s=JSON.parse(JSON.stringify(s));var n=a[i].split("/"),o=s,l;for(l=1;l<n.length;l++)o=o[n[l]];for(l=0;l<r.length;l++){var c=r[l],u=o[c];u&&(o[c]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return s}}),YN=Fe((t,e)=>{var r=cf().MissingRef;e.exports=s;function s(a,i,n){var o=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof i=="function"&&(n=i,i=void 0);var l=c(a).then(function(){var p=o._addSchema(a,void 0,i);return p.validate||u(p)});return n&&l.then(function(p){n(null,p)},n),l;function c(p){var h=p.$schema;return h&&!o.getSchema(h)?s.call(o,{$ref:h},!0):Promise.resolve()}function u(p){try{return o._compile(p)}catch(d){if(d instanceof r)return h(d);throw d}function h(d){var m=d.missingSchema;if(g(m))throw new Error("Schema "+m+" is loaded but "+d.missingRef+" cannot be resolved");var f=o._loadingSchemas[m];return f||(f=o._loadingSchemas[m]=o._opts.loadSchema(m),f.then(v,v)),f.then(function(b){if(!g(m))return c(b).then(function(){g(m)||o.addSchema(b,m,void 0,i)})}).then(function(){return u(p)});function v(){delete o._loadingSchemas[m]}function g(b){return o._refs[b]||o._schemas[b]}}}}}),eF=Fe((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d,m="data"+(l||""),f="valid"+o,v="errs__"+o,g=s.opts.$data&&c&&c.$data,b;g?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",b="schema"+o):b=c;var w=this,R="definition"+o,C=w.definition,P="",T,$,D,j,I;if(g&&C.$data){I="keywordValidate"+o;var k=C.validateSchema;n+=" var "+R+" = RULES.custom['"+a+"'].definition; var "+I+" = "+R+".validate;"}else{if(j=s.useCustomRule(w,c,s.schema,s),!j)return;b="validate.schema"+u,I=j.code,T=C.compile,$=C.inline,D=C.macro}var A=I+".errors",L="i"+o,q="ruleErr"+o,V=C.async;if(V&&!s.async)throw new Error("async keyword in sync schema");if($||D||(n+=""+A+" = null;"),n+="var "+v+" = errors;var "+f+";",g&&C.$data&&(P+="}",n+=" if ("+b+" === undefined) { "+f+" = true; } else { ",k&&(P+="}",n+=" "+f+" = "+R+".validateSchema("+b+"); if ("+f+") { ")),$)C.statements?n+=" "+j.validate+" ":n+=" "+f+" = "+j.validate+"; ";else if(D){var H=s.util.copy(s),P="";H.level++;var G="valid"+H.level;H.schema=j.validate,H.schemaPath="";var Z=s.compositeRule;s.compositeRule=H.compositeRule=!0;var K=s.validate(H).replace(/validate\.schema/g,I);s.compositeRule=H.compositeRule=Z,n+=" "+K}else{var re=re||[];re.push(n),n="",n+="  "+I+".call( ",s.opts.passContext?n+="this":n+="self",T||C.schema===!1?n+=" , "+m+" ":n+=" , "+b+" , "+m+" , validate.schema"+s.schemaPath+" ",n+=" , (dataPath || '')",s.errorPath!='""'&&(n+=" + "+s.errorPath);var le=l?"data"+(l-1||""):"parentData",Je=l?s.dataPathArr[l]:"parentDataProperty";n+=" , "+le+" , "+Je+" , rootData )  ";var xe=n;n=re.pop(),C.errors===!1?(n+=" "+f+" = ",V&&(n+="await "),n+=""+xe+"; "):V?(A="customErrors"+o,n+=" var "+A+" = null; try { "+f+" = await "+xe+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+A+" = e.errors; else throw e; } "):n+=" "+A+" = null; "+f+" = "+xe+"; "}if(C.modifying&&(n+=" if ("+le+") "+m+" = "+le+"["+Je+"];"),n+=""+P,C.valid)h&&(n+=" if (true) { ");else{n+=" if ( ",C.valid===void 0?(n+=" !",D?n+=""+G:n+=""+f):n+=" "+!C.valid+" ",n+=") { ",d=w.keyword;var re=re||[];re.push(n),n="";var re=re||[];re.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { keyword: '"+w.keyword+"' } ",s.opts.messages!==!1&&(n+=` , message: 'should pass "`+w.keyword+`" keyword validation' `),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";var Pe=n;n=re.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+Pe+"]); ":n+=" validate.errors = ["+Pe+"]; return false; ":n+=" var err = "+Pe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var Ae=n;n=re.pop(),$?C.errors?C.errors!="full"&&(n+="  for (var "+L+"="+v+"; "+L+"<errors; "+L+"++) { var "+q+" = vErrors["+L+"]; if ("+q+".dataPath === undefined) "+q+".dataPath = (dataPath || '') + "+s.errorPath+"; if ("+q+".schemaPath === undefined) { "+q+'.schemaPath = "'+p+'"; } ',s.opts.verbose&&(n+=" "+q+".schema = "+b+"; "+q+".data = "+m+"; "),n+=" } "):C.errors===!1?n+=" "+Ae+" ":(n+=" if ("+v+" == errors) { "+Ae+" } else {  for (var "+L+"="+v+"; "+L+"<errors; "+L+"++) { var "+q+" = vErrors["+L+"]; if ("+q+".dataPath === undefined) "+q+".dataPath = (dataPath || '') + "+s.errorPath+"; if ("+q+".schemaPath === undefined) { "+q+'.schemaPath = "'+p+'"; } ',s.opts.verbose&&(n+=" "+q+".schema = "+b+"; "+q+".data = "+m+"; "),n+=" } } "):D?(n+="   var err =   ",s.createErrors!==!1?(n+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { keyword: '"+w.keyword+"' } ",s.opts.messages!==!1&&(n+=` , message: 'should pass "`+w.keyword+`" keyword validation' `),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!s.compositeRule&&h&&(s.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; ")):C.errors===!1?n+=" "+Ae+" ":(n+=" if (Array.isArray("+A+")) { if (vErrors === null) vErrors = "+A+"; else vErrors = vErrors.concat("+A+"); errors = vErrors.length;  for (var "+L+"="+v+"; "+L+"<errors; "+L+"++) { var "+q+" = vErrors["+L+"]; if ("+q+".dataPath === undefined) "+q+".dataPath = (dataPath || '') + "+s.errorPath+";  "+q+'.schemaPath = "'+p+'";  ',s.opts.verbose&&(n+=" "+q+".schema = "+b+"; "+q+".data = "+m+"; "),n+=" } } else { "+Ae+" } "),n+=" } ",h&&(n+=" else { ")}return n}}),u_=Fe((t,e)=>{e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}),tF=Fe((t,e)=>{var r=u_();e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:r.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:r.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}}),rF=Fe((t,e)=>{var r=/^[a-z_$][a-z0-9_$-]*$/i,s=eF(),a=tF();e.exports={add:i,get:n,remove:o,validate:l};function i(c,u){var p=this.RULES;if(p.keywords[c])throw new Error("Keyword "+c+" is already defined");if(!r.test(c))throw new Error("Keyword "+c+" is not a valid identifier");if(u){this.validateKeyword(u,!0);var h=u.type;if(Array.isArray(h))for(var d=0;d<h.length;d++)f(c,h[d],u);else f(c,h,u);var m=u.metaSchema;m&&(u.$data&&this._opts.$data&&(m={anyOf:[m,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),u.validateSchema=this.compile(m,!0))}p.keywords[c]=p.all[c]=!0;function f(v,g,b){for(var w,R=0;R<p.length;R++){var C=p[R];if(C.type==g){w=C;break}}w||(w={type:g,rules:[]},p.push(w));var P={keyword:v,definition:b,custom:!0,code:s,implements:b.implements};w.rules.push(P),p.custom[v]=P}return this}function n(c){var u=this.RULES.custom[c];return u?u.definition:this.RULES.keywords[c]||!1}function o(c){var u=this.RULES;delete u.keywords[c],delete u.all[c],delete u.custom[c];for(var p=0;p<u.length;p++)for(var h=u[p].rules,d=0;d<h.length;d++)if(h[d].keyword==c){h.splice(d,1);break}return this}function l(c,u){l.errors=null;var p=this._validateKeyword=this._validateKeyword||this.compile(a,!0);if(p(c))return!0;if(l.errors=p.errors,u)throw new Error("custom keyword definition is invalid: "+this.errorsText(p.errors));return!1}}),sF=Fe((t,e)=>{e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}),aF=Fe((t,e)=>{var r=TN(),s=of(),a=ON(),i=o_(),n=c_(),o=kN(),l=QN(),c=XN(),u=Qn();e.exports=v,v.prototype.validate=g,v.prototype.compile=b,v.prototype.addSchema=w,v.prototype.addMetaSchema=R,v.prototype.validateSchema=C,v.prototype.getSchema=T,v.prototype.removeSchema=j,v.prototype.addFormat=Z,v.prototype.errorsText=G,v.prototype._addSchema=k,v.prototype._compile=A,v.prototype.compileAsync=YN();var p=rF();v.prototype.addKeyword=p.add,v.prototype.getKeyword=p.get,v.prototype.removeKeyword=p.remove,v.prototype.validateKeyword=p.validate;var h=cf();v.ValidationError=h.Validation,v.MissingRefError=h.MissingRef,v.$dataMetaSchema=c;var d="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],f=["/properties"];function v(M){if(!(this instanceof v))return new v(M);M=this._opts=u.copy(M)||{},Ae(this),this._schemas={},this._refs={},this._fragments={},this._formats=o(M.format),this._cache=M.cache||new a,this._loadingSchemas={},this._compilations=[],this.RULES=l(),this._getId=L(M),M.loopRequired=M.loopRequired||1/0,M.errorDataPath=="property"&&(M._errorDataPathProperty=!0),M.serialize===void 0&&(M.serialize=n),this._metaOpts=Pe(this),M.formats&&le(this),M.keywords&&Je(this),K(this),typeof M.meta=="object"&&this.addMetaSchema(M.meta),M.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),re(this)}function g(M,W){var se;if(typeof M=="string"){if(se=this.getSchema(M),!se)throw new Error('no schema with key or ref "'+M+'"')}else{var he=this._addSchema(M);se=he.validate||this._compile(he)}var J=se(W);return se.$async!==!0&&(this.errors=se.errors),J}function b(M,W){var se=this._addSchema(M,void 0,W);return se.validate||this._compile(se)}function w(M,W,se,he){if(Array.isArray(M)){for(var J=0;J<M.length;J++)this.addSchema(M[J],void 0,se,he);return this}var X=this._getId(M);if(X!==void 0&&typeof X!="string")throw new Error("schema id must be string");return W=s.normalizeId(W||X),xe(this,W),this._schemas[W]=this._addSchema(M,se,he,!0),this}function R(M,W,se){return this.addSchema(M,W,se,!0),this}function C(M,W){var se=M.$schema;if(se!==void 0&&typeof se!="string")throw new Error("$schema must be a string");if(se=se||this._opts.defaultMeta||P(this),!se)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var he=this.validate(se,M);if(!he&&W){var J="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(J);else throw new Error(J)}return he}function P(M){var W=M._opts.meta;return M._opts.defaultMeta=typeof W=="object"?M._getId(W)||W:M.getSchema(d)?d:void 0,M._opts.defaultMeta}function T(M){var W=D(this,M);switch(typeof W){case"object":return W.validate||this._compile(W);case"string":return this.getSchema(W);case"undefined":return $(this,M)}}function $(M,W){var se=s.schema.call(M,{schema:{}},W);if(se){var{schema:he,root:J,baseId:X}=se,ue=r.call(M,he,J,void 0,X);return M._fragments[W]=new i({ref:W,fragment:!0,schema:he,root:J,baseId:X,validate:ue}),ue}}function D(M,W){return W=s.normalizeId(W),M._schemas[W]||M._refs[W]||M._fragments[W]}function j(M){if(M instanceof RegExp)return I(this,this._schemas,M),I(this,this._refs,M),this;switch(typeof M){case"undefined":return I(this,this._schemas),I(this,this._refs),this._cache.clear(),this;case"string":var W=D(this,M);return W&&this._cache.del(W.cacheKey),delete this._schemas[M],delete this._refs[M],this;case"object":var se=this._opts.serialize,he=se?se(M):M;this._cache.del(he);var J=this._getId(M);J&&(J=s.normalizeId(J),delete this._schemas[J],delete this._refs[J])}return this}function I(M,W,se){for(var he in W){var J=W[he];!J.meta&&(!se||se.test(he))&&(M._cache.del(J.cacheKey),delete W[he])}}function k(M,W,se,he){if(typeof M!="object"&&typeof M!="boolean")throw new Error("schema should be object or boolean");var J=this._opts.serialize,X=J?J(M):M,ue=this._cache.get(X);if(ue)return ue;he=he||this._opts.addUsedSchema!==!1;var Me=s.normalizeId(this._getId(M));Me&&he&&xe(this,Me);var _e=this._opts.validateSchema!==!1&&!W,it;_e&&!(it=Me&&Me==s.normalizeId(M.$schema))&&this.validateSchema(M,!0);var ot=s.ids.call(this,M),Ce=new i({id:Me,schema:M,localRefs:ot,cacheKey:X,meta:se});return Me[0]!="#"&&he&&(this._refs[Me]=Ce),this._cache.put(X,Ce),_e&&it&&this.validateSchema(M,!0),Ce}function A(M,W){if(M.compiling)return M.validate=J,J.schema=M.schema,J.errors=null,J.root=W||J,M.schema.$async===!0&&(J.$async=!0),J;M.compiling=!0;var se;M.meta&&(se=this._opts,this._opts=this._metaOpts);var he;try{he=r.call(this,M.schema,W,M.localRefs)}catch(X){throw delete M.validate,X}finally{M.compiling=!1,M.meta&&(this._opts=se)}return M.validate=he,M.refs=he.refs,M.refVal=he.refVal,M.root=he.root,he;function J(){var X=M.validate,ue=X.apply(this,arguments);return J.errors=X.errors,ue}}function L(M){switch(M.schemaId){case"auto":return H;case"id":return q;default:return V}}function q(M){return M.$id&&this.logger.warn("schema $id ignored",M.$id),M.id}function V(M){return M.id&&this.logger.warn("schema id ignored",M.id),M.$id}function H(M){if(M.$id&&M.id&&M.$id!=M.id)throw new Error("schema $id is different from id");return M.$id||M.id}function G(M,W){if(M=M||this.errors,!M)return"No errors";W=W||{};for(var se=W.separator===void 0?", ":W.separator,he=W.dataVar===void 0?"data":W.dataVar,J="",X=0;X<M.length;X++){var ue=M[X];ue&&(J+=he+ue.dataPath+" "+ue.message+se)}return J.slice(0,-se.length)}function Z(M,W){return typeof W=="string"&&(W=new RegExp(W)),this._formats[M]=W,this}function K(M){var W;if(M._opts.$data&&(W=sF(),M.addMetaSchema(W,W.$id,!0)),M._opts.meta!==!1){var se=u_();M._opts.$data&&(se=c(se,f)),M.addMetaSchema(se,d,!0),M._refs["http://json-schema.org/schema"]=d}}function re(M){var W=M._opts.schemas;if(W)if(Array.isArray(W))M.addSchema(W);else for(var se in W)M.addSchema(W[se],se)}function le(M){for(var W in M._opts.formats){var se=M._opts.formats[W];M.addFormat(W,se)}}function Je(M){for(var W in M._opts.keywords){var se=M._opts.keywords[W];M.addKeyword(W,se)}}function xe(M,W){if(M._schemas[W]||M._refs[W])throw new Error('schema with key or id "'+W+'" already exists')}function Pe(M){for(var W=u.copy(M._opts),se=0;se<m.length;se++)delete W[m[se]];return W}function Ae(M){var W=M._opts.logger;if(W===!1)M.logger={log:qe,warn:qe,error:qe};else{if(W===void 0&&(W=console),!(typeof W=="object"&&W.log&&W.warn&&W.error))throw new Error("logger must implement log, warn and error methods");M.logger=W}}function qe(){}}),nF=50;function f_(t=nF){let e=new AbortController;return(0,d_.setMaxListeners)(t,e.signal),e}var iF={cwd(){return process.cwd()},existsSync(t){return Le.existsSync(t)},async stat(t){return(0,v_.stat)(t)},statSync(t){return Le.statSync(t)},readFileSync(t,e){return Le.readFileSync(t,{encoding:e.encoding})},readFileBytesSync(t){return Le.readFileSync(t)},readSync(t,e){let r;try{r=Le.openSync(t,"r");let s=Buffer.alloc(e.length),a=Le.readSync(r,s,0,e.length,0);return{buffer:s,bytesRead:a}}finally{r&&Le.closeSync(r)}},writeFileSync(t,e,r){if(!r.flush){let a={encoding:r.encoding};r.mode!==void 0&&(a.mode=r.mode),Le.writeFileSync(t,e,a);return}let s;try{let a=r.mode!==void 0?r.mode:void 0;s=Le.openSync(t,"w",a),Le.writeFileSync(s,e,{encoding:r.encoding}),Le.fsyncSync(s)}finally{s&&Le.closeSync(s)}},appendFileSync(t,e){Le.appendFileSync(t,e)},copyFileSync(t,e){Le.copyFileSync(t,e)},unlinkSync(t){Le.unlinkSync(t)},renameSync(t,e){Le.renameSync(t,e)},linkSync(t,e){Le.linkSync(t,e)},symlinkSync(t,e){Le.symlinkSync(t,e)},readlinkSync(t){return Le.readlinkSync(t)},realpathSync(t){return Le.realpathSync(t)},mkdirSync(t){Le.existsSync(t)||Le.mkdirSync(t,{recursive:!0,mode:448})},readdirSync(t){return Le.readdirSync(t,{withFileTypes:!0})},readdirStringSync(t){return Le.readdirSync(t)},isDirEmptySync(t){return this.readdirSync(t).length===0},rmdirSync(t){Le.rmdirSync(t)},rmSync(t,e){Le.rmSync(t,e)},createWriteStream(t){return Le.createWriteStream(t)}},oF=iF;function Os(){return oF}var Ca=class extends Error{};function g_(){return process.versions.bun!==void 0}var Kd=class{options;child;childStdin;childStdout;ready=!1;abortController;exitError;exitListeners=[];processExitHandler;abortHandler;constructor(e){this.options=e,this.abortController=e.abortController||f_(),this.initialize()}initialize(){try{let{additionalDirectories:e=[],agents:r,cwd:s,executable:a=g_()?"bun":"node",executableArgs:i=[],extraArgs:n={},pathToClaudeCodeExecutable:o,env:l={...process.env},stderr:c,customSystemPrompt:u,appendSystemPrompt:p,maxThinkingTokens:h,maxTurns:d,model:m,fallbackModel:f,permissionMode:v,permissionPromptToolName:g,continueConversation:b,resume:w,settingSources:R,allowedTools:C=[],disallowedTools:P=[],mcpServers:T,strictMcpConfig:$,canUseTool:D,includePartialMessages:j}=this.options,I=["--output-format","stream-json","--verbose","--input-format","stream-json"];if(typeof u=="string"&&I.push("--system-prompt",u),p&&I.push("--append-system-prompt",p),h!==void 0&&I.push("--max-thinking-tokens",h.toString()),d&&I.push("--max-turns",d.toString()),m&&I.push("--model",m),l.DEBUG&&I.push("--debug-to-stderr"),D){if(g)throw new Error("canUseTool callback cannot be used with permissionPromptToolName. Please use one or the other.");I.push("--permission-prompt-tool","stdio")}else g&&I.push("--permission-prompt-tool",g);if(b&&I.push("--continue"),w&&I.push("--resume",w),C.length>0&&I.push("--allowedTools",C.join(",")),P.length>0&&I.push("--disallowedTools",P.join(",")),T&&Object.keys(T).length>0&&I.push("--mcp-config",JSON.stringify({mcpServers:T})),r&&Object.keys(r).length>0&&I.push("--agents",JSON.stringify(r)),R&&I.push("--setting-sources",R.join(",")),$&&I.push("--strict-mcp-config"),v&&I.push("--permission-mode",v),f){if(m&&f===m)throw new Error("Fallback model cannot be the same as the main model. Please specify a different model for fallbackModel option.");I.push("--fallback-model",f)}j&&I.push("--include-partial-messages");for(let G of e)I.push("--add-dir",G);this.options.forkSession&&I.push("--fork-session"),this.options.resumeSessionAt&&I.push("--resume-session-at",this.options.resumeSessionAt);for(let[G,Z]of Object.entries(n))Z===null?I.push(`--${G}`):I.push(`--${G}`,Z);if(l.CLAUDE_CODE_ENTRYPOINT||(l.CLAUDE_CODE_ENTRYPOINT="sdk-ts"),!Os().existsSync(o)){let G=Qb(o)?`Claude Code native binary not found at ${o}. Please ensure Claude Code is installed via native installer or specify a valid path with options.pathToClaudeCodeExecutable.`:`Claude Code executable not found at ${o}. Is options.pathToClaudeCodeExecutable set?`;throw new ReferenceError(G)}let A=Qb(o),L=A?o:a,q=A?[...i,...I]:[...i,o,...I];this.logForDebugging(A?`Spawning Claude Code native binary: ${L} ${q.join(" ")}`:`Spawning Claude Code process: ${L} ${q.join(" ")}`);let V=l.DEBUG||c?"pipe":"ignore";this.child=(0,m_.spawn)(L,q,{cwd:s,stdio:["pipe","pipe",V],signal:this.abortController.signal,env:l}),this.childStdin=this.child.stdin,this.childStdout=this.child.stdout,(l.DEBUG||c)&&this.child.stderr.on("data",G=>{this.logForDebugging(G.toString())});let H=()=>{this.child&&!this.child.killed&&this.child.kill("SIGTERM")};this.processExitHandler=H,this.abortHandler=H,process.on("exit",this.processExitHandler),this.abortController.signal.addEventListener("abort",this.abortHandler),this.child.on("error",G=>{this.ready=!1,this.abortController.signal.aborted?this.exitError=new Ca("Claude Code process aborted by user"):(this.exitError=new Error(`Failed to spawn Claude Code process: ${G.message}`),this.logForDebugging(this.exitError.message))}),this.child.on("close",(G,Z)=>{if(this.ready=!1,this.abortController.signal.aborted)this.exitError=new Ca("Claude Code process aborted by user");else{let K=this.getProcessExitError(G,Z);K&&(this.exitError=K,this.logForDebugging(K.message))}}),this.ready=!0}catch(e){throw this.ready=!1,e}}getProcessExitError(e,r){if(e!==0&&e!==null)return new Error(`Claude Code process exited with code ${e}`);if(r)return new Error(`Claude Code process terminated by signal ${r}`)}logForDebugging(e){process.env.DEBUG&&process.stderr.write(`${e}
`),this.options.stderr&&this.options.stderr(e)}write(e){if(this.abortController.signal.aborted)throw new Ca("Operation aborted");if(!this.ready||!this.childStdin)throw new Error("ProcessTransport is not ready for writing");if(this.child?.killed||this.child?.exitCode!==null)throw new Error("Cannot write to terminated process");if(this.exitError)throw new Error(`Cannot write to process that exited with error: ${this.exitError.message}`);process.env.DEBUG_SDK&&process.stderr.write(`[ProcessTransport] Writing to stdin: ${e.substring(0,100)}
`);try{!this.childStdin.write(e)&&process.env.DEBUG_SDK&&console.warn("[ProcessTransport] Write buffer full, data queued")}catch(r){throw this.ready=!1,new Error(`Failed to write to process stdin: ${r.message}`)}}close(){this.childStdin&&(this.childStdin.end(),this.childStdin=void 0),this.processExitHandler&&(process.off("exit",this.processExitHandler),this.processExitHandler=void 0),this.abortHandler&&(this.abortController.signal.removeEventListener("abort",this.abortHandler),this.abortHandler=void 0);for(let{handler:e}of this.exitListeners)this.child?.off("exit",e);this.exitListeners=[],this.child&&!this.child.killed&&(this.child.kill("SIGTERM"),setTimeout(()=>{this.child&&!this.child.killed&&this.child.kill("SIGKILL")},5e3)),this.ready=!1}isReady(){return this.ready}async*readMessages(){if(!this.childStdout)throw new Error("ProcessTransport output stream not available");let e=(0,h_.createInterface)({input:this.childStdout});try{for await(let r of e)r.trim()&&(yield JSON.parse(r));await this.waitForExit()}catch(r){throw r}finally{e.close()}}endInput(){this.childStdin&&this.childStdin.end()}getInputStream(){return this.childStdin}onExit(e){if(!this.child)return()=>{};let r=(s,a)=>{let i=this.getProcessExitError(s,a);e(i)};return this.child.on("exit",r),this.exitListeners.push({callback:e,handler:r}),()=>{this.child&&this.child.off("exit",r);let s=this.exitListeners.findIndex(a=>a.handler===r);s!==-1&&this.exitListeners.splice(s,1)}}async waitForExit(){if(!this.child){if(this.exitError)throw this.exitError;return}if(this.child.exitCode!==null||this.child.killed){if(this.exitError)throw this.exitError;return}return new Promise((e,r)=>{let s=(i,n)=>{if(this.abortController.signal.aborted){r(new Ca("Operation aborted"));return}let o=this.getProcessExitError(i,n);o?r(o):e()};this.child.once("exit",s);let a=i=>{this.child.off("exit",s),r(i)};this.child.once("error",a),this.child.once("exit",()=>{this.child.off("error",a)})})}};function Qb(t){return![".js",".mjs",".tsx",".ts",".jsx"].some(r=>t.endsWith(r))}var Jd=class{returned;queue=[];readResolve;readReject;isDone=!1;hasError;started=!1;constructor(e){this.returned=e}[Symbol.asyncIterator](){if(this.started)throw new Error("Stream can only be iterated once");return this.started=!0,this}next(){return this.queue.length>0?Promise.resolve({done:!1,value:this.queue.shift()}):this.isDone?Promise.resolve({done:!0,value:void 0}):this.hasError?Promise.reject(this.hasError):new Promise((e,r)=>{this.readResolve=e,this.readReject=r})}enqueue(e){if(this.readResolve){let r=this.readResolve;this.readResolve=void 0,this.readReject=void 0,r({done:!1,value:e})}else this.queue.push(e)}done(){if(this.isDone=!0,this.readResolve){let e=this.readResolve;this.readResolve=void 0,this.readReject=void 0,e({done:!0,value:void 0})}}error(e){if(this.hasError=e,this.readReject){let r=this.readReject;this.readResolve=void 0,this.readReject=void 0,r(e)}}return(){return this.isDone=!0,this.returned&&this.returned(),Promise.resolve({done:!0,value:void 0})}},Qd=class{sendMcpMessage;isClosed=!1;constructor(e){this.sendMcpMessage=e}onclose;onerror;onmessage;async start(){}async send(e){if(this.isClosed)throw new Error("Transport is closed");this.sendMcpMessage(e)}async close(){this.isClosed||(this.isClosed=!0,this.onclose?.())}},cF=typeof global=="object"&&global&&global.Object===Object&&global,lF=cF,uF=typeof self=="object"&&self&&self.Object===Object&&self,pF=lF||uF||Function("return this")(),lf=pF,dF=lf.Symbol,el=dF,y_=Object.prototype,fF=y_.hasOwnProperty,mF=y_.toString,co=el?el.toStringTag:void 0;function hF(t){var e=fF.call(t,co),r=t[co];try{t[co]=void 0;var s=!0}catch{}var a=mF.call(t);return s&&(e?t[co]=r:delete t[co]),a}var vF=hF,gF=Object.prototype,yF=gF.toString;function xF(t){return yF.call(t)}var bF=xF,_F="[object Null]",wF="[object Undefined]",Xb=el?el.toStringTag:void 0;function SF(t){return t==null?t===void 0?wF:_F:Xb&&Xb in Object(t)?vF(t):bF(t)}var EF=SF;function PF(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var x_=PF,RF="[object AsyncFunction]",CF="[object Function]",TF="[object GeneratorFunction]",OF="[object Proxy]";function kF(t){if(!x_(t))return!1;var e=EF(t);return e==CF||e==TF||e==RF||e==OF}var AF=kF,IF=lf["__core-js_shared__"],Vd=IF,Yb=function(){var t=/[^.]+$/.exec(Vd&&Vd.keys&&Vd.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function DF(t){return!!Yb&&Yb in t}var LF=DF,$F=Function.prototype,NF=$F.toString;function FF(t){if(t!=null){try{return NF.call(t)}catch{}try{return t+""}catch{}}return""}var jF=FF,MF=/[\\^$.*+?()[\]{}|]/g,UF=/^\[object .+?Constructor\]$/,qF=Function.prototype,zF=Object.prototype,BF=qF.toString,HF=zF.hasOwnProperty,VF=RegExp("^"+BF.call(HF).replace(MF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function GF(t){if(!x_(t)||LF(t))return!1;var e=AF(t)?VF:UF;return e.test(jF(t))}var WF=GF;function ZF(t,e){return t?.[e]}var KF=ZF;function JF(t,e){var r=KF(t,e);return WF(r)?r:void 0}var b_=JF;function QF(t,e){return t===e||t!==t&&e!==e}var XF=QF,YF=b_(Object,"create"),lo=YF;function ej(){this.__data__=lo?lo(null):{},this.size=0}var tj=ej;function rj(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var sj=rj,aj="__lodash_hash_undefined__",nj=Object.prototype,ij=nj.hasOwnProperty;function oj(t){var e=this.__data__;if(lo){var r=e[t];return r===aj?void 0:r}return ij.call(e,t)?e[t]:void 0}var cj=oj,lj=Object.prototype,uj=lj.hasOwnProperty;function pj(t){var e=this.__data__;return lo?e[t]!==void 0:uj.call(e,t)}var dj=pj,fj="__lodash_hash_undefined__";function mj(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=lo&&e===void 0?fj:e,this}var hj=mj;function Xn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}Xn.prototype.clear=tj;Xn.prototype.delete=sj;Xn.prototype.get=cj;Xn.prototype.has=dj;Xn.prototype.set=hj;var e_=Xn;function vj(){this.__data__=[],this.size=0}var gj=vj;function yj(t,e){for(var r=t.length;r--;)if(XF(t[r][0],e))return r;return-1}var ol=yj,xj=Array.prototype,bj=xj.splice;function _j(t){var e=this.__data__,r=ol(e,t);if(r<0)return!1;var s=e.length-1;return r==s?e.pop():bj.call(e,r,1),--this.size,!0}var wj=_j;function Sj(t){var e=this.__data__,r=ol(e,t);return r<0?void 0:e[r][1]}var Ej=Sj;function Pj(t){return ol(this.__data__,t)>-1}var Rj=Pj;function Cj(t,e){var r=this.__data__,s=ol(r,t);return s<0?(++this.size,r.push([t,e])):r[s][1]=e,this}var Tj=Cj;function Yn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}Yn.prototype.clear=gj;Yn.prototype.delete=wj;Yn.prototype.get=Ej;Yn.prototype.has=Rj;Yn.prototype.set=Tj;var Oj=Yn,kj=b_(lf,"Map"),Aj=kj;function Ij(){this.size=0,this.__data__={hash:new e_,map:new(Aj||Oj),string:new e_}}var Dj=Ij;function Lj(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var $j=Lj;function Nj(t,e){var r=t.__data__;return $j(e)?r[typeof e=="string"?"string":"hash"]:r.map}var cl=Nj;function Fj(t){var e=cl(this,t).delete(t);return this.size-=e?1:0,e}var jj=Fj;function Mj(t){return cl(this,t).get(t)}var Uj=Mj;function qj(t){return cl(this,t).has(t)}var zj=qj;function Bj(t,e){var r=cl(this,t),s=r.size;return r.set(t,e),this.size+=r.size==s?0:1,this}var Hj=Bj;function ei(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}ei.prototype.clear=Dj;ei.prototype.delete=jj;ei.prototype.get=Uj;ei.prototype.has=zj;ei.prototype.set=Hj;var __=ei,Vj="Expected a function";function uf(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Vj);var r=function(){var s=arguments,a=e?e.apply(this,s):s[0],i=r.cache;if(i.has(a))return i.get(a);var n=t.apply(this,s);return r.cache=i.set(a,n)||i,n};return r.cache=new(uf.Cache||__),r}uf.Cache=__;var mo=uf,t_=2e3;function Gj(t){for(let e=0;e<t.length;e+=t_)process.stderr.write(t.substring(e,e+t_))}var Wj=mo(t=>{if(!t||t.trim()==="")return null;let e=t.split(",").map(i=>i.trim()).filter(Boolean);if(e.length===0)return null;let r=e.some(i=>i.startsWith("!")),s=e.some(i=>!i.startsWith("!"));if(r&&s)return null;let a=e.map(i=>i.replace(/^!/,"").toLowerCase());return{include:r?[]:a,exclude:r?a:[],isExclusive:r}});function Zj(t){let e=[],r=t.match(/^MCP server ["']([^"']+)["']/);if(r&&r[1])e.push("mcp"),e.push(r[1].toLowerCase());else{let i=t.match(/^([^:[]+):/);i&&i[1]&&e.push(i[1].trim().toLowerCase())}let s=t.match(/^\[([^\]]+)]/);s&&s[1]&&e.push(s[1].trim().toLowerCase()),t.toLowerCase().includes("statsig event:")&&e.push("statsig");let a=t.match(/:\s*([^:]+?)(?:\s+(?:type|mode|status|event))?:/);if(a&&a[1]){let i=a[1].trim().toLowerCase();i.length<30&&!i.includes(" ")&&e.push(i)}return Array.from(new Set(e))}function Kj(t,e){return e?t.length===0?!1:e.isExclusive?!t.some(r=>e.exclude.includes(r)):t.some(r=>e.include.includes(r)):!0}function Jj(t,e){if(!e)return!0;let r=Zj(t);return Kj(r,e)}function Qj(){return process.env.CLAUDE_CONFIG_DIR??(0,w_.join)((0,S_.homedir)(),".claude")}function r_(t){if(!t)return!1;if(typeof t=="boolean")return t;let e=t.toLowerCase().trim();return["1","true","yes","on"].includes(e)}var Xj={name:"BASH_MAX_OUTPUT_LENGTH",default:3e4,validate:t=>{if(!t)return{effective:3e4,status:"valid"};let s=parseInt(t,10);return isNaN(s)||s<=0?{effective:3e4,status:"invalid",message:`Invalid value "${t}" (using default: 30000)`}:s>15e4?{effective:15e4,status:"capped",message:`Capped from ${s} to 150000`}:{effective:s,status:"valid"}}},Yj={name:"CLAUDE_CODE_MAX_OUTPUT_TOKENS",default:32e3,validate:t=>{if(!t)return{effective:32e3,status:"valid"};let e=parseInt(t,10);return isNaN(e)||e<=0?{effective:32e3,status:"invalid",message:`Invalid value "${t}" (using default: 32000)`}:e>32e3?{effective:32e3,status:"capped",message:`Capped from ${e} to 32000`}:{effective:e,status:"valid"}}};function eM(){return{originalCwd:(0,Xd.cwd)(),totalCostUSD:0,totalAPIDuration:0,totalAPIDurationWithoutRetries:0,totalToolDuration:0,startTime:Date.now(),lastInteractionTime:Date.now(),totalLinesAdded:0,totalLinesRemoved:0,hasUnknownModelCost:!1,cwd:(0,Xd.cwd)(),modelUsage:{},mainLoopModelOverride:void 0,maxRateLimitFallbackActive:!1,initialMainLoopModel:null,modelStrings:null,isNonInteractiveSession:!0,isInteractive:!1,clientType:"cli",sessionIngressToken:void 0,oauthTokenFromFd:void 0,apiKeyFromFd:void 0,flagSettingsPath:void 0,allowedSettingSources:["userSettings","projectSettings","localSettings","flagSettings","policySettings"],meter:null,sessionCounter:null,locCounter:null,prCounter:null,commitCounter:null,costCounter:null,tokenCounter:null,codeEditToolDecisionCounter:null,activeTimeCounter:null,sessionId:(0,E_.randomUUID)(),loggerProvider:null,eventLogger:null,meterProvider:null,tracerProvider:null,agentColorMap:new Map,agentColorIndex:0,envVarValidators:[Xj,Yj],lastAPIRequest:null,inMemoryErrorLog:[]}}var tM=eM();function rM(){return tM.sessionId}var xK=mo(()=>r_(process.env.DEBUG)||r_(process.env.DEBUG_SDK)||process.argv.includes("--debug")||process.argv.includes("-d")||P_()||process.argv.some(t=>t.startsWith("--debug="))),sM=mo(()=>{let t=process.argv.find(r=>r.startsWith("--debug="));if(!t)return null;let e=t.substring(8);return Wj(e)}),P_=mo(()=>process.argv.includes("--debug-to-stderr")||process.argv.includes("-d2e"));function aM(t){if(typeof process>"u"||typeof process.versions>"u"||typeof process.versions.node>"u")return!1;let e=sM();return Jj(t,e)}var nM=!1;function Rs(t,{level:e}={level:"debug"}){if(!aM(t))return;nM&&t.includes(`
`)&&(t=JSON.stringify(t));let r=`[${e.toUpperCase()}] ${t.trim()}
`;if(P_()){Gj(r);return}Os().existsSync((0,Ta.dirname)(Yc()))||Os().mkdirSync((0,Ta.dirname)(Yc())),Os().appendFileSync(Yc(),r),iM()}function Yc(){return process.env.CLAUDE_CODE_DEBUG_LOGS_DIR??(0,Ta.join)(Qj(),"debug",`${rM()}.txt`)}var iM=mo(()=>{try{let t=Yc(),e=(0,Ta.dirname)(t),r=(0,Ta.join)(e,"latest");if(Os().existsSync(e)||Os().mkdirSync(e),Os().existsSync(r))try{Os().unlinkSync(r)}catch{}Os().symlinkSync(t,r)}catch{}}),Yd=class{transport;isSingleUserTurn;canUseTool;hooks;abortController;pendingControlResponses=new Map;cleanupPerformed=!1;sdkMessages;inputStream=new Jd;initialization;cancelControllers=new Map;hookCallbacks=new Map;nextCallbackId=0;sdkMcpTransports=new Map;pendingMcpResponses=new Map;firstResultReceivedPromise;firstResultReceivedResolve;constructor(e,r,s,a,i,n=new Map){this.transport=e,this.isSingleUserTurn=r,this.canUseTool=s,this.hooks=a,this.abortController=i;for(let[o,l]of n){let c=new Qd(u=>this.sendMcpServerMessageToCli(o,u));this.sdkMcpTransports.set(o,c),l.connect(c)}this.sdkMessages=this.readSdkMessages(),this.firstResultReceivedPromise=new Promise(o=>{this.firstResultReceivedResolve=o}),this.readMessages(),this.initialization=this.initialize(),this.initialization.catch(()=>{})}setError(e){this.inputStream.error(e)}cleanup(e){if(!this.cleanupPerformed){this.cleanupPerformed=!0;try{this.transport.close(),this.pendingControlResponses.clear(),this.pendingMcpResponses.clear(),e?this.inputStream.error(e):this.inputStream.done()}catch{}}}next(...[e]){return this.sdkMessages.next(e)}return(e){return this.sdkMessages.return(e)}throw(e){return this.sdkMessages.throw(e)}[Symbol.asyncIterator](){return this.sdkMessages}[Symbol.asyncDispose](){return this.sdkMessages[Symbol.asyncDispose]()}async readMessages(){try{for await(let e of this.transport.readMessages()){if(e.type==="control_response"){let r=this.pendingControlResponses.get(e.response.request_id);r&&r(e.response);continue}else if(e.type==="control_request"){this.handleControlRequest(e);continue}else if(e.type==="control_cancel_request"){this.handleControlCancelRequest(e);continue}else if(e.type==="keep_alive")continue;e.type==="result"&&(this.firstResultReceivedResolve&&this.firstResultReceivedResolve(),this.isSingleUserTurn&&this.transport.endInput()),this.inputStream.enqueue(e)}this.inputStream.done(),this.cleanup()}catch(e){this.inputStream.error(e),this.cleanup(e)}}async handleControlRequest(e){let r=new AbortController;this.cancelControllers.set(e.request_id,r);try{let s=await this.processControlRequest(e,r.signal),a={type:"control_response",response:{subtype:"success",request_id:e.request_id,response:s}};await Promise.resolve(this.transport.write(JSON.stringify(a)+`
`))}catch(s){let a={type:"control_response",response:{subtype:"error",request_id:e.request_id,error:s.message||String(s)}};await Promise.resolve(this.transport.write(JSON.stringify(a)+`
`))}finally{this.cancelControllers.delete(e.request_id)}}handleControlCancelRequest(e){let r=this.cancelControllers.get(e.request_id);r&&(r.abort(),this.cancelControllers.delete(e.request_id))}async processControlRequest(e,r){if(e.request.subtype==="can_use_tool"){if(!this.canUseTool)throw new Error("canUseTool callback is not provided.");return this.canUseTool(e.request.tool_name,e.request.input,{signal:r,suggestions:e.request.permission_suggestions})}else{if(e.request.subtype==="hook_callback")return await this.handleHookCallbacks(e.request.callback_id,e.request.input,e.request.tool_use_id,r);if(e.request.subtype==="mcp_message"){let s=e.request,a=this.sdkMcpTransports.get(s.server_name);if(!a)throw new Error(`SDK MCP server not found: ${s.server_name}`);return"method"in s.message&&"id"in s.message&&s.message.id!==null?{mcp_response:await this.handleMcpControlRequest(s.server_name,s,a)}:(a.onmessage&&a.onmessage(s.message),{mcp_response:{jsonrpc:"2.0",result:{},id:0}})}}throw new Error("Unsupported control request subtype: "+e.request.subtype)}async*readSdkMessages(){for await(let e of this.inputStream)yield e}async initialize(){let e;if(this.hooks){e={};for(let[i,n]of Object.entries(this.hooks))n.length>0&&(e[i]=n.map(o=>{let l=[];for(let c of o.hooks){let u=`hook_${this.nextCallbackId++}`;this.hookCallbacks.set(u,c),l.push(u)}return{matcher:o.matcher,hookCallbackIds:l}}))}let r=this.sdkMcpTransports.size>0?Array.from(this.sdkMcpTransports.keys()):void 0,s={subtype:"initialize",hooks:e,sdkMcpServers:r};return(await this.request(s)).response}async interrupt(){await this.request({subtype:"interrupt"})}async setPermissionMode(e){await this.request({subtype:"set_permission_mode",mode:e})}async setModel(e){await this.request({subtype:"set_model",model:e})}async setMaxThinkingTokens(e){await this.request({subtype:"set_max_thinking_tokens",max_thinking_tokens:e})}request(e){let r=Math.random().toString(36).substring(2,15),s={request_id:r,type:"control_request",request:e};return new Promise((a,i)=>{this.pendingControlResponses.set(r,n=>{n.subtype==="success"?a(n):i(new Error(n.error))}),Promise.resolve(this.transport.write(JSON.stringify(s)+`
`))})}async supportedCommands(){return(await this.initialization).commands}async supportedModels(){return(await this.initialization).models}async mcpServerStatus(){return(await this.request({subtype:"mcp_status"})).response.mcpServers}async accountInfo(){return(await this.initialization).account}async streamInput(e){Rs("[Query.streamInput] Starting to process input stream"),Rs(`[Query.streamInput] this.sdkMcpTransports.size = ${this.sdkMcpTransports.size}`);try{let r=0;for await(let s of e){if(r++,Rs(`[Query.streamInput] Processing message ${r}: ${s.type}`),this.abortController?.signal.aborted)break;await Promise.resolve(this.transport.write(JSON.stringify(s)+`
`))}if(Rs(`[Query.streamInput] Finished processing ${r} messages from input stream`),Rs(`[Query.streamInput] About to check MCP servers. this.sdkMcpTransports.size = ${this.sdkMcpTransports.size}`),this.sdkMcpTransports.size>0&&this.firstResultReceivedPromise){Rs("[Query.streamInput] Entering Promise.race to wait for result");let s=1e4,a;await Promise.race([this.firstResultReceivedPromise.then(()=>{Rs("[Query.streamInput] Received first result, closing input stream"),a&&clearTimeout(a)}),new Promise(i=>{a=setTimeout(()=>{Rs("[Query.streamInput] Timed out waiting for first result, closing input stream"),i()},s)})]),a&&clearTimeout(a)}Rs("[Query] Calling transport.endInput() to close stdin to CLI process"),this.transport.endInput()}catch(r){if(!(r instanceof Ca))throw r}}handleHookCallbacks(e,r,s,a){let i=this.hookCallbacks.get(e);if(!i)throw new Error(`No hook callback found for ID: ${e}`);return i(r,s,{signal:a})}sendMcpServerMessageToCli(e,r){if("id"in r&&r.id!==null&&r.id!==void 0){let s=`${e}:${r.id}`,a=this.pendingMcpResponses.get(s);if(a){a.resolve(r),this.pendingMcpResponses.delete(s);return}}throw new Error("No pending request found")}handleMcpControlRequest(e,r,s){let a="id"in r.message?r.message.id:null,i=`${e}:${a}`;return new Promise((n,o)=>{let l=null,c=()=>{l&&clearTimeout(l),this.pendingMcpResponses.delete(i)},u=h=>{c(),n(h)},p=h=>{c(),o(h)};if(this.pendingMcpResponses.set(i,{resolve:u,reject:p}),s.onmessage)s.onmessage(r.message);else{c(),o(new Error("No message handler registered"));return}l=setTimeout(()=>{this.pendingMcpResponses.has(i)&&(c(),o(new Error("Request timeout")))},3e4)})}};function oM({prompt:t,options:{abortController:e=f_(),additionalDirectories:r=[],agents:s,allowedTools:a=[],appendSystemPrompt:i,canUseTool:n,continue:o,customSystemPrompt:l,cwd:c,disallowedTools:u=[],env:p,executable:h=g_()?"bun":"node",executableArgs:d=[],extraArgs:m={},fallbackModel:f,forkSession:v,hooks:g,includePartialMessages:b,maxThinkingTokens:w,maxTurns:R,mcpServers:C,model:P,pathToClaudeCodeExecutable:T,permissionMode:$="default",permissionPromptToolName:D,resume:j,resumeSessionAt:I,settingSources:k,stderr:A,strictMcpConfig:L}={}}){if(p||(p={...process.env}),p.CLAUDE_CODE_ENTRYPOINT||(p.CLAUDE_CODE_ENTRYPOINT="sdk-ts"),!T)throw new Error("pathToClaudeCodeExecutable is required");let q={},V=new Map;if(C)for(let[K,re]of Object.entries(C))re.type==="sdk"&&"instance"in re?(V.set(K,re.instance),q[K]={type:"sdk",name:K}):q[K]=re;let H=typeof t=="string",G=new Kd({abortController:e,additionalDirectories:r,agents:s,cwd:c,executable:h,executableArgs:d,extraArgs:m,pathToClaudeCodeExecutable:T,env:p,forkSession:v,stderr:A,customSystemPrompt:l,appendSystemPrompt:i,maxThinkingTokens:w,maxTurns:R,model:P,fallbackModel:f,permissionMode:$,permissionPromptToolName:D,continueConversation:o,resume:j,resumeSessionAt:I,settingSources:k,allowedTools:a,disallowedTools:u,mcpServers:q,strictMcpConfig:L,canUseTool:!!n,hooks:!!g,includePartialMessages:b}),Z=new Yd(G,H,n,g,e,V);return typeof t=="string"?G.write(JSON.stringify({type:"user",session_id:"",message:{role:"user",content:[{type:"text",text:t}]},parent_tool_use_id:null})+`
`):Z.streamInput(t),Z}var S={};EN(S,{void:()=>VM,util:()=>st,unknown:()=>BM,union:()=>KM,undefined:()=>UM,tuple:()=>XM,transformer:()=>n_,symbol:()=>MM,string:()=>I_,strictObject:()=>ZM,setErrorMap:()=>uM,set:()=>tU,record:()=>YM,quotelessJson:()=>cM,promise:()=>oU,preprocess:()=>uU,pipeline:()=>pU,ostring:()=>dU,optional:()=>cU,onumber:()=>fU,oboolean:()=>mU,objectUtil:()=>ef,object:()=>WM,number:()=>D_,nullable:()=>lU,null:()=>qM,never:()=>HM,nativeEnum:()=>iU,nan:()=>NM,map:()=>eU,makeIssue:()=>rl,literal:()=>aU,lazy:()=>sU,late:()=>LM,isValid:()=>Oa,isDirty:()=>rf,isAsync:()=>uo,isAborted:()=>tf,intersection:()=>QM,instanceof:()=>$M,getParsedType:()=>Ts,getErrorMap:()=>tl,function:()=>rU,enum:()=>nU,effect:()=>n_,discriminatedUnion:()=>JM,defaultErrorMap:()=>Vn,datetimeRegex:()=>O_,date:()=>jM,custom:()=>A_,coerce:()=>hU,boolean:()=>L_,bigint:()=>FM,array:()=>GM,any:()=>zM,addIssueToContext:()=>ie,ZodVoid:()=>Wn,ZodUnknown:()=>ks,ZodUnion:()=>Na,ZodUndefined:()=>La,ZodType:()=>Be,ZodTuple:()=>cs,ZodTransformer:()=>yr,ZodSymbol:()=>Gn,ZodString:()=>ea,ZodSet:()=>Kn,ZodSchema:()=>Be,ZodRecord:()=>al,ZodReadonly:()=>Ha,ZodPromise:()=>ra,ZodPipeline:()=>fo,ZodParsedType:()=>de,ZodOptional:()=>Tr,ZodObject:()=>er,ZodNumber:()=>ka,ZodNullable:()=>ls,ZodNull:()=>$a,ZodNever:()=>Hr,ZodNativeEnum:()=>qa,ZodNaN:()=>Jn,ZodMap:()=>Zn,ZodLiteral:()=>Ma,ZodLazy:()=>ja,ZodIssueCode:()=>ee,ZodIntersection:()=>Fa,ZodFunction:()=>nl,ZodFirstPartyTypeKind:()=>Oe,ZodError:()=>gr,ZodEnum:()=>Ua,ZodEffects:()=>yr,ZodDiscriminatedUnion:()=>sl,ZodDefault:()=>za,ZodDate:()=>Da,ZodCatch:()=>Ba,ZodBranded:()=>po,ZodBoolean:()=>Ia,ZodBigInt:()=>Aa,ZodArray:()=>As,ZodAny:()=>ta,Schema:()=>Be,ParseStatus:()=>Ht,OK:()=>Zt,NEVER:()=>vU,INVALID:()=>Te,EMPTY_PATH:()=>pM,DIRTY:()=>Hn,BRAND:()=>DM});var st;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{let i={};for(let n of a)i[n]=n;return i},t.getValidEnumValues=a=>{let i=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),n={};for(let o of i)n[o]=a[o];return t.objectValues(n)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{let i=[];for(let n in a)Object.prototype.hasOwnProperty.call(a,n)&&i.push(n);return i},t.find=(a,i)=>{for(let n of a)if(i(n))return n},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(n=>typeof n=="string"?`'${n}'`:n).join(i)}t.joinValues=s,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(st||(st={}));var ef;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(ef||(ef={}));var de=st.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ts=t=>{switch(typeof t){case"undefined":return de.undefined;case"string":return de.string;case"number":return Number.isNaN(t)?de.nan:de.number;case"boolean":return de.boolean;case"function":return de.function;case"bigint":return de.bigint;case"symbol":return de.symbol;case"object":return Array.isArray(t)?de.array:t===null?de.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?de.promise:typeof Map<"u"&&t instanceof Map?de.map:typeof Set<"u"&&t instanceof Set?de.set:typeof Date<"u"&&t instanceof Date?de.date:de.object;default:return de.unknown}},ee=st.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),cM=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),gr=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(i){return i.message},s={_errors:[]},a=i=>{for(let n of i.issues)if(n.code==="invalid_union")n.unionErrors.map(a);else if(n.code==="invalid_return_type")a(n.returnTypeError);else if(n.code==="invalid_arguments")a(n.argumentsError);else if(n.path.length===0)s._errors.push(r(n));else{let o=s,l=0;for(;l<n.path.length;){let c=n.path[l];l===n.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(n))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return a(this),s}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,st.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},s=[];for(let a of this.issues)if(a.path.length>0){let i=a.path[0];r[i]=r[i]||[],r[i].push(e(a))}else s.push(e(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}};gr.create=t=>new gr(t);var lM=(t,e)=>{let r;switch(t.code){case ee.invalid_type:t.received===de.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ee.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,st.jsonStringifyReplacer)}`;break;case ee.unrecognized_keys:r=`Unrecognized key(s) in object: ${st.joinValues(t.keys,", ")}`;break;case ee.invalid_union:r="Invalid input";break;case ee.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${st.joinValues(t.options)}`;break;case ee.invalid_enum_value:r=`Invalid enum value. Expected ${st.joinValues(t.options)}, received '${t.received}'`;break;case ee.invalid_arguments:r="Invalid function arguments";break;case ee.invalid_return_type:r="Invalid function return type";break;case ee.invalid_date:r="Invalid date";break;case ee.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:st.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ee.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ee.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ee.custom:r="Invalid input";break;case ee.invalid_intersection_types:r="Intersection results could not be merged";break;case ee.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ee.not_finite:r="Number must be finite";break;default:r=e.defaultError,st.assertNever(t)}return{message:r}},Vn=lM,R_=Vn;function uM(t){R_=t}function tl(){return R_}var rl=t=>{let{data:e,path:r,errorMaps:s,issueData:a}=t,i=[...r,...a.path||[]],n={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="",l=s.filter(c=>!!c).slice().reverse();for(let c of l)o=c(n,{data:e,defaultError:o}).message;return{...a,path:i,message:o}},pM=[];function ie(t,e){let r=tl(),s=rl({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Vn?void 0:Vn].filter(a=>!!a)});t.common.issues.push(s)}var Ht=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let s=[];for(let a of r){if(a.status==="aborted")return Te;a.status==="dirty"&&e.dirty(),s.push(a.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){let s=[];for(let a of r){let i=await a.key,n=await a.value;s.push({key:i,value:n})}return t.mergeObjectSync(e,s)}static mergeObjectSync(e,r){let s={};for(let a of r){let{key:i,value:n}=a;if(i.status==="aborted"||n.status==="aborted")return Te;i.status==="dirty"&&e.dirty(),n.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof n.value<"u"||a.alwaysSet)&&(s[i.value]=n.value)}return{status:e.value,value:s}}},Te=Object.freeze({status:"aborted"}),Hn=t=>({status:"dirty",value:t}),Zt=t=>({status:"valid",value:t}),tf=t=>t.status==="aborted",rf=t=>t.status==="dirty",Oa=t=>t.status==="valid",uo=t=>typeof Promise<"u"&&t instanceof Promise,be;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(be||(be={}));var Or=class{constructor(e,r,s,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},s_=(t,e)=>{if(Oa(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new gr(t.common.issues);return this._error=r,this._error}}};function Ve(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:s,description:a}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(n,o)=>{let{message:l}=t;return n.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??s??o.defaultError}:n.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:a}}var Be=class{get description(){return this._def.description}_getType(e){return Ts(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ts(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ht,ctx:{common:e.parent.common,data:e.data,parsedType:Ts(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(uo(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){let s={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ts(e)},a=this._parseSync({data:e,path:s.path,parent:s});return s_(s,a)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ts(e)};if(!this["~standard"].async)try{let s=this._parseSync({data:e,path:[],parent:r});return Oa(s)?{value:s.value}:{issues:r.common.issues}}catch(s){s?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(s=>Oa(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(e,r){let s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){let s={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ts(e)},a=this._parse({data:e,path:s.path,parent:s}),i=await(uo(a)?a:Promise.resolve(a));return s_(s,i)}refine(e,r){let s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{let n=e(a),o=()=>i.addIssue({code:ee.custom,...s(a)});return typeof Promise<"u"&&n instanceof Promise?n.then(l=>l?!0:(o(),!1)):n?!0:(o(),!1)})}refinement(e,r){return this._refinement((s,a)=>e(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(e){return new yr({schema:this,typeName:Oe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Tr.create(this,this._def)}nullable(){return ls.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return As.create(this)}promise(){return ra.create(this,this._def)}or(e){return Na.create([this,e],this._def)}and(e){return Fa.create(this,e,this._def)}transform(e){return new yr({...Ve(this._def),schema:this,typeName:Oe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new za({...Ve(this._def),innerType:this,defaultValue:r,typeName:Oe.ZodDefault})}brand(){return new po({typeName:Oe.ZodBranded,type:this,...Ve(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Ba({...Ve(this._def),innerType:this,catchValue:r,typeName:Oe.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return fo.create(this,e)}readonly(){return Ha.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},dM=/^c[^\s-]{8,}$/i,fM=/^[0-9a-z]+$/,mM=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hM=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vM=/^[a-z0-9_-]{21}$/i,gM=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,yM=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xM=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bM="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Gd,_M=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,SM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,EM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,PM=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,RM=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,C_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",CM=new RegExp(`^${C_}$`);function T_(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function TM(t){return new RegExp(`^${T_(t)}$`)}function O_(t){let e=`${C_}T${T_(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function OM(t,e){return!!((e==="v4"||!e)&&_M.test(t)||(e==="v6"||!e)&&SM.test(t))}function kM(t,e){if(!gM.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function AM(t,e){return!!((e==="v4"||!e)&&wM.test(t)||(e==="v6"||!e)&&EM.test(t))}var ea=class t extends Be{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==de.string){let i=this._getOrReturnCtx(e);return ie(i,{code:ee.invalid_type,expected:de.string,received:i.parsedType}),Te}let s=new Ht,a;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),ie(a,{code:ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),ie(a,{code:ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){let n=e.data.length>i.value,o=e.data.length<i.value;(n||o)&&(a=this._getOrReturnCtx(e,a),n?ie(a,{code:ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&ie(a,{code:ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")xM.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"email",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Gd||(Gd=new RegExp(bM,"u")),Gd.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"emoji",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")hM.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"uuid",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")vM.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"nanoid",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")dM.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"cuid",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")fM.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"cuid2",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")mM.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"ulid",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),ie(a,{validation:"url",code:ee.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"regex",code:ee.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),ie(a,{code:ee.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),ie(a,{code:ee.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),ie(a,{code:ee.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?O_(i).test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{code:ee.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?CM.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{code:ee.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?TM(i).test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{code:ee.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?yM.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"duration",code:ee.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?OM(e.data,i.version)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"ip",code:ee.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?kM(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"jwt",code:ee.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?AM(e.data,i.version)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"cidr",code:ee.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?PM.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"base64",code:ee.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?RM.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"base64url",code:ee.invalid_string,message:i.message}),s.dirty()):st.assertNever(i);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(a=>e.test(a),{validation:r,code:ee.invalid_string,...be.errToObj(s)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...be.errToObj(e)})}url(e){return this._addCheck({kind:"url",...be.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...be.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...be.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...be.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...be.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...be.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...be.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...be.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...be.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...be.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...be.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...be.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...be.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...be.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...be.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...be.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...be.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...be.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...be.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...be.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...be.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...be.errToObj(r)})}nonempty(e){return this.min(1,be.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};ea.create=t=>new ea({checks:[],typeName:Oe.ZodString,coerce:t?.coerce??!1,...Ve(t)});function IM(t,e){let r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,a=r>s?r:s,i=Number.parseInt(t.toFixed(a).replace(".","")),n=Number.parseInt(e.toFixed(a).replace(".",""));return i%n/10**a}var ka=class t extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==de.number){let i=this._getOrReturnCtx(e);return ie(i,{code:ee.invalid_type,expected:de.number,received:i.parsedType}),Te}let s,a=new Ht;for(let i of this._def.checks)i.kind==="int"?st.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{code:ee.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),ie(s,{code:ee.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),ie(s,{code:ee.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?IM(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),ie(s,{code:ee.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{code:ee.not_finite,message:i.message}),a.dirty()):st.assertNever(i);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,be.toString(r))}gt(e,r){return this.setLimit("min",e,!1,be.toString(r))}lte(e,r){return this.setLimit("max",e,!0,be.toString(r))}lt(e,r){return this.setLimit("max",e,!1,be.toString(r))}setLimit(e,r,s,a){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:be.toString(a)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:be.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:be.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:be.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:be.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:be.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:be.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&st.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}};ka.create=t=>new ka({checks:[],typeName:Oe.ZodNumber,coerce:t?.coerce||!1,...Ve(t)});var Aa=class t extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==de.bigint)return this._getInvalidInput(e);let s,a=new Ht;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),ie(s,{code:ee.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),ie(s,{code:ee.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),ie(s,{code:ee.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):st.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return ie(r,{code:ee.invalid_type,expected:de.bigint,received:r.parsedType}),Te}gte(e,r){return this.setLimit("min",e,!0,be.toString(r))}gt(e,r){return this.setLimit("min",e,!1,be.toString(r))}lte(e,r){return this.setLimit("max",e,!0,be.toString(r))}lt(e,r){return this.setLimit("max",e,!1,be.toString(r))}setLimit(e,r,s,a){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:be.toString(a)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:be.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:be.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Aa.create=t=>new Aa({checks:[],typeName:Oe.ZodBigInt,coerce:t?.coerce??!1,...Ve(t)});var Ia=class extends Be{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==de.boolean){let s=this._getOrReturnCtx(e);return ie(s,{code:ee.invalid_type,expected:de.boolean,received:s.parsedType}),Te}return Zt(e.data)}};Ia.create=t=>new Ia({typeName:Oe.ZodBoolean,coerce:t?.coerce||!1,...Ve(t)});var Da=class t extends Be{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==de.date){let i=this._getOrReturnCtx(e);return ie(i,{code:ee.invalid_type,expected:de.date,received:i.parsedType}),Te}if(Number.isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return ie(i,{code:ee.invalid_date}),Te}let s=new Ht,a;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),ie(a,{code:ee.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),ie(a,{code:ee.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):st.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:be.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:be.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Da.create=t=>new Da({checks:[],coerce:t?.coerce||!1,typeName:Oe.ZodDate,...Ve(t)});var Gn=class extends Be{_parse(e){if(this._getType(e)!==de.symbol){let s=this._getOrReturnCtx(e);return ie(s,{code:ee.invalid_type,expected:de.symbol,received:s.parsedType}),Te}return Zt(e.data)}};Gn.create=t=>new Gn({typeName:Oe.ZodSymbol,...Ve(t)});var La=class extends Be{_parse(e){if(this._getType(e)!==de.undefined){let s=this._getOrReturnCtx(e);return ie(s,{code:ee.invalid_type,expected:de.undefined,received:s.parsedType}),Te}return Zt(e.data)}};La.create=t=>new La({typeName:Oe.ZodUndefined,...Ve(t)});var $a=class extends Be{_parse(e){if(this._getType(e)!==de.null){let s=this._getOrReturnCtx(e);return ie(s,{code:ee.invalid_type,expected:de.null,received:s.parsedType}),Te}return Zt(e.data)}};$a.create=t=>new $a({typeName:Oe.ZodNull,...Ve(t)});var ta=class extends Be{constructor(){super(...arguments),this._any=!0}_parse(e){return Zt(e.data)}};ta.create=t=>new ta({typeName:Oe.ZodAny,...Ve(t)});var ks=class extends Be{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Zt(e.data)}};ks.create=t=>new ks({typeName:Oe.ZodUnknown,...Ve(t)});var Hr=class extends Be{_parse(e){let r=this._getOrReturnCtx(e);return ie(r,{code:ee.invalid_type,expected:de.never,received:r.parsedType}),Te}};Hr.create=t=>new Hr({typeName:Oe.ZodNever,...Ve(t)});var Wn=class extends Be{_parse(e){if(this._getType(e)!==de.undefined){let s=this._getOrReturnCtx(e);return ie(s,{code:ee.invalid_type,expected:de.void,received:s.parsedType}),Te}return Zt(e.data)}};Wn.create=t=>new Wn({typeName:Oe.ZodVoid,...Ve(t)});var As=class t extends Be{_parse(e){let{ctx:r,status:s}=this._processInputParams(e),a=this._def;if(r.parsedType!==de.array)return ie(r,{code:ee.invalid_type,expected:de.array,received:r.parsedType}),Te;if(a.exactLength!==null){let n=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(n||o)&&(ie(r,{code:n?ee.too_big:ee.too_small,minimum:o?a.exactLength.value:void 0,maximum:n?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ie(r,{code:ee.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ie(r,{code:ee.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((n,o)=>a.type._parseAsync(new Or(r,n,r.path,o)))).then(n=>Ht.mergeArray(s,n));let i=[...r.data].map((n,o)=>a.type._parseSync(new Or(r,n,r.path,o)));return Ht.mergeArray(s,i)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:be.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:be.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:be.toString(r)}})}nonempty(e){return this.min(1,e)}};As.create=(t,e)=>new As({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Oe.ZodArray,...Ve(e)});function Bn(t){if(t instanceof er){let e={};for(let r in t.shape){let s=t.shape[r];e[r]=Tr.create(Bn(s))}return new er({...t._def,shape:()=>e})}else return t instanceof As?new As({...t._def,type:Bn(t.element)}):t instanceof Tr?Tr.create(Bn(t.unwrap())):t instanceof ls?ls.create(Bn(t.unwrap())):t instanceof cs?cs.create(t.items.map(e=>Bn(e))):t}var er=class t extends Be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=st.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==de.object){let c=this._getOrReturnCtx(e);return ie(c,{code:ee.invalid_type,expected:de.object,received:c.parsedType}),Te}let{status:s,ctx:a}=this._processInputParams(e),{shape:i,keys:n}=this._getCached(),o=[];if(!(this._def.catchall instanceof Hr&&this._def.unknownKeys==="strip"))for(let c in a.data)n.includes(c)||o.push(c);let l=[];for(let c of n){let u=i[c],p=a.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Or(a,p,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof Hr){let c=this._def.unknownKeys;if(c==="passthrough")for(let u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(c==="strict")o.length>0&&(ie(a,{code:ee.unrecognized_keys,keys:o}),s.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let u of o){let p=a.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Or(a,p,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{let c=[];for(let u of l){let p=await u.key,h=await u.value;c.push({key:p,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>Ht.mergeObjectSync(s,c)):Ht.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(e){return be.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{let a=this._def.errorMap?.(r,s).message??s.defaultError;return r.code==="unrecognized_keys"?{message:be.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Oe.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let s of st.objectKeys(e))e[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let s of st.objectKeys(this.shape))e[s]||(r[s]=this.shape[s]);return new t({...this._def,shape:()=>r})}deepPartial(){return Bn(this)}partial(e){let r={};for(let s of st.objectKeys(this.shape)){let a=this.shape[s];e&&!e[s]?r[s]=a:r[s]=a.optional()}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let s of st.objectKeys(this.shape))if(e&&!e[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Tr;)i=i._def.innerType;r[s]=i}return new t({...this._def,shape:()=>r})}keyof(){return k_(st.objectKeys(this.shape))}};er.create=(t,e)=>new er({shape:()=>t,unknownKeys:"strip",catchall:Hr.create(),typeName:Oe.ZodObject,...Ve(e)});er.strictCreate=(t,e)=>new er({shape:()=>t,unknownKeys:"strict",catchall:Hr.create(),typeName:Oe.ZodObject,...Ve(e)});er.lazycreate=(t,e)=>new er({shape:t,unknownKeys:"strip",catchall:Hr.create(),typeName:Oe.ZodObject,...Ve(e)});var Na=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),s=this._def.options;function a(i){for(let o of i)if(o.result.status==="valid")return o.result;for(let o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;let n=i.map(o=>new gr(o.ctx.common.issues));return ie(r,{code:ee.invalid_union,unionErrors:n}),Te}if(r.common.async)return Promise.all(s.map(async i=>{let n={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:n}),ctx:n}})).then(a);{let i,n=[];for(let l of s){let c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&n.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let o=n.map(l=>new gr(l));return ie(r,{code:ee.invalid_union,unionErrors:o}),Te}}get options(){return this._def.options}};Na.create=(t,e)=>new Na({options:t,typeName:Oe.ZodUnion,...Ve(e)});var Cs=t=>t instanceof ja?Cs(t.schema):t instanceof yr?Cs(t.innerType()):t instanceof Ma?[t.value]:t instanceof Ua?t.options:t instanceof qa?st.objectValues(t.enum):t instanceof za?Cs(t._def.innerType):t instanceof La?[void 0]:t instanceof $a?[null]:t instanceof Tr?[void 0,...Cs(t.unwrap())]:t instanceof ls?[null,...Cs(t.unwrap())]:t instanceof po||t instanceof Ha?Cs(t.unwrap()):t instanceof Ba?Cs(t._def.innerType):[],sl=class t extends Be{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==de.object)return ie(r,{code:ee.invalid_type,expected:de.object,received:r.parsedType}),Te;let s=this.discriminator,a=r.data[s],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(ie(r,{code:ee.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Te)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){let a=new Map;for(let i of r){let n=Cs(i.shape[e]);if(!n.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of n){if(a.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);a.set(o,i)}}return new t({typeName:Oe.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...Ve(s)})}};function sf(t,e){let r=Ts(t),s=Ts(e);if(t===e)return{valid:!0,data:t};if(r===de.object&&s===de.object){let a=st.objectKeys(e),i=st.objectKeys(t).filter(o=>a.indexOf(o)!==-1),n={...t,...e};for(let o of i){let l=sf(t[o],e[o]);if(!l.valid)return{valid:!1};n[o]=l.data}return{valid:!0,data:n}}else if(r===de.array&&s===de.array){if(t.length!==e.length)return{valid:!1};let a=[];for(let i=0;i<t.length;i++){let n=t[i],o=e[i],l=sf(n,o);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return r===de.date&&s===de.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Fa=class extends Be{_parse(e){let{status:r,ctx:s}=this._processInputParams(e),a=(i,n)=>{if(tf(i)||tf(n))return Te;let o=sf(i.value,n.value);return o.valid?((rf(i)||rf(n))&&r.dirty(),{status:r.value,value:o.data}):(ie(s,{code:ee.invalid_intersection_types}),Te)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,n])=>a(i,n)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}};Fa.create=(t,e,r)=>new Fa({left:t,right:e,typeName:Oe.ZodIntersection,...Ve(r)});var cs=class t extends Be{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==de.array)return ie(s,{code:ee.invalid_type,expected:de.array,received:s.parsedType}),Te;if(s.data.length<this._def.items.length)return ie(s,{code:ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Te;!this._def.rest&&s.data.length>this._def.items.length&&(ie(s,{code:ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...s.data].map((n,o)=>{let l=this._def.items[o]||this._def.rest;return l?l._parse(new Or(s,n,s.path,o)):null}).filter(n=>!!n);return s.common.async?Promise.all(i).then(n=>Ht.mergeArray(r,n)):Ht.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};cs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new cs({items:t,typeName:Oe.ZodTuple,rest:null,...Ve(e)})};var al=class t extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==de.object)return ie(s,{code:ee.invalid_type,expected:de.object,received:s.parsedType}),Te;let a=[],i=this._def.keyType,n=this._def.valueType;for(let o in s.data)a.push({key:i._parse(new Or(s,o,s.path,o)),value:n._parse(new Or(s,s.data[o],s.path,o)),alwaysSet:o in s.data});return s.common.async?Ht.mergeObjectAsync(r,a):Ht.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof Be?new t({keyType:e,valueType:r,typeName:Oe.ZodRecord,...Ve(s)}):new t({keyType:ea.create(),valueType:e,typeName:Oe.ZodRecord,...Ve(r)})}},Zn=class extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==de.map)return ie(s,{code:ee.invalid_type,expected:de.map,received:s.parsedType}),Te;let a=this._def.keyType,i=this._def.valueType,n=[...s.data.entries()].map(([o,l],c)=>({key:a._parse(new Or(s,o,s.path,[c,"key"])),value:i._parse(new Or(s,l,s.path,[c,"value"]))}));if(s.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let l of n){let c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Te;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{let o=new Map;for(let l of n){let c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Te;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}};Zn.create=(t,e,r)=>new Zn({valueType:e,keyType:t,typeName:Oe.ZodMap,...Ve(r)});var Kn=class t extends Be{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==de.set)return ie(s,{code:ee.invalid_type,expected:de.set,received:s.parsedType}),Te;let a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(ie(s,{code:ee.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(ie(s,{code:ee.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());let i=this._def.valueType;function n(l){let c=new Set;for(let u of l){if(u.status==="aborted")return Te;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}let o=[...s.data.values()].map((l,c)=>i._parse(new Or(s,l,s.path,c)));return s.common.async?Promise.all(o).then(l=>n(l)):n(o)}min(e,r){return new t({...this._def,minSize:{value:e,message:be.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:be.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Kn.create=(t,e)=>new Kn({valueType:t,minSize:null,maxSize:null,typeName:Oe.ZodSet,...Ve(e)});var nl=class t extends Be{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==de.function)return ie(r,{code:ee.invalid_type,expected:de.function,received:r.parsedType}),Te;function s(o,l){return rl({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,tl(),Vn].filter(c=>!!c),issueData:{code:ee.invalid_arguments,argumentsError:l}})}function a(o,l){return rl({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,tl(),Vn].filter(c=>!!c),issueData:{code:ee.invalid_return_type,returnTypeError:l}})}let i={errorMap:r.common.contextualErrorMap},n=r.data;if(this._def.returns instanceof ra){let o=this;return Zt(async function(...l){let c=new gr([]),u=await o._def.args.parseAsync(l,i).catch(d=>{throw c.addIssue(s(l,d)),c}),p=await Reflect.apply(n,this,u);return await o._def.returns._def.type.parseAsync(p,i).catch(d=>{throw c.addIssue(a(p,d)),c})})}else{let o=this;return Zt(function(...l){let c=o._def.args.safeParse(l,i);if(!c.success)throw new gr([s(l,c.error)]);let u=Reflect.apply(n,this,c.data),p=o._def.returns.safeParse(u,i);if(!p.success)throw new gr([a(u,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:cs.create(e).rest(ks.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new t({args:e||cs.create([]).rest(ks.create()),returns:r||ks.create(),typeName:Oe.ZodFunction,...Ve(s)})}},ja=class extends Be{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};ja.create=(t,e)=>new ja({getter:t,typeName:Oe.ZodLazy,...Ve(e)});var Ma=class extends Be{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return ie(r,{received:r.data,code:ee.invalid_literal,expected:this._def.value}),Te}return{status:"valid",value:e.data}}get value(){return this._def.value}};Ma.create=(t,e)=>new Ma({value:t,typeName:Oe.ZodLiteral,...Ve(e)});function k_(t,e){return new Ua({values:t,typeName:Oe.ZodEnum,...Ve(e)})}var Ua=class t extends Be{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),s=this._def.values;return ie(r,{expected:st.joinValues(s),received:r.parsedType,code:ee.invalid_type}),Te}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),s=this._def.values;return ie(r,{received:r.data,code:ee.invalid_enum_value,options:s}),Te}return Zt(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}};Ua.create=k_;var qa=class extends Be{_parse(e){let r=st.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==de.string&&s.parsedType!==de.number){let a=st.objectValues(r);return ie(s,{expected:st.joinValues(a),received:s.parsedType,code:ee.invalid_type}),Te}if(this._cache||(this._cache=new Set(st.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let a=st.objectValues(r);return ie(s,{received:s.data,code:ee.invalid_enum_value,options:a}),Te}return Zt(e.data)}get enum(){return this._def.values}};qa.create=(t,e)=>new qa({values:t,typeName:Oe.ZodNativeEnum,...Ve(e)});var ra=class extends Be{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==de.promise&&r.common.async===!1)return ie(r,{code:ee.invalid_type,expected:de.promise,received:r.parsedType}),Te;let s=r.parsedType===de.promise?r.data:Promise.resolve(r.data);return Zt(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}};ra.create=(t,e)=>new ra({type:t,typeName:Oe.ZodPromise,...Ve(e)});var yr=class extends Be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:s}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:n=>{ie(s,n),n.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){let n=a.transform(s.data,i);if(s.common.async)return Promise.resolve(n).then(async o=>{if(r.value==="aborted")return Te;let l=await this._def.schema._parseAsync({data:o,path:s.path,parent:s});return l.status==="aborted"?Te:l.status==="dirty"||r.value==="dirty"?Hn(l.value):l});{if(r.value==="aborted")return Te;let o=this._def.schema._parseSync({data:n,path:s.path,parent:s});return o.status==="aborted"?Te:o.status==="dirty"||r.value==="dirty"?Hn(o.value):o}}if(a.type==="refinement"){let n=o=>{let l=a.refinement(o,i);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){let o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?Te:(o.status==="dirty"&&r.dirty(),n(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?Te:(o.status==="dirty"&&r.dirty(),n(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(s.common.async===!1){let n=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Oa(n))return Te;let o=a.transform(n.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(n=>Oa(n)?Promise.resolve(a.transform(n.value,i)).then(o=>({status:r.value,value:o})):Te);st.assertNever(a)}};yr.create=(t,e,r)=>new yr({schema:t,typeName:Oe.ZodEffects,effect:e,...Ve(r)});yr.createWithPreprocess=(t,e,r)=>new yr({schema:e,effect:{type:"preprocess",transform:t},typeName:Oe.ZodEffects,...Ve(r)});var Tr=class extends Be{_parse(e){return this._getType(e)===de.undefined?Zt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Tr.create=(t,e)=>new Tr({innerType:t,typeName:Oe.ZodOptional,...Ve(e)});var ls=class extends Be{_parse(e){return this._getType(e)===de.null?Zt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ls.create=(t,e)=>new ls({innerType:t,typeName:Oe.ZodNullable,...Ve(e)});var za=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),s=r.data;return r.parsedType===de.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};za.create=(t,e)=>new za({innerType:t,typeName:Oe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ve(e)});var Ba=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return uo(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new gr(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new gr(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}};Ba.create=(t,e)=>new Ba({innerType:t,typeName:Oe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ve(e)});var Jn=class extends Be{_parse(e){if(this._getType(e)!==de.nan){let s=this._getOrReturnCtx(e);return ie(s,{code:ee.invalid_type,expected:de.nan,received:s.parsedType}),Te}return{status:"valid",value:e.data}}};Jn.create=t=>new Jn({typeName:Oe.ZodNaN,...Ve(t)});var DM=Symbol("zod_brand"),po=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}},fo=class t extends Be{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?Te:i.status==="dirty"?(r.dirty(),Hn(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{let a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Te:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(e,r){return new t({in:e,out:r,typeName:Oe.ZodPipeline})}},Ha=class extends Be{_parse(e){let r=this._def.innerType._parse(e),s=a=>(Oa(a)&&(a.value=Object.freeze(a.value)),a);return uo(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}};Ha.create=(t,e)=>new Ha({innerType:t,typeName:Oe.ZodReadonly,...Ve(e)});function a_(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function A_(t,e={},r){return t?ta.create().superRefine((s,a)=>{let i=t(s);if(i instanceof Promise)return i.then(n=>{if(!n){let o=a_(e,s),l=o.fatal??r??!0;a.addIssue({code:"custom",...o,fatal:l})}});if(!i){let n=a_(e,s),o=n.fatal??r??!0;a.addIssue({code:"custom",...n,fatal:o})}}):ta.create()}var LM={object:er.lazycreate},Oe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Oe||(Oe={}));var $M=(t,e={message:`Input not instance of ${t.name}`})=>A_(r=>r instanceof t,e),I_=ea.create,D_=ka.create,NM=Jn.create,FM=Aa.create,L_=Ia.create,jM=Da.create,MM=Gn.create,UM=La.create,qM=$a.create,zM=ta.create,BM=ks.create,HM=Hr.create,VM=Wn.create,GM=As.create,WM=er.create,ZM=er.strictCreate,KM=Na.create,JM=sl.create,QM=Fa.create,XM=cs.create,YM=al.create,eU=Zn.create,tU=Kn.create,rU=nl.create,sU=ja.create,aU=Ma.create,nU=Ua.create,iU=qa.create,oU=ra.create,n_=yr.create,cU=Tr.create,lU=ls.create,uU=yr.createWithPreprocess,pU=fo.create,dU=()=>I_().optional(),fU=()=>D_().optional(),mU=()=>L_().optional(),hU={string:t=>ea.create({...t,coerce:!0}),number:t=>ka.create({...t,coerce:!0}),boolean:t=>Ia.create({...t,coerce:!0}),bigint:t=>Aa.create({...t,coerce:!0}),date:t=>Da.create({...t,coerce:!0})},vU=Te;var ll="2.0",$_=S.union([S.string(),S.number().int()]),N_=S.string(),gU=S.object({progressToken:S.optional($_)}).passthrough(),kr=S.object({_meta:S.optional(gU)}).passthrough(),tr=S.object({method:S.string(),params:S.optional(kr)}),ho=S.object({_meta:S.optional(S.object({}).passthrough())}).passthrough(),us=S.object({method:S.string(),params:S.optional(ho)}),Ar=S.object({_meta:S.optional(S.object({}).passthrough())}).passthrough(),ul=S.union([S.string(),S.number().int()]),yU=S.object({jsonrpc:S.literal(ll),id:ul}).merge(tr).strict();var xU=S.object({jsonrpc:S.literal(ll)}).merge(us).strict();var bU=S.object({jsonrpc:S.literal(ll),id:ul,result:Ar}).strict();var i_;(function(t){t[t.ConnectionClosed=-32e3]="ConnectionClosed",t[t.RequestTimeout=-32001]="RequestTimeout",t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError"})(i_||(i_={}));var _U=S.object({jsonrpc:S.literal(ll),id:ul,error:S.object({code:S.number().int(),message:S.string(),data:S.optional(S.unknown())})}).strict();var bK=S.union([yU,xU,bU,_U]),F_=Ar.strict(),j_=us.extend({method:S.literal("notifications/cancelled"),params:ho.extend({requestId:ul,reason:S.string().optional()})}),vo=S.object({name:S.string(),title:S.optional(S.string())}).passthrough(),M_=vo.extend({version:S.string()}),wU=S.object({experimental:S.optional(S.object({}).passthrough()),sampling:S.optional(S.object({}).passthrough()),elicitation:S.optional(S.object({}).passthrough()),roots:S.optional(S.object({listChanged:S.optional(S.boolean())}).passthrough())}).passthrough(),SU=tr.extend({method:S.literal("initialize"),params:kr.extend({protocolVersion:S.string(),capabilities:wU,clientInfo:M_})}),EU=S.object({experimental:S.optional(S.object({}).passthrough()),logging:S.optional(S.object({}).passthrough()),completions:S.optional(S.object({}).passthrough()),prompts:S.optional(S.object({listChanged:S.optional(S.boolean())}).passthrough()),resources:S.optional(S.object({subscribe:S.optional(S.boolean()),listChanged:S.optional(S.boolean())}).passthrough()),tools:S.optional(S.object({listChanged:S.optional(S.boolean())}).passthrough())}).passthrough(),PU=Ar.extend({protocolVersion:S.string(),capabilities:EU,serverInfo:M_,instructions:S.optional(S.string())}),RU=us.extend({method:S.literal("notifications/initialized")}),U_=tr.extend({method:S.literal("ping")}),CU=S.object({progress:S.number(),total:S.optional(S.number()),message:S.optional(S.string())}).passthrough(),q_=us.extend({method:S.literal("notifications/progress"),params:ho.merge(CU).extend({progressToken:$_})}),pl=tr.extend({params:kr.extend({cursor:S.optional(N_)}).optional()}),dl=Ar.extend({nextCursor:S.optional(N_)}),z_=S.object({uri:S.string(),mimeType:S.optional(S.string()),_meta:S.optional(S.object({}).passthrough())}).passthrough(),B_=z_.extend({text:S.string()}),pf=S.string().refine(t=>{try{return atob(t),!0}catch{return!1}},{message:"Invalid Base64 string"}),H_=z_.extend({blob:pf}),V_=vo.extend({uri:S.string(),description:S.optional(S.string()),mimeType:S.optional(S.string()),_meta:S.optional(S.object({}).passthrough())}),TU=vo.extend({uriTemplate:S.string(),description:S.optional(S.string()),mimeType:S.optional(S.string()),_meta:S.optional(S.object({}).passthrough())}),OU=pl.extend({method:S.literal("resources/list")}),kU=dl.extend({resources:S.array(V_)}),AU=pl.extend({method:S.literal("resources/templates/list")}),IU=dl.extend({resourceTemplates:S.array(TU)}),DU=tr.extend({method:S.literal("resources/read"),params:kr.extend({uri:S.string()})}),LU=Ar.extend({contents:S.array(S.union([B_,H_]))}),$U=us.extend({method:S.literal("notifications/resources/list_changed")}),NU=tr.extend({method:S.literal("resources/subscribe"),params:kr.extend({uri:S.string()})}),FU=tr.extend({method:S.literal("resources/unsubscribe"),params:kr.extend({uri:S.string()})}),jU=us.extend({method:S.literal("notifications/resources/updated"),params:ho.extend({uri:S.string()})}),MU=S.object({name:S.string(),description:S.optional(S.string()),required:S.optional(S.boolean())}).passthrough(),UU=vo.extend({description:S.optional(S.string()),arguments:S.optional(S.array(MU)),_meta:S.optional(S.object({}).passthrough())}),qU=pl.extend({method:S.literal("prompts/list")}),zU=dl.extend({prompts:S.array(UU)}),BU=tr.extend({method:S.literal("prompts/get"),params:kr.extend({name:S.string(),arguments:S.optional(S.record(S.string()))})}),df=S.object({type:S.literal("text"),text:S.string(),_meta:S.optional(S.object({}).passthrough())}).passthrough(),ff=S.object({type:S.literal("image"),data:pf,mimeType:S.string(),_meta:S.optional(S.object({}).passthrough())}).passthrough(),mf=S.object({type:S.literal("audio"),data:pf,mimeType:S.string(),_meta:S.optional(S.object({}).passthrough())}).passthrough(),HU=S.object({type:S.literal("resource"),resource:S.union([B_,H_]),_meta:S.optional(S.object({}).passthrough())}).passthrough(),VU=V_.extend({type:S.literal("resource_link")}),G_=S.union([df,ff,mf,VU,HU]),GU=S.object({role:S.enum(["user","assistant"]),content:G_}).passthrough(),WU=Ar.extend({description:S.optional(S.string()),messages:S.array(GU)}),ZU=us.extend({method:S.literal("notifications/prompts/list_changed")}),KU=S.object({title:S.optional(S.string()),readOnlyHint:S.optional(S.boolean()),destructiveHint:S.optional(S.boolean()),idempotentHint:S.optional(S.boolean()),openWorldHint:S.optional(S.boolean())}).passthrough(),JU=vo.extend({description:S.optional(S.string()),inputSchema:S.object({type:S.literal("object"),properties:S.optional(S.object({}).passthrough()),required:S.optional(S.array(S.string()))}).passthrough(),outputSchema:S.optional(S.object({type:S.literal("object"),properties:S.optional(S.object({}).passthrough()),required:S.optional(S.array(S.string()))}).passthrough()),annotations:S.optional(KU),_meta:S.optional(S.object({}).passthrough())}),QU=pl.extend({method:S.literal("tools/list")}),XU=dl.extend({tools:S.array(JU)}),W_=Ar.extend({content:S.array(G_).default([]),structuredContent:S.object({}).passthrough().optional(),isError:S.optional(S.boolean())}),_K=W_.or(Ar.extend({toolResult:S.unknown()})),YU=tr.extend({method:S.literal("tools/call"),params:kr.extend({name:S.string(),arguments:S.optional(S.record(S.unknown()))})}),eq=us.extend({method:S.literal("notifications/tools/list_changed")}),Z_=S.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),tq=tr.extend({method:S.literal("logging/setLevel"),params:kr.extend({level:Z_})}),rq=us.extend({method:S.literal("notifications/message"),params:ho.extend({level:Z_,logger:S.optional(S.string()),data:S.unknown()})}),sq=S.object({name:S.string().optional()}).passthrough(),aq=S.object({hints:S.optional(S.array(sq)),costPriority:S.optional(S.number().min(0).max(1)),speedPriority:S.optional(S.number().min(0).max(1)),intelligencePriority:S.optional(S.number().min(0).max(1))}).passthrough(),nq=S.object({role:S.enum(["user","assistant"]),content:S.union([df,ff,mf])}).passthrough(),iq=tr.extend({method:S.literal("sampling/createMessage"),params:kr.extend({messages:S.array(nq),systemPrompt:S.optional(S.string()),includeContext:S.optional(S.enum(["none","thisServer","allServers"])),temperature:S.optional(S.number()),maxTokens:S.number().int(),stopSequences:S.optional(S.array(S.string())),metadata:S.optional(S.object({}).passthrough()),modelPreferences:S.optional(aq)})}),oq=Ar.extend({model:S.string(),stopReason:S.optional(S.enum(["endTurn","stopSequence","maxTokens"]).or(S.string())),role:S.enum(["user","assistant"]),content:S.discriminatedUnion("type",[df,ff,mf])}),cq=S.object({type:S.literal("boolean"),title:S.optional(S.string()),description:S.optional(S.string()),default:S.optional(S.boolean())}).passthrough(),lq=S.object({type:S.literal("string"),title:S.optional(S.string()),description:S.optional(S.string()),minLength:S.optional(S.number()),maxLength:S.optional(S.number()),format:S.optional(S.enum(["email","uri","date","date-time"]))}).passthrough(),uq=S.object({type:S.enum(["number","integer"]),title:S.optional(S.string()),description:S.optional(S.string()),minimum:S.optional(S.number()),maximum:S.optional(S.number())}).passthrough(),pq=S.object({type:S.literal("string"),title:S.optional(S.string()),description:S.optional(S.string()),enum:S.array(S.string()),enumNames:S.optional(S.array(S.string()))}).passthrough(),dq=S.union([cq,lq,uq,pq]),fq=tr.extend({method:S.literal("elicitation/create"),params:kr.extend({message:S.string(),requestedSchema:S.object({type:S.literal("object"),properties:S.record(S.string(),dq),required:S.optional(S.array(S.string()))}).passthrough()})}),mq=Ar.extend({action:S.enum(["accept","decline","cancel"]),content:S.optional(S.record(S.string(),S.unknown()))}),hq=S.object({type:S.literal("ref/resource"),uri:S.string()}).passthrough(),vq=S.object({type:S.literal("ref/prompt"),name:S.string()}).passthrough(),gq=tr.extend({method:S.literal("completion/complete"),params:kr.extend({ref:S.union([vq,hq]),argument:S.object({name:S.string(),value:S.string()}).passthrough(),context:S.optional(S.object({arguments:S.optional(S.record(S.string(),S.string()))}))})}),yq=Ar.extend({completion:S.object({values:S.array(S.string()).max(100),total:S.optional(S.number().int()),hasMore:S.optional(S.boolean())}).passthrough()}),xq=S.object({uri:S.string().startsWith("file://"),name:S.optional(S.string()),_meta:S.optional(S.object({}).passthrough())}).passthrough(),bq=tr.extend({method:S.literal("roots/list")}),_q=Ar.extend({roots:S.array(xq)}),wq=us.extend({method:S.literal("notifications/roots/list_changed")}),wK=S.union([U_,SU,gq,tq,BU,qU,OU,AU,DU,NU,FU,YU,QU]),SK=S.union([j_,q_,RU,wq]),EK=S.union([F_,oq,mq,_q]),PK=S.union([U_,iq,fq,bq]),RK=S.union([j_,q_,rq,jU,$U,eq,ZU]),CK=S.union([F_,PU,yq,WU,zU,kU,IU,LU,W_,XU]);var TK=SN(aF(),1);var OK=Symbol("Let zodToJsonSchema decide on which parser to use");var kK=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");var af;(function(t){t.Completable="McpCompletable"})(af||(af={}));var il=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}};il.create=(t,e)=>new il({type:t,typeName:af.Completable,complete:e.complete,...Sq(e)});function Sq(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:s,description:a}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(n,o)=>{var l,c;let{message:u}=t;return n.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??s)!==null&&l!==void 0?l:o.defaultError}:n.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:o.defaultError}},description:a}}function K_({prompt:t,options:e}){console.warn("The Claude Code SDK is now the Claude Agent SDK! Please install and use @anthropic-ai/claude-agent-sdk instead. This SDK entrypoint will be going away on October 21. See https://docs.claude.com/en/docs/claude-code/sdk/migration-guide for migration instructions.");let r=e?.pathToClaudeCodeExecutable;if(!r){let s=(0,p_.fileURLToPath)(Eq.url),a=(0,Zd.join)(s,"..");r=(0,Zd.join)(a,"cli.js")}return oM({prompt:t,options:{...e,pathToClaudeCodeExecutable:r}})}var Kr=require("path");var sa=ae(require("vscode"),1);var Va=ae(require("vscode"),1);function ti(){return Va.window.tabGroups.all.flatMap(t=>t.tabs)}function ri(t,e){return new Promise((r,s)=>{let a,i=setInterval(()=>{let n=t();n&&(clearInterval(i),a&&clearTimeout(a),r(n))},100);e&&(a=setTimeout(()=>{clearInterval(i),s(new Error(`Timeout waiting after ${e}ms`))},e))})}async function Ga(t,e){if(!t)return;let r=t.input;if(r instanceof Va.TabInputTextDiff)try{await(await Va.workspace.openTextDocument(r.modified)).save()}catch(s){e.error("Error saving modified file:",s)}try{await Va.window.tabGroups.close(t)}catch{}}async function J_(t,e,r,s,a,i,n){let o=[],c=`${a||"Claude Code"} (${Math.random().toString(36).substring(2,8)})`,u=[],p;if(i){let m=`/temp/${c}`,v=r.createFile(m,s).uri;p=await sa.workspace.openTextDocument(v),t.info("Editable uri: ",v.toString());let g=new Promise(w=>{o.push(sa.workspace.onWillSaveTextDocument(R=>{if(R.document.uri.toString()===v.toString()){let C=R.document.getText();w(C)}}))});sa.workspace.getConfiguration("files").get("autoSave")==="off"?(t.info("files.autoSave is off, waiting for file save"),u.push(g)):t.info("files.autoSave is on, cannot save to exit");let b={preview:!1,preserveFocus:!0};await sa.window.showTextDocument(p,b)}else{let m=`/temp/readonly/${c}`,f=e.createFile(m,s);p=await sa.workspace.openTextDocument(f),await sa.window.showTextDocument(p,{preview:!1})}let h=await ri(()=>ti().find(m=>m.label===c),1e3);n?.addEventListener("abort",()=>{Ga(h,t)});let d=ri(()=>!ti().some(m=>m.label===c)).then(()=>{if(t.info("Tab closed",c),i)return p.getText()});return u.push(d),await Promise.race(u).finally(()=>{o.forEach(m=>m.dispose())}).then(m=>(t.info("File save operation completed",m),m)).finally(()=>{Ga(h,t)})}var _t=ae(require("vscode"),1),uw=ae(require("fs"),1);function Vr(){}Vr.prototype={diff:function(e,r){var s,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=a.callback;typeof a=="function"&&(i=a,a={});var n=this;function o(R){return R=n.postProcess(R,a),i?(setTimeout(function(){i(R)},0),!0):R}e=this.castInput(e,a),r=this.castInput(r,a),e=this.removeEmpty(this.tokenize(e,a)),r=this.removeEmpty(this.tokenize(r,a));var l=r.length,c=e.length,u=1,p=l+c;a.maxEditLength!=null&&(p=Math.min(p,a.maxEditLength));var h=(s=a.timeout)!==null&&s!==void 0?s:1/0,d=Date.now()+h,m=[{oldPos:-1,lastComponent:void 0}],f=this.extractCommon(m[0],r,e,0,a);if(m[0].oldPos+1>=c&&f+1>=l)return o(Q_(n,m[0].lastComponent,r,e,n.useLongestToken));var v=-1/0,g=1/0;function b(){for(var R=Math.max(v,-u);R<=Math.min(g,u);R+=2){var C=void 0,P=m[R-1],T=m[R+1];P&&(m[R-1]=void 0);var $=!1;if(T){var D=T.oldPos-R;$=T&&0<=D&&D<l}var j=P&&P.oldPos+1<c;if(!$&&!j){m[R]=void 0;continue}if(!j||$&&P.oldPos<T.oldPos?C=n.addToPath(T,!0,!1,0,a):C=n.addToPath(P,!1,!0,1,a),f=n.extractCommon(C,r,e,R,a),C.oldPos+1>=c&&f+1>=l)return o(Q_(n,C.lastComponent,r,e,n.useLongestToken));m[R]=C,C.oldPos+1>=c&&(g=Math.min(g,R-1)),f+1>=l&&(v=Math.max(v,R+1))}u++}if(i)(function R(){setTimeout(function(){if(u>p||Date.now()>d)return i();b()||R()},0)})();else for(;u<=p&&Date.now()<=d;){var w=b();if(w)return w}},addToPath:function(e,r,s,a,i){var n=e.lastComponent;return n&&!i.oneChangePerToken&&n.added===r&&n.removed===s?{oldPos:e.oldPos+a,lastComponent:{count:n.count+1,added:r,removed:s,previousComponent:n.previousComponent}}:{oldPos:e.oldPos+a,lastComponent:{count:1,added:r,removed:s,previousComponent:n}}},extractCommon:function(e,r,s,a,i){for(var n=r.length,o=s.length,l=e.oldPos,c=l-a,u=0;c+1<n&&l+1<o&&this.equals(s[l+1],r[c+1],i);)c++,l++,u++,i.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return u&&!i.oneChangePerToken&&(e.lastComponent={count:u,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=l,c},equals:function(e,r,s){return s.comparator?s.comparator(e,r):e===r||s.ignoreCase&&e.toLowerCase()===r.toLowerCase()},removeEmpty:function(e){for(var r=[],s=0;s<e.length;s++)e[s]&&r.push(e[s]);return r},castInput:function(e){return e},tokenize:function(e){return Array.from(e)},join:function(e){return e.join("")},postProcess:function(e){return e}};function Q_(t,e,r,s,a){for(var i=[],n;e;)i.push(e),n=e.previousComponent,delete e.previousComponent,e=n;i.reverse();for(var o=0,l=i.length,c=0,u=0;o<l;o++){var p=i[o];if(p.removed)p.value=t.join(s.slice(u,u+p.count)),u+=p.count;else{if(!p.added&&a){var h=r.slice(c,c+p.count);h=h.map(function(d,m){var f=s[u+m];return f.length>d.length?f:d}),p.value=t.join(h)}else p.value=t.join(r.slice(c,c+p.count));c+=p.count,p.added||(u+=p.count)}}return i}var $K=new Vr;function X_(t,e){var r;for(r=0;r<t.length&&r<e.length;r++)if(t[r]!=e[r])return t.slice(0,r);return t.slice(0,r)}function Y_(t,e){var r;if(!t||!e||t[t.length-1]!=e[e.length-1])return"";for(r=0;r<t.length&&r<e.length;r++)if(t[t.length-(r+1)]!=e[e.length-(r+1)])return t.slice(-r);return t.slice(-r)}function vf(t,e,r){if(t.slice(0,e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't start with prefix ").concat(JSON.stringify(e),"; this is a bug"));return r+t.slice(e.length)}function gf(t,e,r){if(!e)return t+r;if(t.slice(-e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't end with suffix ").concat(JSON.stringify(e),"; this is a bug"));return t.slice(0,-e.length)+r}function go(t,e){return vf(t,e,"")}function fl(t,e){return gf(t,e,"")}function ew(t,e){return e.slice(0,Pq(t,e))}function Pq(t,e){var r=0;t.length>e.length&&(r=t.length-e.length);var s=e.length;t.length<e.length&&(s=t.length);var a=Array(s),i=0;a[0]=0;for(var n=1;n<s;n++){for(e[n]==e[i]?a[n]=a[i]:a[n]=i;i>0&&e[n]!=e[i];)i=a[i];e[n]==e[i]&&i++}i=0;for(var o=r;o<t.length;o++){for(;i>0&&t[o]!=e[i];)i=a[i];t[o]==e[i]&&i++}return i}var ml="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Rq=new RegExp("[".concat(ml,"]+|\\s+|[^").concat(ml,"]"),"ug"),hl=new Vr;hl.equals=function(t,e,r){return r.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t.trim()===e.trim()};hl.tokenize=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(e.intlSegmenter){if(e.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(e.intlSegmenter.segment(t),function(i){return i.segment})}else r=t.match(Rq)||[];var s=[],a=null;return r.forEach(function(i){/\s/.test(i)?a==null?s.push(i):s.push(s.pop()+i):/\s/.test(a)?s[s.length-1]==a?s.push(s.pop()+i):s.push(a+i):s.push(i),a=i}),s};hl.join=function(t){return t.map(function(e,r){return r==0?e:e.replace(/^\s+/,"")}).join("")};hl.postProcess=function(t,e){if(!t||e.oneChangePerToken)return t;var r=null,s=null,a=null;return t.forEach(function(i){i.added?s=i:i.removed?a=i:((s||a)&&tw(r,a,s,i),r=i,s=null,a=null)}),(s||a)&&tw(r,a,s,null),t};function tw(t,e,r,s){if(e&&r){var a=e.value.match(/^\s*/)[0],i=e.value.match(/\s*$/)[0],n=r.value.match(/^\s*/)[0],o=r.value.match(/\s*$/)[0];if(t){var l=X_(a,n);t.value=gf(t.value,n,l),e.value=go(e.value,l),r.value=go(r.value,l)}if(s){var c=Y_(i,o);s.value=vf(s.value,o,c),e.value=fl(e.value,c),r.value=fl(r.value,c)}}else if(r)t&&(r.value=r.value.replace(/^\s*/,"")),s&&(s.value=s.value.replace(/^\s*/,""));else if(t&&s){var u=s.value.match(/^\s*/)[0],p=e.value.match(/^\s*/)[0],h=e.value.match(/\s*$/)[0],d=X_(u,p);e.value=go(e.value,d);var m=Y_(go(u,d),h);e.value=fl(e.value,m),s.value=vf(s.value,u,m),t.value=gf(t.value,u,u.slice(0,u.length-m.length))}else if(s){var f=s.value.match(/^\s*/)[0],v=e.value.match(/\s*$/)[0],g=ew(v,f);e.value=fl(e.value,g)}else if(t){var b=t.value.match(/\s*$/)[0],w=e.value.match(/^\s*/)[0],R=ew(b,w);e.value=go(e.value,R)}}var Cq=new Vr;Cq.tokenize=function(t){var e=new RegExp("(\\r?\\n)|[".concat(ml,"]+|[^\\S\\n\\r]+|[^").concat(ml,"]"),"ug");return t.match(e)||[]};var vl=new Vr;vl.tokenize=function(t,e){e.stripTrailingCr&&(t=t.replace(/\r\n/g,`
`));var r=[],s=t.split(/(\n|\r\n)/);s[s.length-1]||s.pop();for(var a=0;a<s.length;a++){var i=s[a];a%2&&!e.newlineIsToken?r[r.length-1]+=i:r.push(i)}return r};vl.equals=function(t,e,r){return r.ignoreWhitespace?((!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim()),(!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(t.endsWith(`
`)&&(t=t.slice(0,-1)),e.endsWith(`
`)&&(e=e.slice(0,-1))),Vr.prototype.equals.call(this,t,e,r)};function rw(t,e,r){return vl.diff(t,e,r)}var Tq=new Vr;Tq.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var Oq=new Vr;Oq.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};function sw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function aw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sw(Object(r),!0).forEach(function(s){Iq(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sw(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function kq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aq(t){var e=kq(t,"string");return typeof e=="symbol"?e:e+""}function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function Iq(t,e,r){return e=Aq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hf(t){return Dq(t)||Lq(t)||$q(t)||Nq()}function Dq(t){if(Array.isArray(t))return xf(t)}function Lq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $q(t,e){if(t){if(typeof t=="string")return xf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xf(t,e)}}function xf(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function Nq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var yo=new Vr;yo.useLongestToken=!0;yo.tokenize=vl.tokenize;yo.castInput=function(t,e){var r=e.undefinedReplacement,s=e.stringifyReplacer,a=s===void 0?function(i,n){return typeof n>"u"?r:n}:s;return typeof t=="string"?t:JSON.stringify(bf(t,null,null,a),a,"  ")};yo.equals=function(t,e,r){return Vr.prototype.equals.call(yo,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"),r)};function bf(t,e,r,s,a){e=e||[],r=r||[],s&&(t=s(a,t));var i;for(i=0;i<e.length;i+=1)if(e[i]===t)return r[i];var n;if(Object.prototype.toString.call(t)==="[object Array]"){for(e.push(t),n=new Array(t.length),r.push(n),i=0;i<t.length;i+=1)n[i]=bf(t[i],e,r,s,a);return e.pop(),r.pop(),n}if(t&&t.toJSON&&(t=t.toJSON()),yf(t)==="object"&&t!==null){e.push(t),n={},r.push(n);var o=[],l;for(l in t)Object.prototype.hasOwnProperty.call(t,l)&&o.push(l);for(o.sort(),i=0;i<o.length;i+=1)l=o[i],n[l]=bf(t[l],e,r,s,l);e.pop(),r.pop()}else n=t;return n}var _f=new Vr;_f.tokenize=function(t){return t.slice()};_f.join=_f.removeEmpty=function(t){return t};function nw(t,e,r,s,a,i,n){if(n||(n={}),typeof n=="function"&&(n={callback:n}),typeof n.context>"u"&&(n.context=4),n.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(n.callback){var o=n,l=o.callback;rw(r,s,aw(aw({},n),{},{callback:function(p){var h=c(p);l(h)}}))}else return c(rw(r,s,n));function c(u){if(!u)return;u.push({value:"",lines:[]});function p($){return $.map(function(D){return" "+D})}for(var h=[],d=0,m=0,f=[],v=1,g=1,b=function(){var D=u[w],j=D.lines||Fq(D.value);if(D.lines=j,D.added||D.removed){var I;if(!d){var k=u[w-1];d=v,m=g,k&&(f=n.context>0?p(k.lines.slice(-n.context)):[],d-=f.length,m-=f.length)}(I=f).push.apply(I,hf(j.map(function(H){return(D.added?"+":"-")+H}))),D.added?g+=j.length:v+=j.length}else{if(d)if(j.length<=n.context*2&&w<u.length-2){var A;(A=f).push.apply(A,hf(p(j)))}else{var L,q=Math.min(j.length,n.context);(L=f).push.apply(L,hf(p(j.slice(0,q))));var V={oldStart:d,oldLines:v-d+q,newStart:m,newLines:g-m+q,lines:f};h.push(V),d=0,m=0,f=[]}v+=j.length,g+=j.length}},w=0;w<u.length;w++)b();for(var R=0,C=h;R<C.length;R++)for(var P=C[R],T=0;T<P.lines.length;T++)P.lines[T].endsWith(`
`)?P.lines[T]=P.lines[T].slice(0,-1):(P.lines.splice(T+1,0,"\\ No newline at end of file"),T++);return{oldFileName:t,newFileName:e,oldHeader:a,newHeader:i,hunks:h}}}function Fq(t){var e=t.endsWith(`
`),r=t.split(`
`).map(function(s){return s+`
`});return e?r.pop():r.push(r.pop().slice(0,-1)),r}function ow(t,e){let r=t,s=[];if(!t&&e.length===1&&e[0]&&e[0].oldString===""&&e[0].newString==="")return"";for(let a of e){let i=a.oldString.replace(/\n+$/,"");for(let o of s)if(i!==""&&o.includes(i))throw new Error("Cannot edit file: old_string is a substring of a new_string from a previous edit.");let n=r;if(a.oldString===""?r=a.newString:r=jq(r,a.oldString,a.newString,a.replaceAll),r===n)throw new Error("String not found in file. Failed to apply edit.");s.push(a.newString)}if(r===t)throw new Error("Original and edited file match exactly. Failed to apply edit.");return r}function jq(t,e,r,s=!1){let a=s?(n,o,l)=>n.replaceAll(o,()=>l):(n,o,l)=>n.replace(o,()=>l);return r!==""?a(t,e,r):!e.endsWith(`
`)&&t.includes(e+`
`)?a(t,e+`
`,r):a(t,e,r)}function wf(t,e,r,s){let i=zq({filePath:t,oldContent:e,newContent:r,singleHunk:s==="single"});return i.length===0?[]:Mq(i)}function Mq(t){return t.map(e=>{let r=[],s=[],a=[];for(let i of e.lines)i.startsWith(" ")?(r.push(i.slice(1)),s.push(i.slice(1)),a.push(i.slice(1))):i.startsWith("-")?s.push(i.slice(1)):i.startsWith("+")&&a.push(i.slice(1));return{oldString:s.join(`
`),newString:a.join(`
`),replaceAll:!1}})}var cw="<<:AMPERSAND_TOKEN:>>",lw="<<:DOLLAR_TOKEN:>>";function iw(t){return t.replaceAll("&",cw).replaceAll("$",lw)}function Uq(t){return t.replaceAll(cw,"&").replaceAll(lw,"$")}var qq=3;function zq({filePath:t,oldContent:e,newContent:r,ignoreWhitespace:s=!1,singleHunk:a=!1}){return nw(t,t,iw(e),iw(r),void 0,void 0,{ignoreWhitespace:s,context:a?1e5:qq}).hunks.map(i=>({...i,lines:i.lines.map(Uq)}))}async function pw(t,e,r,s,a,i,n,o,l){let c=s.split("/").pop()||s,u=a.split("/").pop()||a,h=`Claude\u2018s edit: ${c===u?c:`${c} \u2192 ${u}`} (${Math.random().toString(36).substring(2,8)})`;t.info("diff from",s,"to",a,"as",h),dw.push(h);let d=_t.Uri.file(s),m="";try{let V=await _t.workspace.openTextDocument(d);V.isDirty?(m=uw.readFileSync(s,"utf8"),d=e.createFile(s,m).uri):m=V.getText()}catch{t.info("leftTempFileProvider.createFile",s),d=e.createFile(s,"").uri}let f=ow(m,i),g=r.createFile(a,f).uri,b=await _t.workspace.openTextDocument(g);await Bq(t)>0&&await new Promise(V=>setTimeout(V,200));let R=f,C=f,P;_t.workspace.onDidChangeTextDocument(V=>{V.document.uri.toString()===g.toString()&&(R=C,C=V.document.getText(),V.contentChanges.length>3&&V.reason!==_t.TextDocumentChangeReason.Undo&&V.reason!==_t.TextDocumentChangeReason.Redo&&(P={time:Date.now(),contents:R}))});let T=[],$=new Promise(V=>{T.push(_t.workspace.onWillSaveTextDocument(H=>{if(H.document.uri.toString()===g.toString()){let G=H.document.getText();P&&Date.now()-P.time<500&&(G=P.contents),V(G)}}))}),D=new Promise(V=>{T.push(o(H=>{H.activeTab&&H.activeTab.label===h&&V(H)}))}).then(V=>{if(V.accepted)return t.info("diff_accepted",h),wf(a,m,b.getText(),n?"multiple":"single")}),j={preview:!1,preserveFocus:!0},I=await _t.commands.executeCommand("vscode.diff",d,g,h,j);t.info("diff result",I,h,d,g,j);let k=await ri(()=>ti().find(V=>V.label===h),1e3);l?.addEventListener("abort",()=>{Ga(k,t)});let A=ri(()=>!ti().some(V=>V.label===h)).then(()=>{t.info("tab_closed",h)}),L=$.then(async V=>wf(a,m,V,n?"multiple":"single")),q=[A,D];return _t.workspace.getConfiguration("files").get("autoSave")==="off"?(t.info("files.autoSave is off, waiting for file save"),q.push(L)):t.info("files.autoSave is on, need explicit accept"),await Promise.race(q).finally(()=>{T.forEach(V=>V.dispose())}).then(V=>(t.info("diff operation completed",V),V)).finally(()=>{Ga(k,t)})}var dw=[];async function Bq(t){let e=0;t.info("Closing all diff tabs in the editor...");for(let r of _t.window.tabGroups.all)for(let s of r.tabs)s.input instanceof _t.TabInputTextDiff&&dw.includes(s.label)&&(await Ga(s,t),e++);return t.info(`Closed ${e} diff tabs.`),e}function fw(t){let e=new _t.EventEmitter;return t.push(_t.commands.registerCommand("claude-vscode.acceptProposedDiff",async()=>{let r=_t.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!0,activeTab:r})})),t.push(_t.commands.registerCommand("claude-vscode.rejectProposedDiff",async()=>{let r=_t.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!1,activeTab:r})})),e.event}var aa=ae(require("vscode"),1);var gl=ae(require("vscode"),1);var mw=require("node:child_process");function hw(t){let e=t;if(t.startsWith("file://")&&(e=t.substring(7)),!e.startsWith("/")||/^\/[a-zA-Z]:/.test(e))return t;try{return(0,mw.execFileSync)("wsl.exe",["-e","wslpath","-w",e],{encoding:"utf8",stdio:["pipe","pipe","ignore"]}).trim()}catch{return t}}function vw(t){if(process.platform==="win32"){let e=hw(t);return e.startsWith("file://")?gl.Uri.parse(e):gl.Uri.file(e)}else return gl.Uri.parse(t)}function Hq(t){return t.map(e=>({message:e.message,severity:aa.DiagnosticSeverity[e.severity],range:{start:{line:e.range.start.line,character:e.range.start.character},end:{line:e.range.end.line,character:e.range.end.character}},source:e.source,code:e.code?.toString()}))}function xo(t){return(t?(()=>{let r=vw(t);return[[r,aa.languages.getDiagnostics(r)]]})():aa.languages.getDiagnostics()).map(([r,s])=>({uri:r.toString(!0),linesInFile:Vq(r),diagnostics:Hq(s)}))}function Vq(t){try{return aa.workspace.textDocuments.find(r=>r.uri.toString()===t.toString())?.lineCount}catch{return}}var yl=class t{static instance;listener;clients;clientCounter;output;constructor(e){this.clients=new Map,this.clientCounter=0,this.output=e}static getInstance(e){return t.instance||(t.instance=new t(e)),t.instance}registerClient(e){let r=`client_${this.clientCounter++}`;return this.clients.set(r,e),this.startStreaming(),r}unregisterClient(e){this.clients.delete(e)&&(this.output.info(`[DiagnosticStreamManager] Unregistered client ${e}. Total clients: ${this.clients.size}`),this.clients.size===0&&this.stopStreaming())}startStreaming(){this.listener||(this.listener=aa.languages.onDidChangeDiagnostics(e=>{this.notifyDiagnosticsChanged(e.uris)}),this.output.info("[DiagnosticStreamManager] Started streaming diagnostics"))}stopStreaming(){this.listener&&(this.listener.dispose(),this.listener=void 0,this.output.info("[DiagnosticStreamManager] Stopped streaming diagnostics"))}notifyDiagnosticsChanged(e){if(this.clients.size===0)return;let r=e.map(s=>s.toString());this.output.info(`[DiagnosticStreamManager] Notifying ${this.clients.size} clients about diagnostics change for ${e.length} files`),this.clients.forEach((s,a)=>{try{s(r)}catch(i){this.output.error(`[DiagnosticStreamManager] Error notifying client ${a}: ${i}`)}})}dispose(){this.clients.clear(),this.stopStreaming()}};var bl=ae(require("vscode"),1),xl=class{constructor(e){this.logger=e}baselineDiagnostics=new Map;async captureBaseline(e){try{if(e.hook_event_name!=="PreToolUse")return{continue:!0};let r=this.extractFilePath(e);if(r&&typeof r=="string"){let s=xo(r);this.baselineDiagnostics.set(r,s),this.logger.log(`[DiagnosticTracking] Captured baseline diagnostics for ${r}: ${s.length} files`)}}catch(r){this.logger.error(`[DiagnosticTracking] Error capturing baseline diagnostics: ${r}`)}return{continue:!0}}async findDiagnosticsProblems(e){try{if(e.hook_event_name!=="PostToolUse")return{continue:!0};let r=this.extractFilePath(e);if(r&&typeof r=="string"){let s=bl.Uri.file(r),a=bl.window.visibleTextEditors.some(o=>o.document.uri.toString()===s.toString()),i=this.baselineDiagnostics.get(r)||[],n=a?[750,750]:[1e3];for(let o=0;o<n.length;o++){await new Promise(u=>setTimeout(u,n[o]));let l=xo(r),c=this.findNewDiagnostics(i,l);if(c.length>0){this.logger.log(`[DiagnosticTracking] Found ${c.length} new diagnostics for ${r} at ${o+1}s`);let u=this.formatDiagnosticsSummary(c);return this.baselineDiagnostics.delete(r),{continue:!0,hookSpecificOutput:{hookEventName:"PostToolUse",additionalContext:`<ide_diagnostics>${u}</ide_diagnostics>`}}}}this.logger.log(`[DiagnosticTracking] No new diagnostics found for ${r}`),this.baselineDiagnostics.delete(r)}}catch(r){this.logger.error(`[DiagnosticTracking] Error tracking post-tool diagnostics: ${r}`)}return{continue:!0}}extractFilePath(e){if((e.hook_event_name==="PreToolUse"||e.hook_event_name==="PostToolUse")&&(e.tool_name==="Edit"||e.tool_name==="MultiEdit"||e.tool_name==="Write"))return e.tool_input?.file_path}findNewDiagnostics(e,r){let s=[];for(let a of r){let i=e.find(n=>n.uri===a.uri);if(!i)s.push(a);else{let n=i.linesInFile!==void 0&&a.linesInFile!==void 0?Math.abs(i.linesInFile-a.linesInFile):0,o=a.diagnostics.filter(l=>!i.diagnostics.some(c=>this.areDiagnosticsEqual(l,c,n)));o.length>0&&s.push({uri:a.uri,linesInFile:a.linesInFile,diagnostics:o})}}return s}areDiagnosticsEqual(e,r,s){let a=Math.abs((e.range?.start?.line??0)-(r.range?.start?.line??0)),i=Math.abs((e.range?.end?.line??0)-(r.range?.end?.line??0));return e.message===r.message&&e.severity===r.severity&&e.source===r.source&&e.code===r.code&&a<=s&&i<=s&&e.range?.start?.character===r.range?.start?.character&&e.range?.end?.character===r.range?.end?.character}formatDiagnosticsSummary(e){let r=e.flatMap(s=>s.diagnostics.map(a=>({filePath:this.normalizeFileUri(s.uri),line:a.range?.start?.line!==void 0?a.range.start.line+1:0,column:a.range?.start?.character!==void 0?a.range.start.character+1:0,message:a.message,code:a.code||"",severity:a.severity||""})));return JSON.stringify(r,null,2)}normalizeFileUri(e){let r=["file://","_claude_fs_right:","_claude_fs_left:"];for(let s of r)if(e.startsWith(s))return e.slice(s.length);return e}};var Ql=ae(require("path"),1),ar=ae(require("fs"),1),wP=require("child_process"),SP=ae(Rf(),1);var jo=ae(require("crypto"),1),nP=ae(require("http"),1);function bo(t,e){return function(){return t.apply(e,arguments)}}var{toString:e2}=Object.prototype,{getPrototypeOf:Tf}=Object,wl=(t=>e=>{let r=e2.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Gr=t=>(t=t.toLowerCase(),e=>wl(e)===t),Sl=t=>e=>typeof e===t,{isArray:si}=Array,_o=Sl("undefined");function t2(t){return t!==null&&!_o(t)&&t.constructor!==null&&!_o(t.constructor)&&xr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var Cw=Gr("ArrayBuffer");function r2(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Cw(t.buffer),e}var s2=Sl("string"),xr=Sl("function"),Tw=Sl("number"),El=t=>t!==null&&typeof t=="object",a2=t=>t===!0||t===!1,_l=t=>{if(wl(t)!=="object")return!1;let e=Tf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},n2=Gr("Date"),i2=Gr("File"),o2=Gr("Blob"),c2=Gr("FileList"),l2=t=>El(t)&&xr(t.pipe),u2=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||xr(t.append)&&((e=wl(t))==="formdata"||e==="object"&&xr(t.toString)&&t.toString()==="[object FormData]"))},p2=Gr("URLSearchParams"),[d2,f2,m2,h2]=["ReadableStream","Request","Response","Headers"].map(Gr),v2=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wo(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let s,a;if(typeof t!="object"&&(t=[t]),si(t))for(s=0,a=t.length;s<a;s++)e.call(null,t[s],s,t);else{let i=r?Object.getOwnPropertyNames(t):Object.keys(t),n=i.length,o;for(s=0;s<n;s++)o=i[s],e.call(null,t[o],o,t)}}function Ow(t,e){e=e.toLowerCase();let r=Object.keys(t),s=r.length,a;for(;s-- >0;)if(a=r[s],e===a.toLowerCase())return a;return null}var Za=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,kw=t=>!_o(t)&&t!==Za;function Cf(){let{caseless:t}=kw(this)&&this||{},e={},r=(s,a)=>{let i=t&&Ow(e,a)||a;_l(e[i])&&_l(s)?e[i]=Cf(e[i],s):_l(s)?e[i]=Cf({},s):si(s)?e[i]=s.slice():e[i]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&wo(arguments[s],r);return e}var g2=(t,e,r,{allOwnKeys:s}={})=>(wo(e,(a,i)=>{r&&xr(a)?t[i]=bo(a,r):t[i]=a},{allOwnKeys:s}),t),y2=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),x2=(t,e,r,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},b2=(t,e,r,s)=>{let a,i,n,o={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)n=a[i],(!s||s(n,t,e))&&!o[n]&&(e[n]=t[n],o[n]=!0);t=r!==!1&&Tf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},_2=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let s=t.indexOf(e,r);return s!==-1&&s===r},w2=t=>{if(!t)return null;if(si(t))return t;let e=t.length;if(!Tw(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},S2=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Tf(Uint8Array)),E2=(t,e)=>{let s=(t&&t[Symbol.iterator]).call(t),a;for(;(a=s.next())&&!a.done;){let i=a.value;e.call(t,i[0],i[1])}},P2=(t,e)=>{let r,s=[];for(;(r=t.exec(e))!==null;)s.push(r);return s},R2=Gr("HTMLFormElement"),C2=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),Rw=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),T2=Gr("RegExp"),Aw=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),s={};wo(r,(a,i)=>{let n;(n=e(a,i,t))!==!1&&(s[i]=n||a)}),Object.defineProperties(t,s)},O2=t=>{Aw(t,(e,r)=>{if(xr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let s=t[r];if(xr(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},k2=(t,e)=>{let r={},s=a=>{a.forEach(i=>{r[i]=!0})};return si(t)?s(t):s(String(t).split(e)),r},A2=()=>{},I2=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function D2(t){return!!(t&&xr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var L2=t=>{let e=new Array(10),r=(s,a)=>{if(El(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[a]=s;let i=si(s)?[]:{};return wo(s,(n,o)=>{let l=r(n,a+1);!_o(l)&&(i[o]=l)}),e[a]=void 0,i}}return s};return r(t,0)},$2=Gr("AsyncFunction"),N2=t=>t&&(El(t)||xr(t))&&xr(t.then)&&xr(t.catch),Iw=((t,e)=>t?setImmediate:e?((r,s)=>(Za.addEventListener("message",({source:a,data:i})=>{a===Za&&i===r&&s.length&&s.shift()()},!1),a=>{s.push(a),Za.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",xr(Za.postMessage)),F2=typeof queueMicrotask<"u"?queueMicrotask.bind(Za):typeof process<"u"&&process.nextTick||Iw,U={isArray:si,isArrayBuffer:Cw,isBuffer:t2,isFormData:u2,isArrayBufferView:r2,isString:s2,isNumber:Tw,isBoolean:a2,isObject:El,isPlainObject:_l,isReadableStream:d2,isRequest:f2,isResponse:m2,isHeaders:h2,isUndefined:_o,isDate:n2,isFile:i2,isBlob:o2,isRegExp:T2,isFunction:xr,isStream:l2,isURLSearchParams:p2,isTypedArray:S2,isFileList:c2,forEach:wo,merge:Cf,extend:g2,trim:v2,stripBOM:y2,inherits:x2,toFlatObject:b2,kindOf:wl,kindOfTest:Gr,endsWith:_2,toArray:w2,forEachEntry:E2,matchAll:P2,isHTMLForm:R2,hasOwnProperty:Rw,hasOwnProp:Rw,reduceDescriptors:Aw,freezeMethods:O2,toObjectSet:k2,toCamelCase:C2,noop:A2,toFiniteNumber:I2,findKey:Ow,global:Za,isContextDefined:kw,isSpecCompliantForm:D2,toJSONObject:L2,isAsyncFn:$2,isThenable:N2,setImmediate:Iw,asap:F2};function ai(t,e,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}U.inherits(ai,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});var Dw=ai.prototype,Lw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Lw[t]={value:t}});Object.defineProperties(ai,Lw);Object.defineProperty(Dw,"isAxiosError",{value:!0});ai.from=(t,e,r,s,a,i)=>{let n=Object.create(Dw);return U.toFlatObject(t,n,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),ai.call(n,t.message,e,r,s,a),n.cause=t,n.name=t.name,i&&Object.assign(n,i),n};var oe=ai;var jS=ae(FS(),1),Ll=jS.default;function Kf(t){return U.isPlainObject(t)||U.isArray(t)}function US(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function MS(t,e,r){return t?t.concat(e).map(function(a,i){return a=US(a),!r&&i?"["+a+"]":a}).join(r?".":""):e}function _4(t){return U.isArray(t)&&!t.some(Kf)}var w4=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function S4(t,e,r){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new(Ll||FormData),r=U.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,v){return!U.isUndefined(v[f])});let s=r.metaTokens,a=r.visitor||u,i=r.dots,n=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(a))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(U.isDate(m))return m.toISOString();if(!l&&U.isBlob(m))throw new oe("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(m)||U.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,f,v){let g=m;if(m&&!v&&typeof m=="object"){if(U.endsWith(f,"{}"))f=s?f:f.slice(0,-2),m=JSON.stringify(m);else if(U.isArray(m)&&_4(m)||(U.isFileList(m)||U.endsWith(f,"[]"))&&(g=U.toArray(m)))return f=US(f),g.forEach(function(w,R){!(U.isUndefined(w)||w===null)&&e.append(n===!0?MS([f],R,i):n===null?f:f+"[]",c(w))}),!1}return Kf(m)?!0:(e.append(MS(v,f,i),c(m)),!1)}let p=[],h=Object.assign(w4,{defaultVisitor:u,convertValue:c,isVisitable:Kf});function d(m,f){if(!U.isUndefined(m)){if(p.indexOf(m)!==-1)throw Error("Circular reference detected in "+f.join("."));p.push(m),U.forEach(m,function(g,b){(!(U.isUndefined(g)||g===null)&&a.call(e,g,U.isString(b)?b.trim():b,f,h))===!0&&d(g,f?f.concat(b):[b])}),p.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return d(t),e}var na=S4;function qS(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function zS(t,e){this._pairs=[],t&&na(t,this,e)}var BS=zS.prototype;BS.append=function(e,r){this._pairs.push([e,r])};BS.toString=function(e){let r=e?function(s){return e.call(this,s,qS)}:qS;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};var HS=zS;function E4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ja(t,e,r){if(!e)return t;let s=r&&r.encode||E4;U.isFunction(r)&&(r={serialize:r});let a=r&&r.serialize,i;if(a?i=a(e,r):i=U.isURLSearchParams(e)?e.toString():new HS(e,r).toString(s),i){let n=t.indexOf("#");n!==-1&&(t=t.slice(0,n)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}var Jf=class{constructor(){this.handlers=[]}use(e,r,s){return this.handlers.push({fulfilled:e,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(s){s!==null&&e(s)})}},Qf=Jf;var li={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var ZS=ae(require("crypto"),1);var VS=ae(require("url"),1),GS=VS.default.URLSearchParams;var Xf="abcdefghijklmnopqrstuvwxyz",WS="0123456789",KS={DIGIT:WS,ALPHA:Xf,ALPHA_DIGIT:Xf+Xf.toUpperCase()+WS},P4=(t=16,e=KS.ALPHA_DIGIT)=>{let r="",{length:s}=e,a=new Uint32Array(t);ZS.default.randomFillSync(a);for(let i=0;i<t;i++)r+=e[a[i]%s];return r},JS={isNode:!0,classes:{URLSearchParams:GS,FormData:Ll,Blob:typeof Blob<"u"&&Blob||null},ALPHABET:KS,generateString:P4,protocols:["http","https","file","data"]};var tm={};wp(tm,{hasBrowserEnv:()=>em,hasStandardBrowserEnv:()=>R4,hasStandardBrowserWebWorkerEnv:()=>C4,navigator:()=>Yf,origin:()=>T4});var em=typeof window<"u"&&typeof document<"u",Yf=typeof navigator=="object"&&navigator||void 0,R4=em&&(!Yf||["ReactNative","NativeScript","NS"].indexOf(Yf.product)<0),C4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",T4=em&&window.location.href||"http://localhost";var lt={...tm,...JS};function rm(t,e){return na(t,new lt.classes.URLSearchParams,Object.assign({visitor:function(r,s,a,i){return lt.isNode&&U.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function O4(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function k4(t){let e={},r=Object.keys(t),s,a=r.length,i;for(s=0;s<a;s++)i=r[s],e[i]=t[i];return e}function A4(t){function e(r,s,a,i){let n=r[i++];if(n==="__proto__")return!0;let o=Number.isFinite(+n),l=i>=r.length;return n=!n&&U.isArray(a)?a.length:n,l?(U.hasOwnProp(a,n)?a[n]=[a[n],s]:a[n]=s,!o):((!a[n]||!U.isObject(a[n]))&&(a[n]=[]),e(r,s,a[n],i)&&U.isArray(a[n])&&(a[n]=k4(a[n])),!o)}if(U.isFormData(t)&&U.isFunction(t.entries)){let r={};return U.forEachEntry(t,(s,a)=>{e(O4(s),a,r,0)}),r}return null}var $l=A4;function I4(t,e,r){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(t)}var sm={transitional:li,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){let s=r.getContentType()||"",a=s.indexOf("application/json")>-1,i=U.isObject(e);if(i&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return a?JSON.stringify($l(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e)||U.isReadableStream(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return rm(e,this.formSerializer).toString();if((o=U.isFileList(e))||s.indexOf("multipart/form-data")>-1){let l=this.env&&this.env.FormData;return na(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),I4(e)):e}],transformResponse:[function(e){let r=this.transitional||sm.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(U.isResponse(e)||U.isReadableStream(e))return e;if(e&&U.isString(e)&&(s&&!this.responseType||a)){let n=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(o){if(n)throw o.name==="SyntaxError"?oe.from(o,oe.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lt.classes.FormData,Blob:lt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{sm.headers[t]={}});var ui=sm;var D4=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QS=t=>{let e={},r,s,a;return t&&t.split(`
`).forEach(function(n){a=n.indexOf(":"),r=n.substring(0,a).trim().toLowerCase(),s=n.substring(a+1).trim(),!(!r||e[r]&&D4[r])&&(r==="set-cookie"?e[r]?e[r].push(s):e[r]=[s]:e[r]=e[r]?e[r]+", "+s:s)}),e};var XS=Symbol("internals");function Co(t){return t&&String(t).trim().toLowerCase()}function Nl(t){return t===!1||t==null?t:U.isArray(t)?t.map(Nl):String(t)}function L4(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,s;for(;s=r.exec(t);)e[s[1]]=s[2];return e}var $4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function am(t,e,r,s,a){if(U.isFunction(s))return s.call(this,e,r);if(a&&(e=r),!!U.isString(e)){if(U.isString(s))return e.indexOf(s)!==-1;if(U.isRegExp(s))return s.test(e)}}function N4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,s)=>r.toUpperCase()+s)}function F4(t,e){let r=U.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+r,{value:function(a,i,n){return this[s].call(this,e,a,i,n)},configurable:!0})})}var pi=class{constructor(e){e&&this.set(e)}set(e,r,s){let a=this;function i(o,l,c){let u=Co(l);if(!u)throw new Error("header name must be a non-empty string");let p=U.findKey(a,u);(!p||a[p]===void 0||c===!0||c===void 0&&a[p]!==!1)&&(a[p||l]=Nl(o))}let n=(o,l)=>U.forEach(o,(c,u)=>i(c,u,l));if(U.isPlainObject(e)||e instanceof this.constructor)n(e,r);else if(U.isString(e)&&(e=e.trim())&&!$4(e))n(QS(e),r);else if(U.isHeaders(e))for(let[o,l]of e.entries())i(l,o,s);else e!=null&&i(r,e,s);return this}get(e,r){if(e=Co(e),e){let s=U.findKey(this,e);if(s){let a=this[s];if(!r)return a;if(r===!0)return L4(a);if(U.isFunction(r))return r.call(this,a,s);if(U.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Co(e),e){let s=U.findKey(this,e);return!!(s&&this[s]!==void 0&&(!r||am(this,this[s],s,r)))}return!1}delete(e,r){let s=this,a=!1;function i(n){if(n=Co(n),n){let o=U.findKey(s,n);o&&(!r||am(s,s[o],o,r))&&(delete s[o],a=!0)}}return U.isArray(e)?e.forEach(i):i(e),a}clear(e){let r=Object.keys(this),s=r.length,a=!1;for(;s--;){let i=r[s];(!e||am(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){let r=this,s={};return U.forEach(this,(a,i)=>{let n=U.findKey(s,i);if(n){r[n]=Nl(a),delete r[i];return}let o=e?N4(i):String(i).trim();o!==i&&delete r[i],r[o]=Nl(a),s[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return U.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=e&&U.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let s=new this(e);return r.forEach(a=>s.set(a)),s}static accessor(e){let s=(this[XS]=this[XS]={accessors:{}}).accessors,a=this.prototype;function i(n){let o=Co(n);s[o]||(F4(a,n),s[o]=!0)}return U.isArray(e)?e.forEach(i):i(e),this}};pi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(pi.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[r]=s}}});U.freezeMethods(pi);var wt=pi;function To(t,e){let r=this||ui,s=e||r,a=wt.from(s.headers),i=s.data;return U.forEach(t,function(o){i=o.call(r,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function Oo(t){return!!(t&&t.__CANCEL__)}function YS(t,e,r){oe.call(this,t??"canceled",oe.ERR_CANCELED,e,r),this.name="CanceledError"}U.inherits(YS,oe,{__CANCEL__:!0});var br=YS;function ps(t,e,r){let s=r.config.validateStatus;!r.status||!s||s(r.status)?t(r):e(new oe("Request failed with status code "+r.status,[oe.ERR_BAD_REQUEST,oe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function nm(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function im(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Qa(t,e,r){let s=!nm(e);return t&&(s||r==!1)?im(t,e):e}var NE=ae(tE(),1),FE=ae(require("http"),1),jE=ae(require("https"),1),ME=ae(require("util"),1),UE=ae(bE(),1),Ds=ae(require("zlib"),1);var tn="1.8.4";function Lo(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var Ez=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function wm(t,e,r){let s=r&&r.Blob||lt.classes.Blob,a=Lo(t);if(e===void 0&&s&&(e=!0),a==="data"){t=a.length?t.slice(a.length+1):t;let i=Ez.exec(t);if(!i)throw new oe("Invalid URL",oe.ERR_INVALID_URL);let n=i[1],o=i[2],l=i[3],c=Buffer.from(decodeURIComponent(l),o?"base64":"utf8");if(e){if(!s)throw new oe("Blob is not supported",oe.ERR_NOT_SUPPORT);return new s([c],{type:n})}return c}throw new oe("Unsupported protocol "+a,oe.ERR_NOT_SUPPORT)}var rn=ae(require("stream"),1);var _E=ae(require("stream"),1);var Sm=Symbol("internals"),Em=class extends _E.default.Transform{constructor(e){e=U.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(s,a)=>!U.isUndefined(a[s])),super({readableHighWaterMark:e.chunkSize});let r=this[Sm]={timeWindow:e.timeWindow,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",s=>{s==="progress"&&(r.isCaptured||(r.isCaptured=!0))})}_read(e){let r=this[Sm];return r.onReadCallback&&r.onReadCallback(),super._read(e)}_transform(e,r,s){let a=this[Sm],i=a.maxRate,n=this.readableHighWaterMark,o=a.timeWindow,l=1e3/o,c=i/l,u=a.minChunkSize!==!1?Math.max(a.minChunkSize,c*.01):0,p=(d,m)=>{let f=Buffer.byteLength(d);a.bytesSeen+=f,a.bytes+=f,a.isCaptured&&this.emit("progress",a.bytesSeen),this.push(d)?process.nextTick(m):a.onReadCallback=()=>{a.onReadCallback=null,process.nextTick(m)}},h=(d,m)=>{let f=Buffer.byteLength(d),v=null,g=n,b,w=0;if(i){let R=Date.now();(!a.ts||(w=R-a.ts)>=o)&&(a.ts=R,b=c-a.bytes,a.bytes=b<0?-b:0,w=0),b=c-a.bytes}if(i){if(b<=0)return setTimeout(()=>{m(null,d)},o-w);b<g&&(g=b)}g&&f>g&&f-g>u&&(v=d.subarray(g),d=d.subarray(0,g)),p(d,v?()=>{process.nextTick(m,null,v)}:m)};h(e,function d(m,f){if(m)return s(m);f?h(f,d):s(null)})}},Pm=Em;var qE=require("events");var SE=ae(require("util"),1),EE=require("stream");var{asyncIterator:wE}=Symbol,Pz=async function*(t){t.stream?yield*t.stream():t.arrayBuffer?yield await t.arrayBuffer():t[wE]?yield*t[wE]():yield t},zl=Pz;var Rz=lt.ALPHABET.ALPHA_DIGIT+"-_",$o=typeof TextEncoder=="function"?new TextEncoder:new SE.default.TextEncoder,ia=`\r
`,Cz=$o.encode(ia),Tz=2,Rm=class{constructor(e,r){let{escapeName:s}=this.constructor,a=U.isString(r),i=`Content-Disposition: form-data; name="${s(e)}"${!a&&r.name?`; filename="${s(r.name)}"`:""}${ia}`;a?r=$o.encode(String(r).replace(/\r?\n|\r\n?/g,ia)):i+=`Content-Type: ${r.type||"application/octet-stream"}${ia}`,this.headers=$o.encode(i+ia),this.contentLength=a?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+Tz,this.name=e,this.value=r}async*encode(){yield this.headers;let{value:e}=this;U.isTypedArray(e)?yield e:yield*zl(e),yield Cz}static escapeName(e){return String(e).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},Oz=(t,e,r)=>{let{tag:s="form-data-boundary",size:a=25,boundary:i=s+"-"+lt.generateString(a,Rz)}=r||{};if(!U.isFormData(t))throw TypeError("FormData instance required");if(i.length<1||i.length>70)throw Error("boundary must be 10-70 characters long");let n=$o.encode("--"+i+ia),o=$o.encode("--"+i+"--"+ia+ia),l=o.byteLength,c=Array.from(t.entries()).map(([p,h])=>{let d=new Rm(p,h);return l+=d.size,d});l+=n.byteLength*c.length,l=U.toFiniteNumber(l);let u={"Content-Type":`multipart/form-data; boundary=${i}`};return Number.isFinite(l)&&(u["Content-Length"]=l),e&&e(u),EE.Readable.from(async function*(){for(let p of c)yield n,yield*p.encode();yield o}())},PE=Oz;var RE=ae(require("stream"),1),Cm=class extends RE.default.Transform{__transform(e,r,s){this.push(e),s()}_transform(e,r,s){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){let a=Buffer.alloc(2);a[0]=120,a[1]=156,this.push(a,r)}this.__transform(e,r,s)}},CE=Cm;var kz=(t,e)=>U.isAsyncFn(t)?function(...r){let s=r.pop();t.apply(this,r).then(a=>{try{e?s(null,...e(a)):s(null,a)}catch(i){s(i)}},s)}:t,TE=kz;function Az(t,e){t=t||10;let r=new Array(t),s=new Array(t),a=0,i=0,n;return e=e!==void 0?e:1e3,function(l){let c=Date.now(),u=s[i];n||(n=c),r[a]=l,s[a]=c;let p=i,h=0;for(;p!==a;)h+=r[p++],p=p%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),c-n<e)return;let d=u&&c-u;return d?Math.round(h*1e3/d):void 0}}var OE=Az;function Iz(t,e){let r=0,s=1e3/e,a,i,n=(c,u=Date.now())=>{r=u,a=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{let u=Date.now(),p=u-r;p>=s?n(c,u):(a=c,i||(i=setTimeout(()=>{i=null,n(a)},s-p)))},()=>a&&n(a)]}var kE=Iz;var Is=(t,e,r=3)=>{let s=0,a=OE(50,250);return kE(i=>{let n=i.loaded,o=i.lengthComputable?i.total:void 0,l=n-s,c=a(l),u=n<=o;s=n;let p={loaded:n,total:o,progress:o?n/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-n)/c:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(p)},r)},vi=(t,e)=>{let r=t!=null;return[s=>e[0]({lengthComputable:r,total:t,loaded:s}),e[1]]},gi=t=>(...e)=>U.asap(()=>t(...e));var AE={flush:Ds.default.constants.Z_SYNC_FLUSH,finishFlush:Ds.default.constants.Z_SYNC_FLUSH},Dz={flush:Ds.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:Ds.default.constants.BROTLI_OPERATION_FLUSH},IE=U.isFunction(Ds.default.createBrotliDecompress),{http:Lz,https:$z}=UE.default,Nz=/https:?/,DE=lt.protocols.map(t=>t+":"),LE=(t,[e,r])=>(t.on("end",r).on("error",r),e);function Fz(t,e){t.beforeRedirects.proxy&&t.beforeRedirects.proxy(t),t.beforeRedirects.config&&t.beforeRedirects.config(t,e)}function zE(t,e,r){let s=e;if(!s&&s!==!1){let a=NE.default.getProxyForUrl(r);a&&(s=new URL(a))}if(s){if(s.username&&(s.auth=(s.username||"")+":"+(s.password||"")),s.auth){(s.auth.username||s.auth.password)&&(s.auth=(s.auth.username||"")+":"+(s.auth.password||""));let i=Buffer.from(s.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+i}t.headers.host=t.hostname+(t.port?":"+t.port:"");let a=s.hostname||s.host;t.hostname=a,t.host=a,t.port=s.port,t.path=r,s.protocol&&(t.protocol=s.protocol.includes(":")?s.protocol:`${s.protocol}:`)}t.beforeRedirects.proxy=function(i){zE(i,e,i.href)}}var jz=typeof process<"u"&&U.kindOf(process)==="process",Mz=t=>new Promise((e,r)=>{let s,a,i=(l,c)=>{a||(a=!0,s&&s(l,c))},n=l=>{i(l),e(l)},o=l=>{i(l,!0),r(l)};t(n,o,l=>s=l).catch(o)}),Uz=({address:t,family:e})=>{if(!U.isString(t))throw TypeError("address must be a string");return{address:t,family:e||(t.indexOf(".")<0?6:4)}},$E=(t,e)=>Uz(U.isObject(t)?t:{address:t,family:e}),BE=jz&&function(e){return Mz(async function(s,a,i){let{data:n,lookup:o,family:l}=e,{responseType:c,responseEncoding:u}=e,p=e.method.toUpperCase(),h,d=!1,m;if(o){let H=TE(o,G=>U.isArray(G)?G:[G]);o=(G,Z,K)=>{H(G,Z,(re,le,Je)=>{if(re)return K(re);let xe=U.isArray(le)?le.map(Pe=>$E(Pe)):[$E(le,Je)];Z.all?K(re,xe):K(re,xe[0].address,xe[0].family)})}}let f=new qE.EventEmitter,v=()=>{e.cancelToken&&e.cancelToken.unsubscribe(g),e.signal&&e.signal.removeEventListener("abort",g),f.removeAllListeners()};i((H,G)=>{h=!0,G&&(d=!0,v())});function g(H){f.emit("abort",!H||H.type?new br(null,e,m):H)}f.once("abort",a),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(g),e.signal&&(e.signal.aborted?g():e.signal.addEventListener("abort",g)));let b=Qa(e.baseURL,e.url,e.allowAbsoluteUrls),w=new URL(b,lt.hasBrowserEnv?lt.origin:void 0),R=w.protocol||DE[0];if(R==="data:"){let H;if(p!=="GET")return ps(s,a,{status:405,statusText:"method not allowed",headers:{},config:e});try{H=wm(e.url,c==="blob",{Blob:e.env&&e.env.Blob})}catch(G){throw oe.from(G,oe.ERR_BAD_REQUEST,e)}return c==="text"?(H=H.toString(u),(!u||u==="utf8")&&(H=U.stripBOM(H))):c==="stream"&&(H=rn.default.Readable.from(H)),ps(s,a,{data:H,status:200,statusText:"OK",headers:new wt,config:e})}if(DE.indexOf(R)===-1)return a(new oe("Unsupported protocol "+R,oe.ERR_BAD_REQUEST,e));let C=wt.from(e.headers).normalize();C.set("User-Agent","axios/"+tn,!1);let{onUploadProgress:P,onDownloadProgress:T}=e,$=e.maxRate,D,j;if(U.isSpecCompliantForm(n)){let H=C.getContentType(/boundary=([-_\w\d]{10,70})/i);n=PE(n,G=>{C.set(G)},{tag:`axios-${tn}-boundary`,boundary:H&&H[1]||void 0})}else if(U.isFormData(n)&&U.isFunction(n.getHeaders)){if(C.set(n.getHeaders()),!C.hasContentLength())try{let H=await ME.default.promisify(n.getLength).call(n);Number.isFinite(H)&&H>=0&&C.setContentLength(H)}catch{}}else if(U.isBlob(n)||U.isFile(n))n.size&&C.setContentType(n.type||"application/octet-stream"),C.setContentLength(n.size||0),n=rn.default.Readable.from(zl(n));else if(n&&!U.isStream(n)){if(!Buffer.isBuffer(n))if(U.isArrayBuffer(n))n=Buffer.from(new Uint8Array(n));else if(U.isString(n))n=Buffer.from(n,"utf-8");else return a(new oe("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",oe.ERR_BAD_REQUEST,e));if(C.setContentLength(n.length,!1),e.maxBodyLength>-1&&n.length>e.maxBodyLength)return a(new oe("Request body larger than maxBodyLength limit",oe.ERR_BAD_REQUEST,e))}let I=U.toFiniteNumber(C.getContentLength());U.isArray($)?(D=$[0],j=$[1]):D=j=$,n&&(P||D)&&(U.isStream(n)||(n=rn.default.Readable.from(n,{objectMode:!1})),n=rn.default.pipeline([n,new Pm({maxRate:U.toFiniteNumber(D)})],U.noop),P&&n.on("progress",LE(n,vi(I,Is(gi(P),!1,3)))));let k;if(e.auth){let H=e.auth.username||"",G=e.auth.password||"";k=H+":"+G}if(!k&&w.username){let H=w.username,G=w.password;k=H+":"+G}k&&C.delete("authorization");let A;try{A=Ja(w.pathname+w.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(H){let G=new Error(H.message);return G.config=e,G.url=e.url,G.exists=!0,a(G)}C.set("Accept-Encoding","gzip, compress, deflate"+(IE?", br":""),!1);let L={path:A,method:p,headers:C.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:k,protocol:R,family:l,beforeRedirect:Fz,beforeRedirects:{}};!U.isUndefined(o)&&(L.lookup=o),e.socketPath?L.socketPath=e.socketPath:(L.hostname=w.hostname.startsWith("[")?w.hostname.slice(1,-1):w.hostname,L.port=w.port,zE(L,e.proxy,R+"//"+w.hostname+(w.port?":"+w.port:"")+L.path));let q,V=Nz.test(L.protocol);if(L.agent=V?e.httpsAgent:e.httpAgent,e.transport?q=e.transport:e.maxRedirects===0?q=V?jE.default:FE.default:(e.maxRedirects&&(L.maxRedirects=e.maxRedirects),e.beforeRedirect&&(L.beforeRedirects.config=e.beforeRedirect),q=V?$z:Lz),e.maxBodyLength>-1?L.maxBodyLength=e.maxBodyLength:L.maxBodyLength=1/0,e.insecureHTTPParser&&(L.insecureHTTPParser=e.insecureHTTPParser),m=q.request(L,function(G){if(m.destroyed)return;let Z=[G],K=+G.headers["content-length"];if(T||j){let Pe=new Pm({maxRate:U.toFiniteNumber(j)});T&&Pe.on("progress",LE(Pe,vi(K,Is(gi(T),!0,3)))),Z.push(Pe)}let re=G,le=G.req||m;if(e.decompress!==!1&&G.headers["content-encoding"])switch((p==="HEAD"||G.statusCode===204)&&delete G.headers["content-encoding"],(G.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":Z.push(Ds.default.createUnzip(AE)),delete G.headers["content-encoding"];break;case"deflate":Z.push(new CE),Z.push(Ds.default.createUnzip(AE)),delete G.headers["content-encoding"];break;case"br":IE&&(Z.push(Ds.default.createBrotliDecompress(Dz)),delete G.headers["content-encoding"])}re=Z.length>1?rn.default.pipeline(Z,U.noop):Z[0];let Je=rn.default.finished(re,()=>{Je(),v()}),xe={status:G.statusCode,statusText:G.statusMessage,headers:new wt(G.headers),config:e,request:le};if(c==="stream")xe.data=re,ps(s,a,xe);else{let Pe=[],Ae=0;re.on("data",function(M){Pe.push(M),Ae+=M.length,e.maxContentLength>-1&&Ae>e.maxContentLength&&(d=!0,re.destroy(),a(new oe("maxContentLength size of "+e.maxContentLength+" exceeded",oe.ERR_BAD_RESPONSE,e,le)))}),re.on("aborted",function(){if(d)return;let M=new oe("stream has been aborted",oe.ERR_BAD_RESPONSE,e,le);re.destroy(M),a(M)}),re.on("error",function(M){m.destroyed||a(oe.from(M,null,e,le))}),re.on("end",function(){try{let M=Pe.length===1?Pe[0]:Buffer.concat(Pe);c!=="arraybuffer"&&(M=M.toString(u),(!u||u==="utf8")&&(M=U.stripBOM(M))),xe.data=M}catch(M){return a(oe.from(M,null,e,xe.request,xe))}ps(s,a,xe)})}f.once("abort",Pe=>{re.destroyed||(re.emit("error",Pe),re.destroy())})}),f.once("abort",H=>{a(H),m.destroy(H)}),m.on("error",function(G){a(oe.from(G,null,e,m))}),m.on("socket",function(G){G.setKeepAlive(!0,1e3*60)}),e.timeout){let H=parseInt(e.timeout,10);if(Number.isNaN(H)){a(new oe("error trying to parse `config.timeout` to int",oe.ERR_BAD_OPTION_VALUE,e,m));return}m.setTimeout(H,function(){if(h)return;let Z=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",K=e.transitional||li;e.timeoutErrorMessage&&(Z=e.timeoutErrorMessage),a(new oe(Z,K.clarifyTimeoutError?oe.ETIMEDOUT:oe.ECONNABORTED,e,m)),g()})}if(U.isStream(n)){let H=!1,G=!1;n.on("end",()=>{H=!0}),n.once("error",Z=>{G=!0,m.destroy(Z)}),n.on("close",()=>{!H&&!G&&g(new br("Request stream has been aborted",e,m))}),n.pipe(m)}else m.end(n)})};var HE=lt.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,lt.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(lt.origin),lt.navigator&&/(msie|trident)/i.test(lt.navigator.userAgent)):()=>!0;var VE=lt.hasStandardBrowserEnv?{write(t,e,r,s,a,i){let n=[t+"="+encodeURIComponent(e)];U.isNumber(r)&&n.push("expires="+new Date(r).toGMTString()),U.isString(s)&&n.push("path="+s),U.isString(a)&&n.push("domain="+a),i===!0&&n.push("secure"),document.cookie=n.join("; ")},read(t){let e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};var GE=t=>t instanceof wt?{...t}:t;function Zr(t,e){e=e||{};let r={};function s(c,u,p,h){return U.isPlainObject(c)&&U.isPlainObject(u)?U.merge.call({caseless:h},c,u):U.isPlainObject(u)?U.merge({},u):U.isArray(u)?u.slice():u}function a(c,u,p,h){if(U.isUndefined(u)){if(!U.isUndefined(c))return s(void 0,c,p,h)}else return s(c,u,p,h)}function i(c,u){if(!U.isUndefined(u))return s(void 0,u)}function n(c,u){if(U.isUndefined(u)){if(!U.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function o(c,u,p){if(p in e)return s(c,u);if(p in t)return s(void 0,c)}let l={url:i,method:i,data:i,baseURL:n,transformRequest:n,transformResponse:n,paramsSerializer:n,timeout:n,timeoutMessage:n,withCredentials:n,withXSRFToken:n,adapter:n,responseType:n,xsrfCookieName:n,xsrfHeaderName:n,onUploadProgress:n,onDownloadProgress:n,decompress:n,maxContentLength:n,maxBodyLength:n,beforeRedirect:n,transport:n,httpAgent:n,httpsAgent:n,cancelToken:n,socketPath:n,responseEncoding:n,validateStatus:o,headers:(c,u,p)=>a(GE(c),GE(u),p,!0)};return U.forEach(Object.keys(Object.assign({},t,e)),function(u){let p=l[u]||a,h=p(t[u],e[u],u);U.isUndefined(h)&&p!==o||(r[u]=h)}),r}var Bl=t=>{let e=Zr({},t),{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:n,auth:o}=e;e.headers=n=wt.from(n),e.url=Ja(Qa(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&n.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(U.isFormData(r)){if(lt.hasStandardBrowserEnv||lt.hasStandardBrowserWebWorkerEnv)n.setContentType(void 0);else if((l=n.getContentType())!==!1){let[c,...u]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];n.setContentType([c||"multipart/form-data",...u].join("; "))}}if(lt.hasStandardBrowserEnv&&(s&&U.isFunction(s)&&(s=s(e)),s||s!==!1&&HE(e.url))){let c=a&&i&&VE.read(i);c&&n.set(a,c)}return e};var qz=typeof XMLHttpRequest<"u",WE=qz&&function(t){return new Promise(function(r,s){let a=Bl(t),i=a.data,n=wt.from(a.headers).normalize(),{responseType:o,onUploadProgress:l,onDownloadProgress:c}=a,u,p,h,d,m;function f(){d&&d(),m&&m(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function g(){if(!v)return;let w=wt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),C={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:t,request:v};ps(function(T){r(T),f()},function(T){s(T),f()},C),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(s(new oe("Request aborted",oe.ECONNABORTED,t,v)),v=null)},v.onerror=function(){s(new oe("Network Error",oe.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let R=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded",C=a.transitional||li;a.timeoutErrorMessage&&(R=a.timeoutErrorMessage),s(new oe(R,C.clarifyTimeoutError?oe.ETIMEDOUT:oe.ECONNABORTED,t,v)),v=null},i===void 0&&n.setContentType(null),"setRequestHeader"in v&&U.forEach(n.toJSON(),function(R,C){v.setRequestHeader(C,R)}),U.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),o&&o!=="json"&&(v.responseType=a.responseType),c&&([h,m]=Is(c,!0),v.addEventListener("progress",h)),l&&v.upload&&([p,d]=Is(l),v.upload.addEventListener("progress",p),v.upload.addEventListener("loadend",d)),(a.cancelToken||a.signal)&&(u=w=>{v&&(s(!w||w.type?new br(null,t,v):w),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));let b=Lo(a.url);if(b&&lt.protocols.indexOf(b)===-1){s(new oe("Unsupported protocol "+b+":",oe.ERR_BAD_REQUEST,t));return}v.send(i||null)})};var zz=(t,e)=>{let{length:r}=t=t?t.filter(Boolean):[];if(e||r){let s=new AbortController,a,i=function(c){if(!a){a=!0,o();let u=c instanceof Error?c:this.reason;s.abort(u instanceof oe?u:new br(u instanceof Error?u.message:u))}},n=e&&setTimeout(()=>{n=null,i(new oe(`timeout ${e} of ms exceeded`,oe.ETIMEDOUT))},e),o=()=>{t&&(n&&clearTimeout(n),n=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));let{signal:l}=s;return l.unsubscribe=()=>U.asap(o),l}},ZE=zz;var Bz=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let s=0,a;for(;s<r;)a=s+e,yield t.slice(s,a),s=a},Hz=async function*(t,e){for await(let r of Vz(t))yield*Bz(r,e)},Vz=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}let e=t.getReader();try{for(;;){let{done:r,value:s}=await e.read();if(r)break;yield s}}finally{await e.cancel()}},Tm=(t,e,r,s)=>{let a=Hz(t,e),i=0,n,o=l=>{n||(n=!0,s&&s(l))};return new ReadableStream({async pull(l){try{let{done:c,value:u}=await a.next();if(c){o(),l.close();return}let p=u.byteLength;if(r){let h=i+=p;r(h)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),a.return()}},{highWaterMark:2})};var Vl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",JE=Vl&&typeof ReadableStream=="function",Gz=Vl&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),QE=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Wz=JE&&QE(()=>{let t=!1,e=new Request(lt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),KE=64*1024,Om=JE&&QE(()=>U.isReadableStream(new Response("").body)),Hl={stream:Om&&(t=>t.body)};Vl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Hl[e]&&(Hl[e]=U.isFunction(t[e])?r=>r[e]():(r,s)=>{throw new oe(`Response type '${e}' is not supported`,oe.ERR_NOT_SUPPORT,s)})})})(new Response);var Zz=async t=>{if(t==null)return 0;if(U.isBlob(t))return t.size;if(U.isSpecCompliantForm(t))return(await new Request(lt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(U.isArrayBufferView(t)||U.isArrayBuffer(t))return t.byteLength;if(U.isURLSearchParams(t)&&(t=t+""),U.isString(t))return(await Gz(t)).byteLength},Kz=async(t,e)=>{let r=U.toFiniteNumber(t.getContentLength());return r??Zz(e)},XE=Vl&&(async t=>{let{url:e,method:r,data:s,signal:a,cancelToken:i,timeout:n,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:p="same-origin",fetchOptions:h}=Bl(t);c=c?(c+"").toLowerCase():"text";let d=ZE([a,i&&i.toAbortSignal()],n),m,f=d&&d.unsubscribe&&(()=>{d.unsubscribe()}),v;try{if(l&&Wz&&r!=="get"&&r!=="head"&&(v=await Kz(u,s))!==0){let C=new Request(e,{method:"POST",body:s,duplex:"half"}),P;if(U.isFormData(s)&&(P=C.headers.get("content-type"))&&u.setContentType(P),C.body){let[T,$]=vi(v,Is(gi(l)));s=Tm(C.body,KE,T,$)}}U.isString(p)||(p=p?"include":"omit");let g="credentials"in Request.prototype;m=new Request(e,{...h,signal:d,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:g?p:void 0});let b=await fetch(m),w=Om&&(c==="stream"||c==="response");if(Om&&(o||w&&f)){let C={};["status","statusText","headers"].forEach(D=>{C[D]=b[D]});let P=U.toFiniteNumber(b.headers.get("content-length")),[T,$]=o&&vi(P,Is(gi(o),!0))||[];b=new Response(Tm(b.body,KE,T,()=>{$&&$(),f&&f()}),C)}c=c||"text";let R=await Hl[U.findKey(Hl,c)||"text"](b,t);return!w&&f&&f(),await new Promise((C,P)=>{ps(C,P,{data:R,headers:wt.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:m})})}catch(g){throw f&&f(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new oe("Network Error",oe.ERR_NETWORK,t,m),{cause:g.cause||g}):oe.from(g,g&&g.code,t,m)}});var km={http:BE,xhr:WE,fetch:XE};U.forEach(km,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var YE=t=>`- ${t}`,Jz=t=>U.isFunction(t)||t===null||t===!1,Gl={getAdapter:t=>{t=U.isArray(t)?t:[t];let{length:e}=t,r,s,a={};for(let i=0;i<e;i++){r=t[i];let n;if(s=r,!Jz(r)&&(s=km[(n=String(r)).toLowerCase()],s===void 0))throw new oe(`Unknown adapter '${n}'`);if(s)break;a[n||"#"+i]=s}if(!s){let i=Object.entries(a).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build")),n=e?i.length>1?`since :
`+i.map(YE).join(`
`):" "+YE(i[0]):"as no adapter specified";throw new oe("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return s},adapters:km};function Am(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new br(null,t)}function Wl(t){return Am(t),t.headers=wt.from(t.headers),t.data=To.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Gl.getAdapter(t.adapter||ui.adapter)(t).then(function(s){return Am(t),s.data=To.call(t,t.transformResponse,s),s.headers=wt.from(s.headers),s},function(s){return Oo(s)||(Am(t),s&&s.response&&(s.response.data=To.call(t,t.transformResponse,s.response),s.response.headers=wt.from(s.response.headers))),Promise.reject(s)})}var Zl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Zl[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});var eP={};Zl.transitional=function(e,r,s){function a(i,n){return"[Axios v"+tn+"] Transitional option '"+i+"'"+n+(s?". "+s:"")}return(i,n,o)=>{if(e===!1)throw new oe(a(n," has been removed"+(r?" in "+r:"")),oe.ERR_DEPRECATED);return r&&!eP[n]&&(eP[n]=!0,console.warn(a(n," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,n,o):!0}};Zl.spelling=function(e){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function Qz(t,e,r){if(typeof t!="object")throw new oe("options must be an object",oe.ERR_BAD_OPTION_VALUE);let s=Object.keys(t),a=s.length;for(;a-- >0;){let i=s[a],n=e[i];if(n){let o=t[i],l=o===void 0||n(o,i,t);if(l!==!0)throw new oe("option "+i+" must be "+l,oe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new oe("Unknown option "+i,oe.ERR_BAD_OPTION)}}var No={assertOptions:Qz,validators:Zl};var ds=No.validators,yi=class{constructor(e){this.defaults=e,this.interceptors={request:new Qf,response:new Qf}}async request(e,r){try{return await this._request(e,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;let i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Zr(this.defaults,r);let{transitional:s,paramsSerializer:a,headers:i}=r;s!==void 0&&No.assertOptions(s,{silentJSONParsing:ds.transitional(ds.boolean),forcedJSONParsing:ds.transitional(ds.boolean),clarifyTimeoutError:ds.transitional(ds.boolean)},!1),a!=null&&(U.isFunction(a)?r.paramsSerializer={serialize:a}:No.assertOptions(a,{encode:ds.function,serialize:ds.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),No.assertOptions(r,{baseUrl:ds.spelling("baseURL"),withXsrfToken:ds.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let n=i&&U.merge(i.common,i[r.method]);i&&U.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),r.headers=wt.concat(n,i);let o=[],l=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(r)===!1||(l=l&&f.synchronous,o.unshift(f.fulfilled,f.rejected))});let c=[];this.interceptors.response.forEach(function(f){c.push(f.fulfilled,f.rejected)});let u,p=0,h;if(!l){let m=[Wl.bind(this),void 0];for(m.unshift.apply(m,o),m.push.apply(m,c),h=m.length,u=Promise.resolve(r);p<h;)u=u.then(m[p++],m[p++]);return u}h=o.length;let d=r;for(p=0;p<h;){let m=o[p++],f=o[p++];try{d=m(d)}catch(v){f.call(this,v);break}}try{u=Wl.call(this,d)}catch(m){return Promise.reject(m)}for(p=0,h=c.length;p<h;)u=u.then(c[p++],c[p++]);return u}getUri(e){e=Zr(this.defaults,e);let r=Qa(e.baseURL,e.url,e.allowAbsoluteUrls);return Ja(r,e.params,e.paramsSerializer)}};U.forEach(["delete","get","head","options"],function(e){yi.prototype[e]=function(r,s){return this.request(Zr(s||{},{method:e,url:r,data:(s||{}).data}))}});U.forEach(["post","put","patch"],function(e){function r(s){return function(i,n,o){return this.request(Zr(o||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}yi.prototype[e]=r(),yi.prototype[e+"Form"]=r(!0)});var Fo=yi;var Im=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});let s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i,n=new Promise(o=>{s.subscribe(o),i=o}).then(a);return n.cancel=function(){s.unsubscribe(i)},n},e(function(i,n,o){s.reason||(s.reason=new br(i,n,o),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){let e=new AbortController,r=s=>{e.abort(s)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new t(function(a){e=a}),cancel:e}}},tP=Im;function Dm(t){return function(r){return t.apply(null,r)}}function Lm(t){return U.isObject(t)&&t.isAxiosError===!0}var $m={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($m).forEach(([t,e])=>{$m[e]=t});var rP=$m;function sP(t){let e=new Fo(t),r=bo(Fo.prototype.request,e);return U.extend(r,Fo.prototype,e,{allOwnKeys:!0}),U.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return sP(Zr(t,a))},r}var At=sP(ui);At.Axios=Fo;At.CanceledError=br;At.CancelToken=tP;At.isCancel=Oo;At.VERSION=tn;At.toFormData=na;At.AxiosError=oe;At.Cancel=At.CanceledError;At.all=function(e){return Promise.all(e)};At.spread=Dm;At.isAxiosError=Lm;At.mergeConfig=Zr;At.AxiosHeaders=wt;At.formToJSON=t=>$l(U.isHTMLForm(t)?new FormData(t):t);At.getAdapter=Gl.getAdapter;At.HttpStatusCode=rP;At.default=At;var xi=At;var{Axios:LY,AxiosError:$Y,CanceledError:NY,isCancel:FY,CancelToken:jY,VERSION:MY,all:UY,Cancel:qY,isAxiosError:zY,spread:BY,toFormData:HY,AxiosHeaders:VY,HttpStatusCode:GY,formToJSON:WY,getAdapter:ZY,mergeConfig:KY}=xi;function Xz(){if(process.env.USER_TYPE==="ant"){if(_d(process.env.USE_LOCAL_OAUTH))return"local";if(_d(process.env.USE_STAGING_OAUTH))return"staging"}return"prod"}var Yz="user:inference",eB="org:create_api_key";var Nm={SCOPES:[eB,"user:profile",Yz]},aP={...Nm,BASE_API_URL:"https://api.anthropic.com",CONSOLE_AUTHORIZE_URL:"https://console.anthropic.com/oauth/authorize",CLAUDE_AI_AUTHORIZE_URL:"https://claude.ai/oauth/authorize",TOKEN_URL:"https://console.anthropic.com/v1/oauth/token",API_KEY_URL:"https://api.anthropic.com/api/oauth/claude_cli/create_api_key",ROLES_URL:"https://api.anthropic.com/api/oauth/claude_cli/roles",CONSOLE_SUCCESS_URL:"https://console.anthropic.com/buy_credits?returnUrl=/oauth/code/success%3Fapp%3Dclaude-code",CLAUDEAI_SUCCESS_URL:"https://console.anthropic.com/oauth/code/success?app=claude-code",MANUAL_REDIRECT_URL:"https://console.anthropic.com/oauth/code/callback",CLIENT_ID:"9d1c250a-e61b-44d9-88ed-5944d1962f5e",OAUTH_FILE_SUFFIX:""};function tB(){return process.env.USER_TYPE==="ant"&&process.env.USE_STAGING_OAUTH==="1"?{...Nm,BASE_API_URL:"https://api-staging.anthropic.com",CONSOLE_AUTHORIZE_URL:"https://console.staging.ant.dev/oauth/authorize",CLAUDE_AI_AUTHORIZE_URL:"https://claude-ai.staging.ant.dev/oauth/authorize",TOKEN_URL:"https://console.staging.ant.dev/v1/oauth/token",API_KEY_URL:"https://api-staging.anthropic.com/api/oauth/claude_cli/create_api_key",ROLES_URL:"https://api-staging.anthropic.com/api/oauth/claude_cli/roles",CONSOLE_SUCCESS_URL:"https://console.staging.ant.dev/buy_credits?returnUrl=/oauth/code/success%3Fapp%3Dclaude-code",CLAUDEAI_SUCCESS_URL:"https://console.staging.ant.dev/oauth/code/success?app=claude-code",MANUAL_REDIRECT_URL:"https://console.staging.ant.dev/oauth/code/callback",CLIENT_ID:"22422756-60c9-4084-8eb7-27705fd5cf9a",OAUTH_FILE_SUFFIX:"-staging-oauth"}:void 0}var rB={...Nm,BASE_API_URL:"http://localhost:3000",CONSOLE_AUTHORIZE_URL:"http://localhost:3000/oauth/authorize",CLAUDE_AI_AUTHORIZE_URL:"http://localhost:4000/oauth/authorize",TOKEN_URL:"http://localhost:3000/v1/oauth/token",API_KEY_URL:"http://localhost:3000/api/oauth/claude_cli/create_api_key",ROLES_URL:"http://localhost:3000/api/oauth/claude_cli/roles",CONSOLE_SUCCESS_URL:"http://localhost:3000/buy_credits?returnUrl=/oauth/code/success%3Fapp%3Dclaude-code",CLAUDEAI_SUCCESS_URL:"http://localhost:3000/oauth/code/success?app=claude-code",MANUAL_REDIRECT_URL:"https://console.staging.ant.dev/oauth/code/callback",CLIENT_ID:"22422756-60c9-4084-8eb7-27705fd5cf9a",OAUTH_FILE_SUFFIX:"-local-oauth"};function Ls(){switch(Xz()){case"local":return rB;case"staging":return tB()??aP;case"prod":return aP}}var Kl=class{constructor(e){this.logger=e;this.codeVerifier=this.generateCodeVerifier()}codeVerifier;server=null;manualAuthCodeResolver=null;async startOAuthFlow(e,r){let s=await this.startCallbackServer(),a=this.generateCodeChallenge(this.codeVerifier),i=this.generateState(),n=this.buildAuthUrls({codeChallenge:a,state:i,port:s,loginWithClaudeAi:e});await r(n);let{code:o,isManualFlow:l}=await this.waitForAuthorizationCode(i,s,e);return await this.exchangeCodeForTokens(o,i,this.codeVerifier,l?void 0:s)}buildAuthUrls(e){let r=Ls(),s=e.loginWithClaudeAi?r.CLAUDE_AI_AUTHORIZE_URL:r.CONSOLE_AUTHORIZE_URL,a=new URL(s);a.searchParams.set("code","true"),a.searchParams.set("client_id",r.CLIENT_ID),a.searchParams.set("response_type","code");let i=r.SCOPES;a.searchParams.set("scope",i.join(" ")),a.searchParams.set("code_challenge",e.codeChallenge),a.searchParams.set("code_challenge_method","S256"),a.searchParams.set("state",e.state),a.searchParams.set("redirect_uri",`http://localhost:${e.port}/callback`);let n=a.toString();a.searchParams.set("redirect_uri",r.MANUAL_REDIRECT_URL);let o=a.toString();return{automaticRedirectUrl:n,manualRedirectUrl:o}}async startCallbackServer(){return new Promise((e,r)=>{this.server=nP.createServer(),this.server.listen(0,"127.0.0.1",()=>{let s=this.server.address();if(!s||typeof s=="string"){r(new Error("Failed to get server address"));return}e(s.port)}),this.server.on("error",r)})}async waitForAuthorizationCode(e,r,s){return new Promise((a,i)=>{if(!this.server){i(new Error("Server not started"));return}this.manualAuthCodeResolver=n=>{let o=n.trim().split("#");if(o[1]!==e)throw new Error("Invalid state parameter");a({code:o[0],isManualFlow:!0})},this.server.on("request",(n,o)=>{let l=new URL(n.url,`http://localhost:${r}`);if(l.pathname==="/callback"){let c=l.searchParams.get("code");if(l.searchParams.get("state")!==e){o.writeHead(400),o.end("Invalid state parameter"),i(new Error("Invalid state parameter"));return}if(!c){o.writeHead(400),o.end("Missing authorization code"),i(new Error("Missing authorization code"));return}let p=s?Ls().CLAUDEAI_SUCCESS_URL:Ls().CONSOLE_SUCCESS_URL;o.writeHead(302,{Location:p}),o.end(),this.manualAuthCodeResolver=null,a({code:c,isManualFlow:!1})}})})}async exchangeCodeForTokens(e,r,s,a){let i=Ls(),n={grant_type:"authorization_code",code:e,redirect_uri:a?`http://localhost:${a}/callback`:i.MANUAL_REDIRECT_URL,client_id:i.CLIENT_ID,code_verifier:s,state:r};try{let o=await xi.post(i.TOKEN_URL,n,{headers:{"Content-Type":"application/json"}});if(o.status!==200)throw new Error(`Token exchange failed: ${o.statusText}`);let l=o.data,c={accessToken:l.access_token,refreshToken:l.refresh_token||null,expiresAt:l.expires_in?Date.now()+l.expires_in*1e3:null,scopes:l.scope?l.scope.split(" "):[],subscriptionType:null};if(c.scopes.includes("user:profile")){let u=await this.fetchProfileInfo(c.accessToken);c.subscriptionType=u.subscriptionType}return c}catch(o){let l=o;throw new Error(`Token exchange failed: ${l.response?.data?.error||l.response?.data?.message||l.message||"Unknown error"}`)}}handleManualAuthCodeInput(e){this.manualAuthCodeResolver&&e&&(this.manualAuthCodeResolver(e),this.manualAuthCodeResolver=null,this.cleanup())}async createApiKey(e){let r=Ls();try{return(await xi.post(r.API_KEY_URL,null,{headers:{Authorization:`Bearer ${e}`}})).data?.raw_key||null}catch{return null}}cleanup(){this.server&&(this.server.close(),this.server=null)}generateCodeVerifier(){return jo.randomBytes(32).toString("base64url")}generateCodeChallenge(e){return jo.createHash("sha256").update(e).digest("base64url")}generateState(){return jo.randomBytes(32).toString("base64url")}async fetchProfileInfo(e){try{let r=`${Ls().BASE_API_URL}/api/claude_cli_profile`,a=(await xi.get(r,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data?.organization?.organization_type,i=null;switch(a){case"claude_max":i="max";break;case"claude_pro":i="pro";break;case"claude_enterprise":i="enterprise";break;case"claude_team":i="team";break;default:i=null;break}return{subscriptionType:i}}catch(r){return this.logger.error(`Failed to fetch subscription: ${r}`),{subscriptionType:null}}}};var EP=require("fs");var Fm=require("process"),cP=require("crypto");var iP={name:"BASH_MAX_OUTPUT_LENGTH",default:3e4,validate:t=>{if(!t)return{effective:3e4,status:"valid"};let s=parseInt(t,10);return isNaN(s)||s<=0?{effective:3e4,status:"invalid",message:`Invalid value "${t}" (using default: 30000)`}:s>15e4?{effective:15e4,status:"capped",message:`Capped from ${s} to 150000`}:{effective:s,status:"valid"}}},oP={name:"CLAUDE_CODE_MAX_OUTPUT_TOKENS",default:32e3,validate:t=>{if(!t)return{effective:32e3,status:"valid"};let e=parseInt(t,10);return isNaN(e)||e<=0?{effective:32e3,status:"invalid",message:`Invalid value "${t}" (using default: 32000)`}:e>32e3?{effective:32e3,status:"capped",message:`Capped from ${e} to 32000`}:{effective:e,status:"valid"}}};function sB(){return{originalCwd:(0,Fm.cwd)(),totalCostUSD:0,totalAPIDuration:0,totalAPIDurationWithoutRetries:0,totalToolDuration:0,startTime:Date.now(),lastInteractionTime:Date.now(),totalLinesAdded:0,totalLinesRemoved:0,hasUnknownModelCost:!1,cwd:(0,Fm.cwd)(),modelUsage:{},mainLoopModelOverride:void 0,maxRateLimitFallbackActive:!1,initialMainLoopModel:null,modelStrings:null,isNonInteractiveSession:!0,isInteractive:!1,clientType:"cli",sessionIngressToken:void 0,oauthTokenFromFd:void 0,apiKeyFromFd:void 0,flagSettingsPath:void 0,allowedSettingSources:["userSettings","projectSettings","localSettings","flagSettings","policySettings"],meter:null,sessionCounter:null,locCounter:null,prCounter:null,commitCounter:null,costCounter:null,tokenCounter:null,codeEditToolDecisionCounter:null,activeTimeCounter:null,sessionId:(0,cP.randomUUID)(),loggerProvider:null,eventLogger:null,meterProvider:null,tracerProvider:null,agentColorMap:new Map,agentColorIndex:0,envVarValidators:[iP,oP],lastAPIRequest:null,inMemoryErrorLog:[]}}var lP=sB();function uP(){return lP.originalCwd}function pP(){return lP.cwd}function aB(){return pP()}function dP(){try{return aB()}catch{return uP()}}var fP=1e3,mP=60;function Mo(t,e,r=10*mP*fP){let s;e===void 0?s={}:e instanceof AbortSignal?s={abortSignal:e,timeout:r}:s=e;let{abortSignal:a,timeout:i=10*mP*fP}=s;a?.throwIfAborted();try{let n=ss(t,{env:process.env,maxBuffer:1e6,timeout:i,cwd:dP(),stdio:["ignore","pipe","pipe"],shell:!0,reject:!1});return n.stdout&&n.stdout.trim()||null}catch{return null}}var hP=require("crypto");var vP=require("os");function oa(t=""){let e=ns(),s=!process.env.CLAUDE_CONFIG_DIR?"":`-${(0,hP.createHash)("sha256").update(e).digest("hex").substring(0,8)}`;return`Claude Code${Ls().OAUTH_FILE_SUFFIX}${t}${s}`}function bi(){try{return process.env.USER||(0,vP.userInfo)().username}catch{return"claude-code-user"}}var gP={name:"keychain",read(){try{let t=oa("-credentials"),e=bi(),r=Mo(`security find-generic-password -a "${e}" -w -s "${t}"`);if(r)return JSON.parse(r)}catch{return null}return null},update(t){try{let e=oa("-credentials"),r=bi(),a=JSON.stringify(t).replace(/"/g,'\\"'),i=`security add-generic-password -U -a "${r}" -s "${e}" -w "${a}"`;return Mo(i),{success:!0}}catch{return{success:!1}}},delete(){try{let t=oa("-credentials"),e=bi();return Mo(`security delete-generic-password -a "${e}" -s "${t}"`),!0}catch{return!1}}};function yP(t,e){return{name:`${t.name}-with-${e.name}-fallback`,read(){let r=t.read();return r??(e.read()||{})},update(r){let s=t.read(),a=t.update(r);if(a.success)return s===null&&e.delete(),a;let i=e.update(r);return i.success?{success:!0,warning:i.warning}:{success:!1}},delete(){let r=t.delete(),s=e.delete();return r||s}}}var xP=require("path");var $e=ae(require("fs"),1),jm=require("fs/promises");var nB={cwd(){return process.cwd()},existsSync(t){return $e.existsSync(t)},async stat(t){return(0,jm.stat)(t)},statSync(t){return $e.statSync(t)},readFileSync(t,e){return $e.readFileSync(t,{encoding:e.encoding})},readFileBytesSync(t){return $e.readFileSync(t)},readSync(t,e){let r;try{r=$e.openSync(t,"r");let s=Buffer.alloc(e.length),a=$e.readSync(r,s,0,e.length,0);return{buffer:s,bytesRead:a}}finally{r&&$e.closeSync(r)}},writeFileSync(t,e,r){if(!r.flush){let a={encoding:r.encoding};r.mode!==void 0&&(a.mode=r.mode),$e.writeFileSync(t,e,a);return}let s;try{let a=r.mode!==void 0?r.mode:void 0;s=$e.openSync(t,"w",a),$e.writeFileSync(s,e,{encoding:r.encoding}),$e.fsyncSync(s)}finally{s&&$e.closeSync(s)}},appendFileSync(t,e){$e.appendFileSync(t,e)},copyFileSync(t,e){$e.copyFileSync(t,e)},unlinkSync(t){$e.unlinkSync(t)},renameSync(t,e){$e.renameSync(t,e)},linkSync(t,e){$e.linkSync(t,e)},symlinkSync(t,e){$e.symlinkSync(t,e)},readlinkSync(t){return $e.readlinkSync(t)},realpathSync(t){return $e.realpathSync(t)},mkdirSync(t){$e.existsSync(t)||$e.mkdirSync(t,{recursive:!0,mode:448})},readdirSync(t){return $e.readdirSync(t,{withFileTypes:!0})},readdirStringSync(t){return $e.readdirSync(t)},isDirEmptySync(t){return this.readdirSync(t).length===0},rmdirSync(t){$e.rmdirSync(t)},rmSync(t,e){$e.rmSync(t,e)},createWriteStream(t){return $e.createWriteStream(t)}},iB=nB;function ca(){return iB}var bP=require("fs");function Mm(){let t=ns();return{storageDir:t,storagePath:(0,xP.join)(t,".credentials.json")}}var Um={name:"plaintext",read(){let{storagePath:t}=Mm();if(ca().existsSync(t))try{let e=ca().readFileSync(t,{encoding:"utf8"});return JSON.parse(e)}catch{return null}return null},update(t){try{let{storageDir:e,storagePath:r}=Mm();return ca().existsSync(e)||ca().mkdirSync(e),ca().writeFileSync(r,JSON.stringify(t),{encoding:"utf8",flush:!1}),(0,bP.chmodSync)(r,384),{success:!0,warning:"Warning: Storing credentials in plaintext."}}catch{return{success:!1}}},delete(){let{storagePath:t}=Mm();if(ca().existsSync(t))try{return ca().unlinkSync(t),!0}catch{return!1}return!0}};function Jl(){return process.platform==="darwin"?yP(gP,Um):Um}function _P(t){return t.slice(-20)}var _i=class{constructor(e,r){this.logger=e;this.env=r;this.logger.log("AuthManager initialized")}currentOAuthService=null;getAuthStatus(){if(this.logger.log("Getting authentication status"),qm(this.env.CLAUDE_CODE_USE_BEDROCK)||qm(this.env.CLAUDE_CODE_USE_VERTEX)||this.env.ANTHROPIC_API_KEY||this.env.ANTHROPIC_AUTH_TOKEN||qm(this.env.CLAUDE_CODE_SKIP_AUTH_LOGIN))return{authMethod:"3p",email:null,subscriptionType:null};let e=this.getApiKey(),r=this.getOAuthTokens();if(!e&&!r){this.logger.log("No authentication found");return}let s;r?s=r.scopes.includes("user:inference")?"claudeai":"console":s="api-key";let a={authMethod:s,email:null,subscriptionType:r?.subscriptionType||null};return this.logger.log(`Auth status: method=${a.authMethod}`),a}getOAuthTokens(){let s=(Jl().read()||{})?.claudeAiOauth;return s?(this.logger.log("OAuth tokens found in secure storage"),{accessToken:s.accessToken,refreshToken:s.refreshToken||null,expiresAt:s.expiresAt||null,scopes:s.scopes,subscriptionType:s.subscriptionType}):null}getApiKey(){if(process.platform==="darwin")try{let s=(0,SP.quote)(["security","find-generic-password","-a",process.env.USER||"user","-w","-s",oa()]),a=(0,wP.execSync)(s,{encoding:"utf8"}).trim();if(a)return this.logger.log("API key found in macOS keychain"),a}catch{this.logger.log("Keychain read failed, trying file fallback")}let e=this.getConfigPath(),r=Ql.join(e,"config.json");if(ar.existsSync(r))try{let s=JSON.parse(ar.readFileSync(r,"utf8"));if(s.primaryApiKey)return this.logger.log("API key found in config file"),s.primaryApiKey}catch{this.logger.warn("Failed to read config file")}return null}saveOAuthTokens(e){this.logger.log("Saving OAuth tokens to secure storage");let r=Jl(),s=r.read()||{};s.claudeAiOauth={accessToken:e.accessToken,refreshToken:e.refreshToken||"",expiresAt:e.expiresAt||Date.now()+1*60*60*1e3,scopes:e.scopes,subscriptionType:e.subscriptionType},r.update(s)}async saveApiKey(e){this.logger.log("Saving API key");let r=this.getConfigPath();ar.existsSync(r)||ar.mkdirSync(r,{recursive:!0});let s=Ql.join(r,"config.json"),a={};if(ar.existsSync(s))try{a=JSON.parse(ar.readFileSync(s,"utf8"))}catch{}if(process.platform==="darwin")try{let n=oa();ss("security",["add-generic-password","-a",bi(),"-s",n,"-w",e]),this.logger.log("API key saved to macOS keychain named ")}catch(n){throw this.logger.error(`Failed to save API key to keychain: ${n}`),new Error("Unable to save API key to macOS Keychain. Please ensure VS Code has keychain access permissions.")}else a.primaryApiKey=e;a.customApiKeyResponses||(a.customApiKeyResponses={}),a.customApiKeyResponses.approved||(a.customApiKeyResponses.approved=[]);let i=_P(e);a.customApiKeyResponses.approved.includes(i)||a.customApiKeyResponses.approved.push(i);try{ar.writeFileSync(s,JSON.stringify(a,null,2),"utf8"),(0,EP.chmodSync)(s,384),this.logger.log("API key saved to config file")}catch(n){throw this.logger.error(`Failed to save API key: ${n}`),new Error(`Failed to save API key ${n}`)}}async logout(){this.logger.log("Logging out - clearing stored credentials");let e=!0;process.platform==="darwin"&&this.maybeRemoveApiKeyFromMacOSKeychain(),Jl().delete();let s=this.getConfigPath(),a=Ql.join(s,"config.json");if(ar.existsSync(a))try{let i=JSON.parse(ar.readFileSync(a,"utf8"));delete i.primaryApiKey,ar.writeFileSync(a,JSON.stringify(i,null,2),"utf8")}catch{e=!1}return this.logger.log(`Logout ${e?"successful":"failed"}`),e}getConfigPath(){return ns()}handleManualAuthCode(e){this.currentOAuthService?(this.logger.log("Handling manual auth code input"),this.currentOAuthService.handleManualAuthCodeInput(e)):this.logger.warn("No active OAuth service to handle manual auth code")}async login(e,r){this.logger.log(`Starting OAuth login flow: method=${e}`),this.currentOAuthService=new Kl(this.logger);try{let s=await this.currentOAuthService.startOAuthFlow(e==="claudeai",r);if(e==="claudeai")this.saveOAuthTokens(s);else if(e==="console"){this.logger.log("Creating API key for Console user");let i=await this.currentOAuthService.createApiKey(s.accessToken);if(!i)throw this.logger.error("Failed to create API key"),new Error("Failed to create API key");await this.saveApiKey(i)}this.logger.log("Login successful");let a=this.getAuthStatus();if(!a)throw new Error("Failed to retrieve auth status after login");return a}finally{this.currentOAuthService&&(this.currentOAuthService.cleanup(),this.currentOAuthService=null)}}maybeRemoveApiKeyFromMacOSKeychain(){if(process.platform==="darwin")try{let e=oa();ss("security",["delete-generic-password","-a",bi(),"-s",e])}catch(e){this.logger.error(`Failed to remove API key from keychain: ${e}`)}}};function qm(t){if(!t)return!1;if(typeof t=="boolean")return t;let e=t.toLowerCase().trim();return["1","true","yes","on"].includes(e)}var oB=`
# VSCode Extension Context

You are running inside a VSCode native extension environment.

## Code References in Text
IMPORTANT: When referencing files or code locations, use markdown link syntax to make them clickable:
- For files: [filename.ts](src/filename.ts)
- For specific lines: [filename.ts:42](src/filename.ts#L42)
- For a range of lines: [filename.ts:42-51](src/filename.ts#L42-L51)
- For folders: [src/utils/](src/utils/)
Unless explicitly asked for by the user, DO NOT USE backtickets \` or HTML tags like code for file references - always use markdown [text](link) format.
The URL links should be relative paths from the root of  the user's workspace.

## User Selection Context
The user's IDE selection (if any) is included in the conversation context and marked with ide_selection tags. This represents code or text the user has highlighted in their editor and may or may not be relevant to their request.`,Uo=class extends Bc{constructor(r,s,a,i,n,o,l,c,u,p,h,d,m,f,v){let g=r.globalState.get("showTerminalBanner");super(s,wi(n),a,!!v,g===void 0?!0:g,new _i(wi(n),Xl()));this.context=r;this.cwd=s;this.settings=a;this.webview=i;this.output=n;this.leftTempFileProvider=c;this.rightTempFileProvider=u;this.readOnlyTempFileProvider=p;this.acceptOrRejectDiffs=h;this.getCurrentSelection=d;this.isVisible=m;this.makeVisible=f;this.panelTab=v;o(b=>{this.send({type:"request",channelId:"",requestId:"",request:{type:"insert_at_mention",text:b}})}),l(b=>{this.send({type:"request",channelId:"",requestId:"",request:{type:"selection_changed",selection:b}})}),setTimeout(()=>{this.notifyVisibilityChange(this.isVisible())},100)}notifyVisibilityChange(r){this.send({type:"request",channelId:"",requestId:"",request:{type:"visibility_changed",isVisible:r}})}send(r){this.webview.postMessage({type:"from-extension",message:r})}async processRequest(r,s){if(r.request.type==="get_current_selection")return{type:"get_current_selection_response",selection:this.getCurrentSelection()};if(r.request.type==="new_conversation_tab")return await et.commands.executeCommand("claude-vscode.editor.open",et.ViewColumn.Active),{type:"new_conversation_tab_response"};if(r.request.type==="rename_tab")return this.panelTab&&(this.panelTab.title=r.request.title),{type:"rename_tab_response"};if(r.request.type==="show_notification"){let{message:a,severity:i,buttons:n,onlyIfNotVisible:o}=r.request;if(o&&this.isVisible())return{type:"show_notification_response"};let l;switch(i){case"error":l=await et.window.showErrorMessage(a,...n||[]);break;case"warning":l=await et.window.showWarningMessage(a,...n||[]);break;case"info":default:l=await et.window.showInformationMessage(a,...n||[]);break}return l&&this.makeVisible(),{type:"show_notification_response",buttonValue:l}}return super.processRequest(r,s)}spawnClaude(r,s,a,i,n,o,l){uB();let c=Xl(),u=new xl(wi(this.output)),p={cwd:n||this.cwd,resume:s,canUseTool:a,permissionMode:o,model:i===null?"default":i,stderr:v=>{v.includes("An update to our Consumer Terms and Privacy Policy")&&et.window.showErrorMessage("An update to our Consumer Terms and Privacy Policy has taken effect on October 8, 2025. You must run claude in the terminal to review the updated terms.","Resolve in Terminal").then(g=>{g==="Resolve in Terminal"&&this.openClaudeInTerminal()}),this.output.info(`From claude: ${v}`)},env:c,appendSystemPrompt:oB,maxThinkingTokens:l,hooks:{PreToolUse:[{matcher:"Edit|Write|MultiEdit",hooks:[v=>u.captureBaseline(v)]}],PostToolUse:[{matcher:"Edit|Write|MultiEdit",hooks:[v=>u.findDiagnosticsProblems(v)]}]},extraArgs:{debug:null}};{let v=lB(this.context);v&&(p.pathToClaudeCodeExecutable=v)}let h=!1;p.pathToClaudeCodeExecutable||(pB(),p.pathToClaudeCodeExecutable=this.context.asAbsolutePath((0,Kr.join)("resources","claude-code","cli.js")),h=!0);let m=et.workspace.getConfiguration("claude-code").get("claudeProcessWrapper");return m&&(p.executableArgs=[p.pathToClaudeCodeExecutable],h&&p.executableArgs.unshift("node"),p.pathToClaudeCodeExecutable=m),this.output.info(`Spawning Claude with SDK query function - cwd: ${p.cwd}, permission mode: ${o}, version: 2.0.24, ${p.pathToClaudeCodeExecutable}, resume: ${s}`),K_({prompt:r,options:p})}async openFile(r,s){let a=(0,Kr.isAbsolute)(r)?r:(0,Kr.join)(this.cwd,r);if(!Dr.existsSync(a)&&!(0,Kr.isAbsolute)(r)){let n=await Rd(r);n.length>0&&(a=(0,Kr.join)(this.cwd,n[0].path))}let i=et.Uri.file(a);if(Dr.existsSync(a)&&Dr.statSync(a).isDirectory()){et.commands.executeCommand("revealInExplorer",i);return}et.window.showTextDocument(i).then(n=>{if(s){let o=new et.Range(new et.Position((s.startLine||1)-1,0),new et.Position((s.endLine||s.startLine||1)-1,0));n.revealRange(o,et.TextEditorRevealType.InCenter),n.selection=new et.Selection(o.start,o.end)}})}openConfigFile(r){let s,a=`{
  "mcpServers": {}
}
`,i=ns(),n=(0,Kr.join)(i,".claude.json");switch(r){case"mcp-local":case"mcp-user":s=n;break;case"mcp-project":s=(0,Kr.join)(this.cwd,".mcp.json");break;default:s=n;break}Dr.existsSync(s)||Dr.writeFileSync(s,a,"utf-8");let o=et.Uri.file(s);et.workspace.openTextDocument(o).then(l=>{et.window.showTextDocument(l,{preview:!1})},l=>{this.output.error(`Failed to open config file ${s}: ${l}`)})}async openContent(r,s,a,i){return{type:"open_content_response",updatedContent:await J_(this.output,this.readOnlyTempFileProvider,this.rightTempFileProvider,r,s,a,i)}}async openDiff(r,s,a,i,n){return{type:"open_diff_response",newEdits:await pw(this.output,this.leftTempFileProvider,this.rightTempFileProvider,r,s,a,i,this.acceptOrRejectDiffs,n)}}async openURL(r){await et.env.openExternal(et.Uri.parse(r))}async openClaudeInTerminal(r,s){await et.commands.executeCommand("claude-vscode.terminal.open",r,s?"window":void 0)}async showClaudeTerminalSetting(){await et.commands.executeCommand("workbench.action.focusFirstEditorGroup"),await et.commands.executeCommand("workbench.action.openSettings","claude-code.useTerminal")}async dismissTerminalBanner(){this.showTerminalBanner=!1,await this.context.globalState.update("showTerminalBanner",!1)}getAssetUris(){let r=Zx(),s=a=>this.webview.asWebviewUri(et.Uri.file(this.context.asAbsolutePath(a))).toString();for(let a of Object.keys(r))r[a]={light:s(r[a].light),dark:s(r[a].dark)};return r}async findFiles(r){let s=et.workspace.workspaceFolders;if(!s||s.length===0)return[];try{return await Gb(r,this.cwd,wi(this.output))}catch(a){return this.output.warn(`Ripgrep search failed, falling back to VSCode findFiles: ${a}`),Rd(r)}}};function wi(t){return{log:(e,...r)=>t.info(e,...r),warn:(e,...r)=>t.warn(e,...r),error:(e,...r)=>t.error(e,...r)}}function cB(){if(process.platform!=="linux")return!1;try{if(Dr.existsSync("/lib/libc.musl-x86_64.so.1")||Dr.existsSync("/lib/libc.musl-aarch64.so.1"))return!0;let t=ss("ldd /bin/ls 2>/dev/null",{env:process.env,maxBuffer:1e6,timeout:2e4,stdio:["ignore","pipe","pipe"],shell:!0,reject:!1});return t.stdout&&t.stdout.includes("musl")}catch{return!1}}function lB(t){let e=process.platform==="win32"?"claude.exe":"claude",r=cB()?`${process.arch}-musl`:process.arch,s=t.asAbsolutePath((0,Kr.join)("resources","native-binaries",`${process.platform}-${r}`,e));if(Dr.existsSync(s))return s;let a=t.asAbsolutePath((0,Kr.join)("resources","native-binary",e));if(Dr.existsSync(a))return a}function uB(){if(process.platform==="win32")try{ss("where.exe",["git"],{stdio:"pipe",encoding:"utf8"})}catch{throw new Error("Claude Code on Windows requires git-bash (https://git-scm.com/downloads/win). If installed but not in PATH, set environment variable pointing to your bash.exe, similar to: CLAUDE_CODE_GIT_BASH_PATH=C:\\Program Files\\Git\\bin\\bash.exe")}}function pB(){try{let t=process.platform==="win32"?"node.exe":"node",r=ss(t,["--version"],{stdio:"pipe",encoding:"utf8"}).stdout.trim();if(!PP.default.gte(r,"18.0.0"))throw new Error(`Claude Code requires Node.js version 18 or higher. Found version ${r}.`)}catch(t){throw t instanceof Error&&t.message.includes("requires Node.js")?t:new Error("Claude Code requires Node.js version 18 or higher to be installed.")}}function Xl(){let e=et.workspace.getConfiguration("claude-code").get("environmentVariables",[]),r={...process.env};for(let s of e)s.name&&(r[s.name]=s.value||"");return r.CLAUDE_CODE_ENTRYPOINT="claude-vscode",r}var qo=class{constructor(e,r,s,a,i,n,o,l,c,u,p){this.extensionUri=e;this.context=r;this.output=s;this.settings=a;this.leftTempFileProvider=i;this.rightTempFileProvider=n;this.readOnlyTempFileProvider=o;this.acceptOrRejectDiffs=l;this.atMentionEvents=c;this.selectionChangedEvents=u;this.getSelection=p}static viewType="claudeVSCodeSidebar";disposables=[];allComms=new Set;webviews=new Set;hasVisibleWebview(){for(let e of this.webviews)if(e.isVisible())return!0;return!1}resolveWebviewView(e,r,s){let a={isVisible:()=>e.visible};this.webviews.add(a),e.webview.options={enableScripts:!0,localResourceRoots:[ht.Uri.joinPath(this.extensionUri,"webview"),ht.Uri.joinPath(this.extensionUri,"resources")]},e.webview.html=this.getHtmlForWebview(e.webview),e.show(!0);let n=(ht.workspace.workspaceFolders?.map(l=>l.uri.fsPath)||[])[0]||zm.homedir(),o=new Uo(this.context,n,this.settings,e.webview,this.output,this.atMentionEvents,this.selectionChangedEvents,this.leftTempFileProvider,this.rightTempFileProvider,this.readOnlyTempFileProvider,this.acceptOrRejectDiffs,this.getSelection,()=>e.visible,()=>e.show(),void 0);this.allComms.add(o),e.webview.onDidReceiveMessage(l=>{this.output.info(`Received message from webview: ${JSON.stringify(l)}`),o?.fromClient(l)},null,this.disposables),e.onDidDispose(()=>{o?.shutdown(),this.allComms.delete(o),this.webviews.delete(a)},null,this.disposables),e.onDidChangeVisibility(()=>{e.visible||o?.closeAllChannels()}),e.show(!0)}dispose(){for(;this.disposables.length;){let e=this.disposables.pop();e&&e.dispose()}}async notifyLogout(){for(let e of this.allComms)e.pushStateUpdate()}createPanel(){let e=!1,r=ht.ViewColumn.Beside,s=ht.window.tabGroups.all.find(i=>i.tabs.length===0?!1:i.tabs.every(n=>n.input instanceof ht.TabInputWebview?n.input.viewType.includes("claudeVSCodePanel"):!1));s&&s.viewColumn?r=s.viewColumn:(r=this.findUnusedColumn(),e=!0);let a=ht.window.createWebviewPanel("claudeVSCodePanel","Claude Code",r,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[ht.Uri.joinPath(this.extensionUri,"webview"),ht.Uri.joinPath(this.extensionUri,"resources")]});return this.setupPanel(a),{startedInNewColumn:e}}findUnusedColumn(){let e=new Set;ht.window.tabGroups.all.forEach(r=>{r.viewColumn!==void 0&&e.add(r.viewColumn)});for(let r=ht.ViewColumn.One;r<=ht.ViewColumn.Nine;r++)if(!e.has(r))return r;return ht.ViewColumn.Beside}setupPanel(e){let r={isVisible:()=>e.visible};this.webviews.add(r);let a=(ht.workspace.workspaceFolders?.map(n=>n.uri.fsPath)||[])[0]||zm.homedir();e.iconPath=ht.Uri.file(RP.join(this.context.extensionPath,"resources","claude-logo.svg")),e.webview.options={enableScripts:!0,localResourceRoots:[ht.Uri.joinPath(this.extensionUri,"webview"),ht.Uri.joinPath(this.extensionUri,"resources")]},e.webview.html=this.getHtmlForWebview(e.webview);let i=new Uo(this.context,a,this.settings,e.webview,this.output,this.atMentionEvents,this.selectionChangedEvents,this.leftTempFileProvider,this.rightTempFileProvider,this.readOnlyTempFileProvider,this.acceptOrRejectDiffs,this.getSelection,()=>e.visible,()=>e.reveal(),e);this.allComms.add(i),e.webview.onDidReceiveMessage(n=>{this.output.info(`Received message from webview: ${JSON.stringify(n)}`),i?.fromClient(n)},null,this.disposables),e.onDidChangeViewState(()=>i.notifyVisibilityChange(e.visible),null,this.disposables),e.onDidDispose(()=>{i.shutdown(),this.allComms.delete(i),this.webviews.delete(r)},null,this.disposables),this.disposables.push(e)}getHtmlForWebview(e){let r=ht.Uri.joinPath(this.extensionUri,"webview","index.js"),s=e.asWebviewUri(r),a=ht.Uri.joinPath(this.extensionUri,"webview","index.css"),i=e.asWebviewUri(a),n=On(),o=`style-src ${e.cspSource} 'unsafe-inline'`,l=`font-src ${e.cspSource}`,c=`img-src ${e.cspSource} https:`,u=`worker-src ${e.cspSource}`,p=ht.workspace.getConfiguration("editor"),h=p.get("fontFamily")||"monospace",d=p.get("fontSize")||12,m=p.get("fontWeight")||"normal",f=ht.workspace.getConfiguration("chat").get("fontSize")||13;return`<!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">

        <!--
          Use a content security policy to only allow loading images from https or from our extension directory,
          and only allow scripts that have a specific nonce.
        -->
        <meta http-equiv="Content-Security-Policy" content="default-src 'none'; ${o}; ${l}; ${c}; script-src 'nonce-${n}'; ${u};">

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="${i}" rel="stylesheet">
        <style>
          :root {
            --vscode-editor-font-family: ${h};
            --vscode-editor-font-size: ${d}px;
            --vscode-editor-font-weight: ${m};
            --vscode-chat-font-size: ${f}px;
          }
        </style>
      </head>
      <body>
        <div id="root"></div>

        <script nonce="${n}" src="${s}" type="module"></script>
      </body>
      </html>`}};var Yl=ae(require("vscode"),1);var dB=ae(bd(),1);var CP=ae(require("child_process"),1),TP=require("util"),Qee=(0,TP.promisify)(CP.execFile);var It=ae(require("vscode"),1);function Bm(t){return t.includes("\\")?t.startsWith("\\\\")?"/"+t.substring(2).replace(/\\/g,"/"):(/^[a-zA-Z]:/.test(t)&&(t=t.replace(/^([a-zA-Z]):/,(e,r)=>"/"+r.toLowerCase()+":")),t.replace(/\\/g,"/")):t}var Hm=class{constructor(e,r){this.uri=e;this.contents=r;this.ctime=this.modifiedTime=Date.now()}type=It.FileType.File;ctime;modifiedTime;get mtime(){return this.modifiedTime}get size(){return this.data.length}get data(){return this.contents}write(e){this.modifiedTime=Date.now(),this.contents=e,this.emitter.fire()}emitter=new It.EventEmitter;onDidSave=this.emitter.event},zo=class{constructor(e){this.scheme=e}documents=new Map;createFile(e,r){let s=e;process.platform==="win32"&&(s=Bm(e));let a=It.Uri.from({scheme:this.scheme,path:s}),i=this.documents.get(a.path);return i?(this.writeFile(a,new TextEncoder().encode(r)),i):(i=new Hm(a,new TextEncoder().encode(r)),this.documents.set(a.path,i),i)}emitter=new It.EventEmitter;onDidChangeFile=this.emitter.event;watch(e){return new It.Disposable(()=>{})}stat(e){return this.find(e)}find(e){let r=e.path;process.platform==="win32"&&(r=Bm(e.path));let s=this.documents.get(r);if(!s)throw It.FileSystemError.FileNotFound(e);return s}readDirectory(e){throw It.FileSystemError.FileNotFound(e)}readFile(e){let r=this.find(e).data;if(r)return r;throw It.FileSystemError.FileNotFound(e)}writeFile(e,r){this.find(e).write(r),this.emitter.fire([{type:It.FileChangeType.Changed,uri:e}])}createDirectory(e){throw It.FileSystemError.Unavailable()}delete(e){throw It.FileSystemError.Unavailable()}rename(e,r,s){throw It.FileSystemError.Unavailable()}},eu=class{constructor(e){this.scheme=e}documents=new Map;onDidChangeEmitter=new It.EventEmitter;onDidChange=this.onDidChangeEmitter.event;createFile(e,r){let s=e;process.platform==="win32"&&(s=Bm(e));let a=It.Uri.from({scheme:this.scheme,path:s});return this.addDocument(a,r),a}provideTextDocumentContent(e){return this.documents.get(e.toString())||""}addDocument(e,r){this.documents.set(e.toString(),r),this.onDidChangeEmitter.fire(e)}};var Hs=ae(require("vscode"),1);var Nt=ae(require("vscode"),1);function OP(t){return t.includes("\\")?t.startsWith("\\\\")?"/"+t.substring(2).replace(/\\/g,"/"):(/^[a-zA-Z]:/.test(t)&&(t=t.replace(/^([a-zA-Z]):/,(e,r)=>"/"+r.toLowerCase()+":")),t.replace(/\\/g,"/")):t}var Vm=class{constructor(e,r){this.uri=e;this.contents=r;this.ctime=this.modifiedTime=Date.now()}type=Nt.FileType.File;ctime;modifiedTime;get mtime(){return this.modifiedTime}get size(){return this.data.length}get data(){return this.contents}write(e){this.modifiedTime=Date.now(),this.contents=e,this.emitter.fire()}emitter=new Nt.EventEmitter;onDidSave=this.emitter.event},Bo=class{constructor(e){this.scheme=e}documents=new Map;createFile(e,r){let s=e;process.platform==="win32"&&(s=OP(e));let a=Nt.Uri.from({scheme:this.scheme,path:s}),i=this.documents.get(a.path);return i?(this.writeFile(a,new TextEncoder().encode(r)),i):(i=new Vm(a,new TextEncoder().encode(r)),this.documents.set(a.path,i),i)}emitter=new Nt.EventEmitter;onDidChangeFile=this.emitter.event;watch(e){return new Nt.Disposable(()=>{})}stat(e){return this.find(e)}find(e){let r=e.path;process.platform==="win32"&&(r=OP(e.path));let s=this.documents.get(r);if(!s)throw Nt.FileSystemError.FileNotFound(e);return s}readDirectory(e){throw Nt.FileSystemError.FileNotFound(e)}readFile(e){let r=this.find(e).data;if(r)return r;throw Nt.FileSystemError.FileNotFound(e)}writeFile(e,r){this.find(e).write(r),this.emitter.fire([{type:Nt.FileChangeType.Changed,uri:e}])}createDirectory(e){throw Nt.FileSystemError.Unavailable()}delete(e){throw Nt.FileSystemError.Unavailable()}rename(e,r,s){throw Nt.FileSystemError.Unavailable()}};var lr=ae(require("vscode"),1),hk=require("crypto");var _={};wp(_,{BRAND:()=>jB,DIRTY:()=>sn,EMPTY_PATH:()=>vB,INVALID:()=>Re,NEVER:()=>w3,OK:()=>Vt,ParseStatus:()=>Ut,Schema:()=>We,ZodAny:()=>pa,ZodArray:()=>js,ZodBigInt:()=>nn,ZodBoolean:()=>on,ZodBranded:()=>Vo,ZodCatch:()=>yn,ZodDate:()=>cn,ZodDefault:()=>gn,ZodDiscriminatedUnion:()=>su,ZodEffects:()=>$r,ZodEnum:()=>hn,ZodError:()=>nr,ZodFirstPartyTypeKind:()=>te,ZodFunction:()=>nu,ZodIntersection:()=>dn,ZodIssueCode:()=>Y,ZodLazy:()=>fn,ZodLiteral:()=>mn,ZodMap:()=>Ti,ZodNaN:()=>ki,ZodNativeEnum:()=>vn,ZodNever:()=>Jr,ZodNull:()=>un,ZodNullable:()=>hs,ZodNumber:()=>an,ZodObject:()=>or,ZodOptional:()=>ir,ZodParsedType:()=>pe,ZodPipeline:()=>Go,ZodPromise:()=>da,ZodReadonly:()=>xn,ZodRecord:()=>au,ZodSchema:()=>We,ZodSet:()=>Oi,ZodString:()=>ua,ZodSymbol:()=>Ri,ZodTransformer:()=>$r,ZodTuple:()=>ms,ZodType:()=>We,ZodUndefined:()=>ln,ZodUnion:()=>pn,ZodUnknown:()=>Fs,ZodVoid:()=>Ci,addIssueToContext:()=>ne,any:()=>WB,array:()=>QB,bigint:()=>zB,boolean:()=>UP,coerce:()=>_3,custom:()=>FP,date:()=>BB,datetimeRegex:()=>$P,defaultErrorMap:()=>$s,discriminatedUnion:()=>t3,effect:()=>f3,enum:()=>u3,function:()=>o3,getErrorMap:()=>Si,getParsedType:()=>fs,instanceof:()=>UB,intersection:()=>r3,isAborted:()=>tu,isAsync:()=>Ei,isDirty:()=>ru,isValid:()=>la,late:()=>MB,lazy:()=>c3,literal:()=>l3,makeIssue:()=>Ho,map:()=>n3,nan:()=>qB,nativeEnum:()=>p3,never:()=>KB,null:()=>GB,nullable:()=>h3,number:()=>MP,object:()=>XB,objectUtil:()=>Gm,oboolean:()=>b3,onumber:()=>x3,optional:()=>m3,ostring:()=>y3,pipeline:()=>g3,preprocess:()=>v3,promise:()=>d3,quotelessJson:()=>fB,record:()=>a3,set:()=>i3,setErrorMap:()=>hB,strictObject:()=>YB,string:()=>jP,symbol:()=>HB,transformer:()=>f3,tuple:()=>s3,undefined:()=>VB,union:()=>e3,unknown:()=>ZB,util:()=>Ye,void:()=>JB});var Ye;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{let i={};for(let n of a)i[n]=n;return i},t.getValidEnumValues=a=>{let i=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),n={};for(let o of i)n[o]=a[o];return t.objectValues(n)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{let i=[];for(let n in a)Object.prototype.hasOwnProperty.call(a,n)&&i.push(n);return i},t.find=(a,i)=>{for(let n of a)if(i(n))return n},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(n=>typeof n=="string"?`'${n}'`:n).join(i)}t.joinValues=s,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Ye||(Ye={}));var Gm;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Gm||(Gm={}));var pe=Ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fs=t=>{switch(typeof t){case"undefined":return pe.undefined;case"string":return pe.string;case"number":return Number.isNaN(t)?pe.nan:pe.number;case"boolean":return pe.boolean;case"function":return pe.function;case"bigint":return pe.bigint;case"symbol":return pe.symbol;case"object":return Array.isArray(t)?pe.array:t===null?pe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?pe.promise:typeof Map<"u"&&t instanceof Map?pe.map:typeof Set<"u"&&t instanceof Set?pe.set:typeof Date<"u"&&t instanceof Date?pe.date:pe.object;default:return pe.unknown}};var Y=Ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),fB=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),nr=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(i){return i.message},s={_errors:[]},a=i=>{for(let n of i.issues)if(n.code==="invalid_union")n.unionErrors.map(a);else if(n.code==="invalid_return_type")a(n.returnTypeError);else if(n.code==="invalid_arguments")a(n.argumentsError);else if(n.path.length===0)s._errors.push(r(n));else{let o=s,l=0;for(;l<n.path.length;){let c=n.path[l];l===n.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(n))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return a(this),s}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},s=[];for(let a of this.issues)if(a.path.length>0){let i=a.path[0];r[i]=r[i]||[],r[i].push(e(a))}else s.push(e(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}};nr.create=t=>new nr(t);var mB=(t,e)=>{let r;switch(t.code){case Y.invalid_type:t.received===pe.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Y.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ye.jsonStringifyReplacer)}`;break;case Y.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ye.joinValues(t.keys,", ")}`;break;case Y.invalid_union:r="Invalid input";break;case Y.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ye.joinValues(t.options)}`;break;case Y.invalid_enum_value:r=`Invalid enum value. Expected ${Ye.joinValues(t.options)}, received '${t.received}'`;break;case Y.invalid_arguments:r="Invalid function arguments";break;case Y.invalid_return_type:r="Invalid function return type";break;case Y.invalid_date:r="Invalid date";break;case Y.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ye.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Y.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Y.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Y.custom:r="Invalid input";break;case Y.invalid_intersection_types:r="Intersection results could not be merged";break;case Y.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Y.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ye.assertNever(t)}return{message:r}},$s=mB;var kP=$s;function hB(t){kP=t}function Si(){return kP}var Ho=t=>{let{data:e,path:r,errorMaps:s,issueData:a}=t,i=[...r,...a.path||[]],n={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="",l=s.filter(c=>!!c).slice().reverse();for(let c of l)o=c(n,{data:e,defaultError:o}).message;return{...a,path:i,message:o}},vB=[];function ne(t,e){let r=Si(),s=Ho({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===$s?void 0:$s].filter(a=>!!a)});t.common.issues.push(s)}var Ut=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let s=[];for(let a of r){if(a.status==="aborted")return Re;a.status==="dirty"&&e.dirty(),s.push(a.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){let s=[];for(let a of r){let i=await a.key,n=await a.value;s.push({key:i,value:n})}return t.mergeObjectSync(e,s)}static mergeObjectSync(e,r){let s={};for(let a of r){let{key:i,value:n}=a;if(i.status==="aborted"||n.status==="aborted")return Re;i.status==="dirty"&&e.dirty(),n.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof n.value<"u"||a.alwaysSet)&&(s[i.value]=n.value)}return{status:e.value,value:s}}},Re=Object.freeze({status:"aborted"}),sn=t=>({status:"dirty",value:t}),Vt=t=>({status:"valid",value:t}),tu=t=>t.status==="aborted",ru=t=>t.status==="dirty",la=t=>t.status==="valid",Ei=t=>typeof Promise<"u"&&t instanceof Promise;var ye;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(ye||(ye={}));var Lr=class{constructor(e,r,s,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},AP=(t,e)=>{if(la(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new nr(t.common.issues);return this._error=r,this._error}}};function Ge(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:s,description:a}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(n,o)=>{let{message:l}=t;return n.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??s??o.defaultError}:n.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:a}}var We=class{get description(){return this._def.description}_getType(e){return fs(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ut,ctx:{common:e.parent.common,data:e.data,parsedType:fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(Ei(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){let s={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fs(e)},a=this._parseSync({data:e,path:s.path,parent:s});return AP(s,a)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fs(e)};if(!this["~standard"].async)try{let s=this._parseSync({data:e,path:[],parent:r});return la(s)?{value:s.value}:{issues:r.common.issues}}catch(s){s?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(s=>la(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(e,r){let s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){let s={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fs(e)},a=this._parse({data:e,path:s.path,parent:s}),i=await(Ei(a)?a:Promise.resolve(a));return AP(s,i)}refine(e,r){let s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{let n=e(a),o=()=>i.addIssue({code:Y.custom,...s(a)});return typeof Promise<"u"&&n instanceof Promise?n.then(l=>l?!0:(o(),!1)):n?!0:(o(),!1)})}refinement(e,r){return this._refinement((s,a)=>e(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(e){return new $r({schema:this,typeName:te.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ir.create(this,this._def)}nullable(){return hs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return js.create(this)}promise(){return da.create(this,this._def)}or(e){return pn.create([this,e],this._def)}and(e){return dn.create(this,e,this._def)}transform(e){return new $r({...Ge(this._def),schema:this,typeName:te.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new gn({...Ge(this._def),innerType:this,defaultValue:r,typeName:te.ZodDefault})}brand(){return new Vo({typeName:te.ZodBranded,type:this,...Ge(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new yn({...Ge(this._def),innerType:this,catchValue:r,typeName:te.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Go.create(this,e)}readonly(){return xn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},gB=/^c[^\s-]{8,}$/i,yB=/^[0-9a-z]+$/,xB=/^[0-9A-HJKMNP-TV-Z]{26}$/i,bB=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_B=/^[a-z0-9_-]{21}$/i,wB=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,SB=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,EB=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,PB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Wm,RB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,CB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,TB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,OB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kB=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,AB=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,DP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",IB=new RegExp(`^${DP}$`);function LP(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function DB(t){return new RegExp(`^${LP(t)}$`)}function $P(t){let e=`${DP}T${LP(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function LB(t,e){return!!((e==="v4"||!e)&&RB.test(t)||(e==="v6"||!e)&&TB.test(t))}function $B(t,e){if(!wB.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function NB(t,e){return!!((e==="v4"||!e)&&CB.test(t)||(e==="v6"||!e)&&OB.test(t))}var ua=class t extends We{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pe.string){let i=this._getOrReturnCtx(e);return ne(i,{code:Y.invalid_type,expected:pe.string,received:i.parsedType}),Re}let s=new Ut,a;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),ne(a,{code:Y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),ne(a,{code:Y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){let n=e.data.length>i.value,o=e.data.length<i.value;(n||o)&&(a=this._getOrReturnCtx(e,a),n?ne(a,{code:Y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&ne(a,{code:Y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")EB.test(e.data)||(a=this._getOrReturnCtx(e,a),ne(a,{validation:"email",code:Y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Wm||(Wm=new RegExp(PB,"u")),Wm.test(e.data)||(a=this._getOrReturnCtx(e,a),ne(a,{validation:"emoji",code:Y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")bB.test(e.data)||(a=this._getOrReturnCtx(e,a),ne(a,{validation:"uuid",code:Y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")_B.test(e.data)||(a=this._getOrReturnCtx(e,a),ne(a,{validation:"nanoid",code:Y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")gB.test(e.data)||(a=this._getOrReturnCtx(e,a),ne(a,{validation:"cuid",code:Y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")yB.test(e.data)||(a=this._getOrReturnCtx(e,a),ne(a,{validation:"cuid2",code:Y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")xB.test(e.data)||(a=this._getOrReturnCtx(e,a),ne(a,{validation:"ulid",code:Y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),ne(a,{validation:"url",code:Y.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),ne(a,{validation:"regex",code:Y.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),ne(a,{code:Y.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),ne(a,{code:Y.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),ne(a,{code:Y.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?$P(i).test(e.data)||(a=this._getOrReturnCtx(e,a),ne(a,{code:Y.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?IB.test(e.data)||(a=this._getOrReturnCtx(e,a),ne(a,{code:Y.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?DB(i).test(e.data)||(a=this._getOrReturnCtx(e,a),ne(a,{code:Y.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?SB.test(e.data)||(a=this._getOrReturnCtx(e,a),ne(a,{validation:"duration",code:Y.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?LB(e.data,i.version)||(a=this._getOrReturnCtx(e,a),ne(a,{validation:"ip",code:Y.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?$B(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),ne(a,{validation:"jwt",code:Y.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?NB(e.data,i.version)||(a=this._getOrReturnCtx(e,a),ne(a,{validation:"cidr",code:Y.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?kB.test(e.data)||(a=this._getOrReturnCtx(e,a),ne(a,{validation:"base64",code:Y.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?AB.test(e.data)||(a=this._getOrReturnCtx(e,a),ne(a,{validation:"base64url",code:Y.invalid_string,message:i.message}),s.dirty()):Ye.assertNever(i);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(a=>e.test(a),{validation:r,code:Y.invalid_string,...ye.errToObj(s)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ye.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ye.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ye.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ye.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ye.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ye.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ye.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ye.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ye.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ye.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ye.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ye.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ye.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...ye.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...ye.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...ye.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ye.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...ye.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ye.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ye.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ye.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ye.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ye.errToObj(r)})}nonempty(e){return this.min(1,ye.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};ua.create=t=>new ua({checks:[],typeName:te.ZodString,coerce:t?.coerce??!1,...Ge(t)});function FB(t,e){let r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,a=r>s?r:s,i=Number.parseInt(t.toFixed(a).replace(".","")),n=Number.parseInt(e.toFixed(a).replace(".",""));return i%n/10**a}var an=class t extends We{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pe.number){let i=this._getOrReturnCtx(e);return ne(i,{code:Y.invalid_type,expected:pe.number,received:i.parsedType}),Re}let s,a=new Ut;for(let i of this._def.checks)i.kind==="int"?Ye.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Y.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Y.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Y.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?FB(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Y.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:Y.not_finite,message:i.message}),a.dirty()):Ye.assertNever(i);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ye.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ye.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ye.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ye.toString(r))}setLimit(e,r,s,a){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:ye.toString(a)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ye.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ye.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ye.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ye.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ye.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ye.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ye.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}};an.create=t=>new an({checks:[],typeName:te.ZodNumber,coerce:t?.coerce||!1,...Ge(t)});var nn=class t extends We{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==pe.bigint)return this._getInvalidInput(e);let s,a=new Ut;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Y.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Y.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),ne(s,{code:Y.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Ye.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return ne(r,{code:Y.invalid_type,expected:pe.bigint,received:r.parsedType}),Re}gte(e,r){return this.setLimit("min",e,!0,ye.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ye.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ye.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ye.toString(r))}setLimit(e,r,s,a){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:ye.toString(a)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ye.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ye.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};nn.create=t=>new nn({checks:[],typeName:te.ZodBigInt,coerce:t?.coerce??!1,...Ge(t)});var on=class extends We{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pe.boolean){let s=this._getOrReturnCtx(e);return ne(s,{code:Y.invalid_type,expected:pe.boolean,received:s.parsedType}),Re}return Vt(e.data)}};on.create=t=>new on({typeName:te.ZodBoolean,coerce:t?.coerce||!1,...Ge(t)});var cn=class t extends We{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pe.date){let i=this._getOrReturnCtx(e);return ne(i,{code:Y.invalid_type,expected:pe.date,received:i.parsedType}),Re}if(Number.isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return ne(i,{code:Y.invalid_date}),Re}let s=new Ut,a;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),ne(a,{code:Y.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),ne(a,{code:Y.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):Ye.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ye.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ye.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};cn.create=t=>new cn({checks:[],coerce:t?.coerce||!1,typeName:te.ZodDate,...Ge(t)});var Ri=class extends We{_parse(e){if(this._getType(e)!==pe.symbol){let s=this._getOrReturnCtx(e);return ne(s,{code:Y.invalid_type,expected:pe.symbol,received:s.parsedType}),Re}return Vt(e.data)}};Ri.create=t=>new Ri({typeName:te.ZodSymbol,...Ge(t)});var ln=class extends We{_parse(e){if(this._getType(e)!==pe.undefined){let s=this._getOrReturnCtx(e);return ne(s,{code:Y.invalid_type,expected:pe.undefined,received:s.parsedType}),Re}return Vt(e.data)}};ln.create=t=>new ln({typeName:te.ZodUndefined,...Ge(t)});var un=class extends We{_parse(e){if(this._getType(e)!==pe.null){let s=this._getOrReturnCtx(e);return ne(s,{code:Y.invalid_type,expected:pe.null,received:s.parsedType}),Re}return Vt(e.data)}};un.create=t=>new un({typeName:te.ZodNull,...Ge(t)});var pa=class extends We{constructor(){super(...arguments),this._any=!0}_parse(e){return Vt(e.data)}};pa.create=t=>new pa({typeName:te.ZodAny,...Ge(t)});var Fs=class extends We{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Vt(e.data)}};Fs.create=t=>new Fs({typeName:te.ZodUnknown,...Ge(t)});var Jr=class extends We{_parse(e){let r=this._getOrReturnCtx(e);return ne(r,{code:Y.invalid_type,expected:pe.never,received:r.parsedType}),Re}};Jr.create=t=>new Jr({typeName:te.ZodNever,...Ge(t)});var Ci=class extends We{_parse(e){if(this._getType(e)!==pe.undefined){let s=this._getOrReturnCtx(e);return ne(s,{code:Y.invalid_type,expected:pe.void,received:s.parsedType}),Re}return Vt(e.data)}};Ci.create=t=>new Ci({typeName:te.ZodVoid,...Ge(t)});var js=class t extends We{_parse(e){let{ctx:r,status:s}=this._processInputParams(e),a=this._def;if(r.parsedType!==pe.array)return ne(r,{code:Y.invalid_type,expected:pe.array,received:r.parsedType}),Re;if(a.exactLength!==null){let n=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(n||o)&&(ne(r,{code:n?Y.too_big:Y.too_small,minimum:o?a.exactLength.value:void 0,maximum:n?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ne(r,{code:Y.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ne(r,{code:Y.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((n,o)=>a.type._parseAsync(new Lr(r,n,r.path,o)))).then(n=>Ut.mergeArray(s,n));let i=[...r.data].map((n,o)=>a.type._parseSync(new Lr(r,n,r.path,o)));return Ut.mergeArray(s,i)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:ye.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:ye.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:ye.toString(r)}})}nonempty(e){return this.min(1,e)}};js.create=(t,e)=>new js({type:t,minLength:null,maxLength:null,exactLength:null,typeName:te.ZodArray,...Ge(e)});function Pi(t){if(t instanceof or){let e={};for(let r in t.shape){let s=t.shape[r];e[r]=ir.create(Pi(s))}return new or({...t._def,shape:()=>e})}else return t instanceof js?new js({...t._def,type:Pi(t.element)}):t instanceof ir?ir.create(Pi(t.unwrap())):t instanceof hs?hs.create(Pi(t.unwrap())):t instanceof ms?ms.create(t.items.map(e=>Pi(e))):t}var or=class t extends We{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=Ye.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==pe.object){let c=this._getOrReturnCtx(e);return ne(c,{code:Y.invalid_type,expected:pe.object,received:c.parsedType}),Re}let{status:s,ctx:a}=this._processInputParams(e),{shape:i,keys:n}=this._getCached(),o=[];if(!(this._def.catchall instanceof Jr&&this._def.unknownKeys==="strip"))for(let c in a.data)n.includes(c)||o.push(c);let l=[];for(let c of n){let u=i[c],p=a.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Lr(a,p,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof Jr){let c=this._def.unknownKeys;if(c==="passthrough")for(let u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(c==="strict")o.length>0&&(ne(a,{code:Y.unrecognized_keys,keys:o}),s.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let u of o){let p=a.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Lr(a,p,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{let c=[];for(let u of l){let p=await u.key,h=await u.value;c.push({key:p,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>Ut.mergeObjectSync(s,c)):Ut.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(e){return ye.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{let a=this._def.errorMap?.(r,s).message??s.defaultError;return r.code==="unrecognized_keys"?{message:ye.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:te.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let s of Ye.objectKeys(e))e[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let s of Ye.objectKeys(this.shape))e[s]||(r[s]=this.shape[s]);return new t({...this._def,shape:()=>r})}deepPartial(){return Pi(this)}partial(e){let r={};for(let s of Ye.objectKeys(this.shape)){let a=this.shape[s];e&&!e[s]?r[s]=a:r[s]=a.optional()}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let s of Ye.objectKeys(this.shape))if(e&&!e[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof ir;)i=i._def.innerType;r[s]=i}return new t({...this._def,shape:()=>r})}keyof(){return NP(Ye.objectKeys(this.shape))}};or.create=(t,e)=>new or({shape:()=>t,unknownKeys:"strip",catchall:Jr.create(),typeName:te.ZodObject,...Ge(e)});or.strictCreate=(t,e)=>new or({shape:()=>t,unknownKeys:"strict",catchall:Jr.create(),typeName:te.ZodObject,...Ge(e)});or.lazycreate=(t,e)=>new or({shape:t,unknownKeys:"strip",catchall:Jr.create(),typeName:te.ZodObject,...Ge(e)});var pn=class extends We{_parse(e){let{ctx:r}=this._processInputParams(e),s=this._def.options;function a(i){for(let o of i)if(o.result.status==="valid")return o.result;for(let o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;let n=i.map(o=>new nr(o.ctx.common.issues));return ne(r,{code:Y.invalid_union,unionErrors:n}),Re}if(r.common.async)return Promise.all(s.map(async i=>{let n={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:n}),ctx:n}})).then(a);{let i,n=[];for(let l of s){let c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&n.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let o=n.map(l=>new nr(l));return ne(r,{code:Y.invalid_union,unionErrors:o}),Re}}get options(){return this._def.options}};pn.create=(t,e)=>new pn({options:t,typeName:te.ZodUnion,...Ge(e)});var Ns=t=>t instanceof fn?Ns(t.schema):t instanceof $r?Ns(t.innerType()):t instanceof mn?[t.value]:t instanceof hn?t.options:t instanceof vn?Ye.objectValues(t.enum):t instanceof gn?Ns(t._def.innerType):t instanceof ln?[void 0]:t instanceof un?[null]:t instanceof ir?[void 0,...Ns(t.unwrap())]:t instanceof hs?[null,...Ns(t.unwrap())]:t instanceof Vo||t instanceof xn?Ns(t.unwrap()):t instanceof yn?Ns(t._def.innerType):[],su=class t extends We{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.object)return ne(r,{code:Y.invalid_type,expected:pe.object,received:r.parsedType}),Re;let s=this.discriminator,a=r.data[s],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(ne(r,{code:Y.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Re)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){let a=new Map;for(let i of r){let n=Ns(i.shape[e]);if(!n.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of n){if(a.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);a.set(o,i)}}return new t({typeName:te.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...Ge(s)})}};function Zm(t,e){let r=fs(t),s=fs(e);if(t===e)return{valid:!0,data:t};if(r===pe.object&&s===pe.object){let a=Ye.objectKeys(e),i=Ye.objectKeys(t).filter(o=>a.indexOf(o)!==-1),n={...t,...e};for(let o of i){let l=Zm(t[o],e[o]);if(!l.valid)return{valid:!1};n[o]=l.data}return{valid:!0,data:n}}else if(r===pe.array&&s===pe.array){if(t.length!==e.length)return{valid:!1};let a=[];for(let i=0;i<t.length;i++){let n=t[i],o=e[i],l=Zm(n,o);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return r===pe.date&&s===pe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var dn=class extends We{_parse(e){let{status:r,ctx:s}=this._processInputParams(e),a=(i,n)=>{if(tu(i)||tu(n))return Re;let o=Zm(i.value,n.value);return o.valid?((ru(i)||ru(n))&&r.dirty(),{status:r.value,value:o.data}):(ne(s,{code:Y.invalid_intersection_types}),Re)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,n])=>a(i,n)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}};dn.create=(t,e,r)=>new dn({left:t,right:e,typeName:te.ZodIntersection,...Ge(r)});var ms=class t extends We{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==pe.array)return ne(s,{code:Y.invalid_type,expected:pe.array,received:s.parsedType}),Re;if(s.data.length<this._def.items.length)return ne(s,{code:Y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Re;!this._def.rest&&s.data.length>this._def.items.length&&(ne(s,{code:Y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...s.data].map((n,o)=>{let l=this._def.items[o]||this._def.rest;return l?l._parse(new Lr(s,n,s.path,o)):null}).filter(n=>!!n);return s.common.async?Promise.all(i).then(n=>Ut.mergeArray(r,n)):Ut.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};ms.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ms({items:t,typeName:te.ZodTuple,rest:null,...Ge(e)})};var au=class t extends We{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==pe.object)return ne(s,{code:Y.invalid_type,expected:pe.object,received:s.parsedType}),Re;let a=[],i=this._def.keyType,n=this._def.valueType;for(let o in s.data)a.push({key:i._parse(new Lr(s,o,s.path,o)),value:n._parse(new Lr(s,s.data[o],s.path,o)),alwaysSet:o in s.data});return s.common.async?Ut.mergeObjectAsync(r,a):Ut.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof We?new t({keyType:e,valueType:r,typeName:te.ZodRecord,...Ge(s)}):new t({keyType:ua.create(),valueType:e,typeName:te.ZodRecord,...Ge(r)})}},Ti=class extends We{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==pe.map)return ne(s,{code:Y.invalid_type,expected:pe.map,received:s.parsedType}),Re;let a=this._def.keyType,i=this._def.valueType,n=[...s.data.entries()].map(([o,l],c)=>({key:a._parse(new Lr(s,o,s.path,[c,"key"])),value:i._parse(new Lr(s,l,s.path,[c,"value"]))}));if(s.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let l of n){let c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Re;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{let o=new Map;for(let l of n){let c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Re;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}};Ti.create=(t,e,r)=>new Ti({valueType:e,keyType:t,typeName:te.ZodMap,...Ge(r)});var Oi=class t extends We{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==pe.set)return ne(s,{code:Y.invalid_type,expected:pe.set,received:s.parsedType}),Re;let a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(ne(s,{code:Y.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(ne(s,{code:Y.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());let i=this._def.valueType;function n(l){let c=new Set;for(let u of l){if(u.status==="aborted")return Re;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}let o=[...s.data.values()].map((l,c)=>i._parse(new Lr(s,l,s.path,c)));return s.common.async?Promise.all(o).then(l=>n(l)):n(o)}min(e,r){return new t({...this._def,minSize:{value:e,message:ye.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:ye.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Oi.create=(t,e)=>new Oi({valueType:t,minSize:null,maxSize:null,typeName:te.ZodSet,...Ge(e)});var nu=class t extends We{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.function)return ne(r,{code:Y.invalid_type,expected:pe.function,received:r.parsedType}),Re;function s(o,l){return Ho({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Si(),$s].filter(c=>!!c),issueData:{code:Y.invalid_arguments,argumentsError:l}})}function a(o,l){return Ho({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Si(),$s].filter(c=>!!c),issueData:{code:Y.invalid_return_type,returnTypeError:l}})}let i={errorMap:r.common.contextualErrorMap},n=r.data;if(this._def.returns instanceof da){let o=this;return Vt(async function(...l){let c=new nr([]),u=await o._def.args.parseAsync(l,i).catch(d=>{throw c.addIssue(s(l,d)),c}),p=await Reflect.apply(n,this,u);return await o._def.returns._def.type.parseAsync(p,i).catch(d=>{throw c.addIssue(a(p,d)),c})})}else{let o=this;return Vt(function(...l){let c=o._def.args.safeParse(l,i);if(!c.success)throw new nr([s(l,c.error)]);let u=Reflect.apply(n,this,c.data),p=o._def.returns.safeParse(u,i);if(!p.success)throw new nr([a(u,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:ms.create(e).rest(Fs.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new t({args:e||ms.create([]).rest(Fs.create()),returns:r||Fs.create(),typeName:te.ZodFunction,...Ge(s)})}},fn=class extends We{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};fn.create=(t,e)=>new fn({getter:t,typeName:te.ZodLazy,...Ge(e)});var mn=class extends We{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return ne(r,{received:r.data,code:Y.invalid_literal,expected:this._def.value}),Re}return{status:"valid",value:e.data}}get value(){return this._def.value}};mn.create=(t,e)=>new mn({value:t,typeName:te.ZodLiteral,...Ge(e)});function NP(t,e){return new hn({values:t,typeName:te.ZodEnum,...Ge(e)})}var hn=class t extends We{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),s=this._def.values;return ne(r,{expected:Ye.joinValues(s),received:r.parsedType,code:Y.invalid_type}),Re}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),s=this._def.values;return ne(r,{received:r.data,code:Y.invalid_enum_value,options:s}),Re}return Vt(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}};hn.create=NP;var vn=class extends We{_parse(e){let r=Ye.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==pe.string&&s.parsedType!==pe.number){let a=Ye.objectValues(r);return ne(s,{expected:Ye.joinValues(a),received:s.parsedType,code:Y.invalid_type}),Re}if(this._cache||(this._cache=new Set(Ye.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let a=Ye.objectValues(r);return ne(s,{received:s.data,code:Y.invalid_enum_value,options:a}),Re}return Vt(e.data)}get enum(){return this._def.values}};vn.create=(t,e)=>new vn({values:t,typeName:te.ZodNativeEnum,...Ge(e)});var da=class extends We{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.promise&&r.common.async===!1)return ne(r,{code:Y.invalid_type,expected:pe.promise,received:r.parsedType}),Re;let s=r.parsedType===pe.promise?r.data:Promise.resolve(r.data);return Vt(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}};da.create=(t,e)=>new da({type:t,typeName:te.ZodPromise,...Ge(e)});var $r=class extends We{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===te.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:s}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:n=>{ne(s,n),n.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){let n=a.transform(s.data,i);if(s.common.async)return Promise.resolve(n).then(async o=>{if(r.value==="aborted")return Re;let l=await this._def.schema._parseAsync({data:o,path:s.path,parent:s});return l.status==="aborted"?Re:l.status==="dirty"?sn(l.value):r.value==="dirty"?sn(l.value):l});{if(r.value==="aborted")return Re;let o=this._def.schema._parseSync({data:n,path:s.path,parent:s});return o.status==="aborted"?Re:o.status==="dirty"?sn(o.value):r.value==="dirty"?sn(o.value):o}}if(a.type==="refinement"){let n=o=>{let l=a.refinement(o,i);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){let o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?Re:(o.status==="dirty"&&r.dirty(),n(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?Re:(o.status==="dirty"&&r.dirty(),n(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(s.common.async===!1){let n=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!la(n))return Re;let o=a.transform(n.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(n=>la(n)?Promise.resolve(a.transform(n.value,i)).then(o=>({status:r.value,value:o})):Re);Ye.assertNever(a)}};$r.create=(t,e,r)=>new $r({schema:t,typeName:te.ZodEffects,effect:e,...Ge(r)});$r.createWithPreprocess=(t,e,r)=>new $r({schema:e,effect:{type:"preprocess",transform:t},typeName:te.ZodEffects,...Ge(r)});var ir=class extends We{_parse(e){return this._getType(e)===pe.undefined?Vt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ir.create=(t,e)=>new ir({innerType:t,typeName:te.ZodOptional,...Ge(e)});var hs=class extends We{_parse(e){return this._getType(e)===pe.null?Vt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};hs.create=(t,e)=>new hs({innerType:t,typeName:te.ZodNullable,...Ge(e)});var gn=class extends We{_parse(e){let{ctx:r}=this._processInputParams(e),s=r.data;return r.parsedType===pe.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};gn.create=(t,e)=>new gn({innerType:t,typeName:te.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ge(e)});var yn=class extends We{_parse(e){let{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Ei(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new nr(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new nr(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}};yn.create=(t,e)=>new yn({innerType:t,typeName:te.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ge(e)});var ki=class extends We{_parse(e){if(this._getType(e)!==pe.nan){let s=this._getOrReturnCtx(e);return ne(s,{code:Y.invalid_type,expected:pe.nan,received:s.parsedType}),Re}return{status:"valid",value:e.data}}};ki.create=t=>new ki({typeName:te.ZodNaN,...Ge(t)});var jB=Symbol("zod_brand"),Vo=class extends We{_parse(e){let{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}},Go=class t extends We{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?Re:i.status==="dirty"?(r.dirty(),sn(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{let a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Re:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(e,r){return new t({in:e,out:r,typeName:te.ZodPipeline})}},xn=class extends We{_parse(e){let r=this._def.innerType._parse(e),s=a=>(la(a)&&(a.value=Object.freeze(a.value)),a);return Ei(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}};xn.create=(t,e)=>new xn({innerType:t,typeName:te.ZodReadonly,...Ge(e)});function IP(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function FP(t,e={},r){return t?pa.create().superRefine((s,a)=>{let i=t(s);if(i instanceof Promise)return i.then(n=>{if(!n){let o=IP(e,s),l=o.fatal??r??!0;a.addIssue({code:"custom",...o,fatal:l})}});if(!i){let n=IP(e,s),o=n.fatal??r??!0;a.addIssue({code:"custom",...n,fatal:o})}}):pa.create()}var MB={object:or.lazycreate},te;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(te||(te={}));var UB=(t,e={message:`Input not instance of ${t.name}`})=>FP(r=>r instanceof t,e),jP=ua.create,MP=an.create,qB=ki.create,zB=nn.create,UP=on.create,BB=cn.create,HB=Ri.create,VB=ln.create,GB=un.create,WB=pa.create,ZB=Fs.create,KB=Jr.create,JB=Ci.create,QB=js.create,XB=or.create,YB=or.strictCreate,e3=pn.create,t3=su.create,r3=dn.create,s3=ms.create,a3=au.create,n3=Ti.create,i3=Oi.create,o3=nu.create,c3=fn.create,l3=mn.create,u3=hn.create,p3=vn.create,d3=da.create,f3=$r.create,m3=ir.create,h3=hs.create,v3=$r.createWithPreprocess,g3=Go.create,y3=()=>jP().optional(),x3=()=>MP().optional(),b3=()=>UP().optional(),_3={string:t=>ua.create({...t,coerce:!0}),number:t=>an.create({...t,coerce:!0}),boolean:t=>on.create({...t,coerce:!0}),bigint:t=>nn.create({...t,coerce:!0}),date:t=>cn.create({...t,coerce:!0})};var w3=Re;var Km="2025-06-18";var qP=[Km,"2025-03-26","2024-11-05","2024-10-07"],iu="2.0",zP=_.union([_.string(),_.number().int()]),BP=_.string(),S3=_.object({progressToken:_.optional(zP)}).passthrough(),Nr=_.object({_meta:_.optional(S3)}).passthrough(),cr=_.object({method:_.string(),params:_.optional(Nr)}),Wo=_.object({_meta:_.optional(_.object({}).passthrough())}).passthrough(),vs=_.object({method:_.string(),params:_.optional(Wo)}),Fr=_.object({_meta:_.optional(_.object({}).passthrough())}).passthrough(),ou=_.union([_.string(),_.number().int()]),HP=_.object({jsonrpc:_.literal(iu),id:ou}).merge(cr).strict(),VP=t=>HP.safeParse(t).success,GP=_.object({jsonrpc:_.literal(iu)}).merge(vs).strict(),WP=t=>GP.safeParse(t).success,ZP=_.object({jsonrpc:_.literal(iu),id:ou,result:Fr}).strict(),Jm=t=>ZP.safeParse(t).success,vt;(function(t){t[t.ConnectionClosed=-32e3]="ConnectionClosed",t[t.RequestTimeout=-32001]="RequestTimeout",t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError"})(vt||(vt={}));var KP=_.object({jsonrpc:_.literal(iu),id:ou,error:_.object({code:_.number().int(),message:_.string(),data:_.optional(_.unknown())})}).strict(),JP=t=>KP.safeParse(t).success,QP=_.union([HP,GP,ZP,KP]),cu=Fr.strict(),lu=vs.extend({method:_.literal("notifications/cancelled"),params:Wo.extend({requestId:ou,reason:_.string().optional()})}),Zo=_.object({name:_.string(),title:_.optional(_.string())}).passthrough(),XP=Zo.extend({version:_.string()}),E3=_.object({experimental:_.optional(_.object({}).passthrough()),sampling:_.optional(_.object({}).passthrough()),elicitation:_.optional(_.object({}).passthrough()),roots:_.optional(_.object({listChanged:_.optional(_.boolean())}).passthrough())}).passthrough(),Qm=cr.extend({method:_.literal("initialize"),params:Nr.extend({protocolVersion:_.string(),capabilities:E3,clientInfo:XP})});var P3=_.object({experimental:_.optional(_.object({}).passthrough()),logging:_.optional(_.object({}).passthrough()),completions:_.optional(_.object({}).passthrough()),prompts:_.optional(_.object({listChanged:_.optional(_.boolean())}).passthrough()),resources:_.optional(_.object({subscribe:_.optional(_.boolean()),listChanged:_.optional(_.boolean())}).passthrough()),tools:_.optional(_.object({listChanged:_.optional(_.boolean())}).passthrough())}).passthrough(),R3=Fr.extend({protocolVersion:_.string(),capabilities:P3,serverInfo:XP,instructions:_.optional(_.string())}),Xm=vs.extend({method:_.literal("notifications/initialized")});var uu=cr.extend({method:_.literal("ping")}),C3=_.object({progress:_.number(),total:_.optional(_.number()),message:_.optional(_.string())}).passthrough(),pu=vs.extend({method:_.literal("notifications/progress"),params:Wo.merge(C3).extend({progressToken:zP})}),du=cr.extend({params:Nr.extend({cursor:_.optional(BP)}).optional()}),fu=Fr.extend({nextCursor:_.optional(BP)}),YP=_.object({uri:_.string(),mimeType:_.optional(_.string()),_meta:_.optional(_.object({}).passthrough())}).passthrough(),eR=YP.extend({text:_.string()}),Ym=_.string().refine(t=>{try{return atob(t),!0}catch{return!1}},{message:"Invalid Base64 string"}),tR=YP.extend({blob:Ym}),rR=Zo.extend({uri:_.string(),description:_.optional(_.string()),mimeType:_.optional(_.string()),_meta:_.optional(_.object({}).passthrough())}),T3=Zo.extend({uriTemplate:_.string(),description:_.optional(_.string()),mimeType:_.optional(_.string()),_meta:_.optional(_.object({}).passthrough())}),mu=du.extend({method:_.literal("resources/list")}),O3=fu.extend({resources:_.array(rR)}),hu=du.extend({method:_.literal("resources/templates/list")}),k3=fu.extend({resourceTemplates:_.array(T3)}),vu=cr.extend({method:_.literal("resources/read"),params:Nr.extend({uri:_.string()})}),A3=Fr.extend({contents:_.array(_.union([eR,tR]))}),I3=vs.extend({method:_.literal("notifications/resources/list_changed")}),D3=cr.extend({method:_.literal("resources/subscribe"),params:Nr.extend({uri:_.string()})}),L3=cr.extend({method:_.literal("resources/unsubscribe"),params:Nr.extend({uri:_.string()})}),$3=vs.extend({method:_.literal("notifications/resources/updated"),params:Wo.extend({uri:_.string()})}),N3=_.object({name:_.string(),description:_.optional(_.string()),required:_.optional(_.boolean())}).passthrough(),F3=Zo.extend({description:_.optional(_.string()),arguments:_.optional(_.array(N3)),_meta:_.optional(_.object({}).passthrough())}),gu=du.extend({method:_.literal("prompts/list")}),j3=fu.extend({prompts:_.array(F3)}),yu=cr.extend({method:_.literal("prompts/get"),params:Nr.extend({name:_.string(),arguments:_.optional(_.record(_.string()))})}),eh=_.object({type:_.literal("text"),text:_.string(),_meta:_.optional(_.object({}).passthrough())}).passthrough(),th=_.object({type:_.literal("image"),data:Ym,mimeType:_.string(),_meta:_.optional(_.object({}).passthrough())}).passthrough(),rh=_.object({type:_.literal("audio"),data:Ym,mimeType:_.string(),_meta:_.optional(_.object({}).passthrough())}).passthrough(),M3=_.object({type:_.literal("resource"),resource:_.union([eR,tR]),_meta:_.optional(_.object({}).passthrough())}).passthrough(),U3=rR.extend({type:_.literal("resource_link")}),sR=_.union([eh,th,rh,U3,M3]),q3=_.object({role:_.enum(["user","assistant"]),content:sR}).passthrough(),z3=Fr.extend({description:_.optional(_.string()),messages:_.array(q3)}),B3=vs.extend({method:_.literal("notifications/prompts/list_changed")}),H3=_.object({title:_.optional(_.string()),readOnlyHint:_.optional(_.boolean()),destructiveHint:_.optional(_.boolean()),idempotentHint:_.optional(_.boolean()),openWorldHint:_.optional(_.boolean())}).passthrough(),V3=Zo.extend({description:_.optional(_.string()),inputSchema:_.object({type:_.literal("object"),properties:_.optional(_.object({}).passthrough()),required:_.optional(_.array(_.string()))}).passthrough(),outputSchema:_.optional(_.object({type:_.literal("object"),properties:_.optional(_.object({}).passthrough()),required:_.optional(_.array(_.string()))}).passthrough()),annotations:_.optional(H3),_meta:_.optional(_.object({}).passthrough())}),xu=du.extend({method:_.literal("tools/list")}),G3=fu.extend({tools:_.array(V3)}),aR=Fr.extend({content:_.array(sR).default([]),structuredContent:_.object({}).passthrough().optional(),isError:_.optional(_.boolean())}),Ate=aR.or(Fr.extend({toolResult:_.unknown()})),bu=cr.extend({method:_.literal("tools/call"),params:Nr.extend({name:_.string(),arguments:_.optional(_.record(_.unknown()))})}),W3=vs.extend({method:_.literal("notifications/tools/list_changed")}),nR=_.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),Z3=cr.extend({method:_.literal("logging/setLevel"),params:Nr.extend({level:nR})}),K3=vs.extend({method:_.literal("notifications/message"),params:Wo.extend({level:nR,logger:_.optional(_.string()),data:_.unknown()})}),J3=_.object({name:_.string().optional()}).passthrough(),Q3=_.object({hints:_.optional(_.array(J3)),costPriority:_.optional(_.number().min(0).max(1)),speedPriority:_.optional(_.number().min(0).max(1)),intelligencePriority:_.optional(_.number().min(0).max(1))}).passthrough(),X3=_.object({role:_.enum(["user","assistant"]),content:_.union([eh,th,rh])}).passthrough(),Y3=cr.extend({method:_.literal("sampling/createMessage"),params:Nr.extend({messages:_.array(X3),systemPrompt:_.optional(_.string()),includeContext:_.optional(_.enum(["none","thisServer","allServers"])),temperature:_.optional(_.number()),maxTokens:_.number().int(),stopSequences:_.optional(_.array(_.string())),metadata:_.optional(_.object({}).passthrough()),modelPreferences:_.optional(Q3)})}),sh=Fr.extend({model:_.string(),stopReason:_.optional(_.enum(["endTurn","stopSequence","maxTokens"]).or(_.string())),role:_.enum(["user","assistant"]),content:_.discriminatedUnion("type",[eh,th,rh])}),eH=_.object({type:_.literal("boolean"),title:_.optional(_.string()),description:_.optional(_.string()),default:_.optional(_.boolean())}).passthrough(),tH=_.object({type:_.literal("string"),title:_.optional(_.string()),description:_.optional(_.string()),minLength:_.optional(_.number()),maxLength:_.optional(_.number()),format:_.optional(_.enum(["email","uri","date","date-time"]))}).passthrough(),rH=_.object({type:_.enum(["number","integer"]),title:_.optional(_.string()),description:_.optional(_.string()),minimum:_.optional(_.number()),maximum:_.optional(_.number())}).passthrough(),sH=_.object({type:_.literal("string"),title:_.optional(_.string()),description:_.optional(_.string()),enum:_.array(_.string()),enumNames:_.optional(_.array(_.string()))}).passthrough(),aH=_.union([eH,tH,rH,sH]),nH=cr.extend({method:_.literal("elicitation/create"),params:Nr.extend({message:_.string(),requestedSchema:_.object({type:_.literal("object"),properties:_.record(_.string(),aH),required:_.optional(_.array(_.string()))}).passthrough()})}),ah=Fr.extend({action:_.enum(["accept","decline","cancel"]),content:_.optional(_.record(_.string(),_.unknown()))}),iH=_.object({type:_.literal("ref/resource"),uri:_.string()}).passthrough();var oH=_.object({type:_.literal("ref/prompt"),name:_.string()}).passthrough(),_u=cr.extend({method:_.literal("completion/complete"),params:Nr.extend({ref:_.union([oH,iH]),argument:_.object({name:_.string(),value:_.string()}).passthrough(),context:_.optional(_.object({arguments:_.optional(_.record(_.string(),_.string()))}))})}),cH=Fr.extend({completion:_.object({values:_.array(_.string()).max(100),total:_.optional(_.number().int()),hasMore:_.optional(_.boolean())}).passthrough()}),lH=_.object({uri:_.string().startsWith("file://"),name:_.optional(_.string()),_meta:_.optional(_.object({}).passthrough())}).passthrough(),uH=cr.extend({method:_.literal("roots/list")}),nh=Fr.extend({roots:_.array(lH)}),pH=vs.extend({method:_.literal("notifications/roots/list_changed")}),Ite=_.union([uu,Qm,_u,Z3,yu,gu,mu,hu,vu,D3,L3,bu,xu]),Dte=_.union([lu,pu,Xm,pH]),Lte=_.union([cu,sh,ah,nh]),$te=_.union([uu,Y3,nH,uH]),Nte=_.union([lu,pu,K3,$3,I3,W3,B3]),Fte=_.union([cu,R3,cH,z3,j3,O3,k3,A3,aR,G3]),gt=class extends Error{constructor(e,r,s){super(`MCP error ${e}: ${r}`),this.code=e,this.data=s,this.name="McpError"}};var dH=6e4,wu=class{constructor(e){this._options=e,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this.setNotificationHandler(lu,r=>{let s=this._requestHandlerAbortControllers.get(r.params.requestId);s?.abort(r.params.reason)}),this.setNotificationHandler(pu,r=>{this._onprogress(r)}),this.setRequestHandler(uu,r=>({}))}_setupTimeout(e,r,s,a,i=!1){this._timeoutInfo.set(e,{timeoutId:setTimeout(a,r),startTime:Date.now(),timeout:r,maxTotalTimeout:s,resetTimeoutOnProgress:i,onTimeout:a})}_resetTimeout(e){let r=this._timeoutInfo.get(e);if(!r)return!1;let s=Date.now()-r.startTime;if(r.maxTotalTimeout&&s>=r.maxTotalTimeout)throw this._timeoutInfo.delete(e),new gt(vt.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:s});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(e){let r=this._timeoutInfo.get(e);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(e))}async connect(e){var r,s,a;this._transport=e;let i=(r=this.transport)===null||r===void 0?void 0:r.onclose;this._transport.onclose=()=>{i?.(),this._onclose()};let n=(s=this.transport)===null||s===void 0?void 0:s.onerror;this._transport.onerror=l=>{n?.(l),this._onerror(l)};let o=(a=this._transport)===null||a===void 0?void 0:a.onmessage;this._transport.onmessage=(l,c)=>{o?.(l,c),Jm(l)||JP(l)?this._onresponse(l):VP(l)?this._onrequest(l,c):WP(l)?this._onnotification(l):this._onerror(new Error(`Unknown message type: ${JSON.stringify(l)}`))},await this._transport.start()}_onclose(){var e;let r=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._pendingDebouncedNotifications.clear(),this._transport=void 0,(e=this.onclose)===null||e===void 0||e.call(this);let s=new gt(vt.ConnectionClosed,"Connection closed");for(let a of r.values())a(s)}_onerror(e){var r;(r=this.onerror)===null||r===void 0||r.call(this,e)}_onnotification(e){var r;let s=(r=this._notificationHandlers.get(e.method))!==null&&r!==void 0?r:this.fallbackNotificationHandler;s!==void 0&&Promise.resolve().then(()=>s(e)).catch(a=>this._onerror(new Error(`Uncaught error in notification handler: ${a}`)))}_onrequest(e,r){var s,a;let i=(s=this._requestHandlers.get(e.method))!==null&&s!==void 0?s:this.fallbackRequestHandler,n=this._transport;if(i===void 0){n?.send({jsonrpc:"2.0",id:e.id,error:{code:vt.MethodNotFound,message:"Method not found"}}).catch(c=>this._onerror(new Error(`Failed to send an error response: ${c}`)));return}let o=new AbortController;this._requestHandlerAbortControllers.set(e.id,o);let l={signal:o.signal,sessionId:n?.sessionId,_meta:(a=e.params)===null||a===void 0?void 0:a._meta,sendNotification:c=>this.notification(c,{relatedRequestId:e.id}),sendRequest:(c,u,p)=>this.request(c,u,{...p,relatedRequestId:e.id}),authInfo:r?.authInfo,requestId:e.id,requestInfo:r?.requestInfo};Promise.resolve().then(()=>i(e,l)).then(c=>{if(!o.signal.aborted)return n?.send({result:c,jsonrpc:"2.0",id:e.id})},c=>{var u;if(!o.signal.aborted)return n?.send({jsonrpc:"2.0",id:e.id,error:{code:Number.isSafeInteger(c.code)?c.code:vt.InternalError,message:(u=c.message)!==null&&u!==void 0?u:"Internal error"}})}).catch(c=>this._onerror(new Error(`Failed to send response: ${c}`))).finally(()=>{this._requestHandlerAbortControllers.delete(e.id)})}_onprogress(e){let{progressToken:r,...s}=e.params,a=Number(r),i=this._progressHandlers.get(a);if(!i){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(e)}`));return}let n=this._responseHandlers.get(a),o=this._timeoutInfo.get(a);if(o&&n&&o.resetTimeoutOnProgress)try{this._resetTimeout(a)}catch(l){n(l);return}i(s)}_onresponse(e){let r=Number(e.id),s=this._responseHandlers.get(r);if(s===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(e)}`));return}if(this._responseHandlers.delete(r),this._progressHandlers.delete(r),this._cleanupTimeout(r),Jm(e))s(e);else{let a=new gt(e.error.code,e.error.message,e.error.data);s(a)}}get transport(){return this._transport}async close(){var e;await((e=this._transport)===null||e===void 0?void 0:e.close())}request(e,r,s){let{relatedRequestId:a,resumptionToken:i,onresumptiontoken:n}=s??{};return new Promise((o,l)=>{var c,u,p,h,d,m;if(!this._transport){l(new Error("Not connected"));return}((c=this._options)===null||c===void 0?void 0:c.enforceStrictCapabilities)===!0&&this.assertCapabilityForMethod(e.method),(u=s?.signal)===null||u===void 0||u.throwIfAborted();let f=this._requestMessageId++,v={...e,jsonrpc:"2.0",id:f};s?.onprogress&&(this._progressHandlers.set(f,s.onprogress),v.params={...e.params,_meta:{...((p=e.params)===null||p===void 0?void 0:p._meta)||{},progressToken:f}});let g=R=>{var C;this._responseHandlers.delete(f),this._progressHandlers.delete(f),this._cleanupTimeout(f),(C=this._transport)===null||C===void 0||C.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:f,reason:String(R)}},{relatedRequestId:a,resumptionToken:i,onresumptiontoken:n}).catch(P=>this._onerror(new Error(`Failed to send cancellation: ${P}`))),l(R)};this._responseHandlers.set(f,R=>{var C;if(!(!((C=s?.signal)===null||C===void 0)&&C.aborted)){if(R instanceof Error)return l(R);try{let P=r.parse(R.result);o(P)}catch(P){l(P)}}}),(h=s?.signal)===null||h===void 0||h.addEventListener("abort",()=>{var R;g((R=s?.signal)===null||R===void 0?void 0:R.reason)});let b=(d=s?.timeout)!==null&&d!==void 0?d:dH,w=()=>g(new gt(vt.RequestTimeout,"Request timed out",{timeout:b}));this._setupTimeout(f,b,s?.maxTotalTimeout,w,(m=s?.resetTimeoutOnProgress)!==null&&m!==void 0?m:!1),this._transport.send(v,{relatedRequestId:a,resumptionToken:i,onresumptiontoken:n}).catch(R=>{this._cleanupTimeout(f),l(R)})})}async notification(e,r){var s,a;if(!this._transport)throw new Error("Not connected");if(this.assertNotificationCapability(e.method),((a=(s=this._options)===null||s===void 0?void 0:s.debouncedNotificationMethods)!==null&&a!==void 0?a:[]).includes(e.method)&&!e.params&&!r?.relatedRequestId){if(this._pendingDebouncedNotifications.has(e.method))return;this._pendingDebouncedNotifications.add(e.method),Promise.resolve().then(()=>{var l;if(this._pendingDebouncedNotifications.delete(e.method),!this._transport)return;let c={...e,jsonrpc:"2.0"};(l=this._transport)===null||l===void 0||l.send(c,r).catch(u=>this._onerror(u))});return}let o={...e,jsonrpc:"2.0"};await this._transport.send(o,r)}setRequestHandler(e,r){let s=e.shape.method.value;this.assertRequestHandlerCapability(s),this._requestHandlers.set(s,(a,i)=>Promise.resolve(r(e.parse(a),i)))}removeRequestHandler(e){this._requestHandlers.delete(e)}assertCanSetRequestHandler(e){if(this._requestHandlers.has(e))throw new Error(`A request handler for ${e} already exists, which would be overridden`)}setNotificationHandler(e,r){this._notificationHandlers.set(e.shape.method.value,s=>Promise.resolve(r(e.parse(s))))}removeNotificationHandler(e){this._notificationHandlers.delete(e)}};function iR(t,e){return Object.entries(e).reduce((r,[s,a])=>(a&&typeof a=="object"?r[s]=r[s]?{...r[s],...a}:a:r[s]=a,r),{...t})}var cT=ae(oT(),1),qu=class extends wu{constructor(e,r){var s;super(r),this._serverInfo=e,this._capabilities=(s=r?.capabilities)!==null&&s!==void 0?s:{},this._instructions=r?.instructions,this.setRequestHandler(Qm,a=>this._oninitialize(a)),this.setNotificationHandler(Xm,()=>{var a;return(a=this.oninitialized)===null||a===void 0?void 0:a.call(this)})}registerCapabilities(e){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=iR(this._capabilities,e)}assertCapabilityForMethod(e){var r,s,a;switch(e){case"sampling/createMessage":if(!(!((r=this._clientCapabilities)===null||r===void 0)&&r.sampling))throw new Error(`Client does not support sampling (required for ${e})`);break;case"elicitation/create":if(!(!((s=this._clientCapabilities)===null||s===void 0)&&s.elicitation))throw new Error(`Client does not support elicitation (required for ${e})`);break;case"roots/list":if(!(!((a=this._clientCapabilities)===null||a===void 0)&&a.roots))throw new Error(`Client does not support listing roots (required for ${e})`);break;case"ping":break}}assertNotificationCapability(e){switch(e){case"notifications/message":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw new Error(`Server does not support notifying about resources (required for ${e})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw new Error(`Server does not support notifying of tool list changes (required for ${e})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw new Error(`Server does not support notifying of prompt list changes (required for ${e})`);break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(e){switch(e){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Server does not support sampling (required for ${e})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw new Error(`Server does not support prompts (required for ${e})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw new Error(`Server does not support resources (required for ${e})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw new Error(`Server does not support tools (required for ${e})`);break;case"ping":case"initialize":break}}async _oninitialize(e){let r=e.params.protocolVersion;return this._clientCapabilities=e.params.capabilities,this._clientVersion=e.params.clientInfo,{protocolVersion:qP.includes(r)?r:Km,capabilities:this.getCapabilities(),serverInfo:this._serverInfo,...this._instructions&&{instructions:this._instructions}}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},cu)}async createMessage(e,r){return this.request({method:"sampling/createMessage",params:e},sh,r)}async elicitInput(e,r){let s=await this.request({method:"elicitation/create",params:e},ah,r);if(s.action==="accept"&&s.content)try{let a=new cT.default,i=a.compile(e.requestedSchema);if(!i(s.content))throw new gt(vt.InvalidParams,`Elicitation response content does not match requested schema: ${a.errorsText(i.errors)}`)}catch(a){throw a instanceof gt?a:new gt(vt.InternalError,`Error validating elicitation response: ${a}`)}return s}async listRoots(e,r){return this.request({method:"roots/list",params:e},nh,r)}async sendLoggingMessage(e){return this.notification({method:"notifications/message",params:e})}async sendResourceUpdated(e){return this.notification({method:"notifications/resources/updated",params:e})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}};var uT=Symbol("Let zodToJsonSchema decide on which parser to use");var lT={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},pT=t=>typeof t=="string"?{...lT,name:t}:{...lT,...t};var dT=t=>{let e=pT(t),r=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([s,a])=>[a._def,{def:a._def,path:[...e.basePath,e.definitionPath,s],jsonSchema:void 0}]))}};function kh(t,e,r,s){s?.errorMessages&&r&&(t.errorMessage={...t.errorMessage,[e]:r})}function rt(t,e,r,s,a){t[e]=r,kh(t,e,s,a)}function fT(){return{}}function mT(t,e){let r={type:"array"};return t.type?._def&&t.type?._def?.typeName!==te.ZodAny&&(r.items=ke(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&rt(r,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&rt(r,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(rt(r,"minItems",t.exactLength.value,t.exactLength.message,e),rt(r,"maxItems",t.exactLength.value,t.exactLength.message,e)),r}function hT(t,e){let r={type:"integer",format:"int64"};if(!t.checks)return r;for(let s of t.checks)switch(s.kind){case"min":e.target==="jsonSchema7"?s.inclusive?rt(r,"minimum",s.value,s.message,e):rt(r,"exclusiveMinimum",s.value,s.message,e):(s.inclusive||(r.exclusiveMinimum=!0),rt(r,"minimum",s.value,s.message,e));break;case"max":e.target==="jsonSchema7"?s.inclusive?rt(r,"maximum",s.value,s.message,e):rt(r,"exclusiveMaximum",s.value,s.message,e):(s.inclusive||(r.exclusiveMaximum=!0),rt(r,"maximum",s.value,s.message,e));break;case"multipleOf":rt(r,"multipleOf",s.value,s.message,e);break}return r}function vT(){return{type:"boolean"}}function zu(t,e){return ke(t.type._def,e)}var gT=(t,e)=>ke(t.innerType._def,e);function Ah(t,e,r){let s=r??e.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((a,i)=>Ah(t,e,a))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return VV(t,e)}}var VV=(t,e)=>{let r={type:"integer",format:"unix-time"};if(e.target==="openApi3")return r;for(let s of t.checks)switch(s.kind){case"min":rt(r,"minimum",s.value,s.message,e);break;case"max":rt(r,"maximum",s.value,s.message,e);break}return r};function yT(t,e){return{...ke(t.innerType._def,e),default:t.defaultValue()}}function xT(t,e){return e.effectStrategy==="input"?ke(t.schema._def,e):{}}function bT(t){return{type:"string",enum:Array.from(t.values)}}var GV=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function _T(t,e){let r=[ke(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),ke(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(i=>!!i),s=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,a=[];return r.forEach(i=>{if(GV(i))a.push(...i.allOf),i.unevaluatedProperties===void 0&&(s=void 0);else{let n=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:o,...l}=i;n=l}else s=void 0;a.push(n)}}),a.length?{allOf:a,...s}:void 0}function wT(t,e){let r=typeof t.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[t.value]}:{type:r==="bigint"?"integer":r,const:t.value}}var Ih,Qr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Ih===void 0&&(Ih=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ih),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Bu(t,e){let r={type:"string"};if(t.checks)for(let s of t.checks)switch(s.kind){case"min":rt(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,s.value):s.value,s.message,e);break;case"max":rt(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,s.value):s.value,s.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Xr(r,"email",s.message,e);break;case"format:idn-email":Xr(r,"idn-email",s.message,e);break;case"pattern:zod":Kt(r,Qr.email,s.message,e);break}break;case"url":Xr(r,"uri",s.message,e);break;case"uuid":Xr(r,"uuid",s.message,e);break;case"regex":Kt(r,s.regex,s.message,e);break;case"cuid":Kt(r,Qr.cuid,s.message,e);break;case"cuid2":Kt(r,Qr.cuid2,s.message,e);break;case"startsWith":Kt(r,RegExp(`^${Dh(s.value,e)}`),s.message,e);break;case"endsWith":Kt(r,RegExp(`${Dh(s.value,e)}$`),s.message,e);break;case"datetime":Xr(r,"date-time",s.message,e);break;case"date":Xr(r,"date",s.message,e);break;case"time":Xr(r,"time",s.message,e);break;case"duration":Xr(r,"duration",s.message,e);break;case"length":rt(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,s.value):s.value,s.message,e),rt(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,s.value):s.value,s.message,e);break;case"includes":{Kt(r,RegExp(Dh(s.value,e)),s.message,e);break}case"ip":{s.version!=="v6"&&Xr(r,"ipv4",s.message,e),s.version!=="v4"&&Xr(r,"ipv6",s.message,e);break}case"base64url":Kt(r,Qr.base64url,s.message,e);break;case"jwt":Kt(r,Qr.jwt,s.message,e);break;case"cidr":{s.version!=="v6"&&Kt(r,Qr.ipv4Cidr,s.message,e),s.version!=="v4"&&Kt(r,Qr.ipv6Cidr,s.message,e);break}case"emoji":Kt(r,Qr.emoji(),s.message,e);break;case"ulid":{Kt(r,Qr.ulid,s.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{Xr(r,"binary",s.message,e);break}case"contentEncoding:base64":{rt(r,"contentEncoding","base64",s.message,e);break}case"pattern:zod":{Kt(r,Qr.base64,s.message,e);break}}break}case"nanoid":Kt(r,Qr.nanoid,s.message,e);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}function Dh(t,e){return e.patternStrategy==="escape"?ZV(t):t}var WV=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function ZV(t){let e="";for(let r=0;r<t.length;r++)WV.has(t[r])||(e+="\\"),e+=t[r];return e}function Xr(t,e,r,s){t.format||t.anyOf?.some(a=>a.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&s.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...r&&s.errorMessages&&{errorMessage:{format:r}}})):rt(t,"format",e,r,s)}function Kt(t,e,r,s){t.pattern||t.allOf?.some(a=>a.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&s.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:ST(e,s),...r&&s.errorMessages&&{errorMessage:{pattern:r}}})):rt(t,"pattern",ST(e,s),r,s)}function ST(t,e){if(!e.applyRegexFlags||!t.flags)return t.source;let r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},s=r.i?t.source.toLowerCase():t.source,a="",i=!1,n=!1,o=!1;for(let l=0;l<s.length;l++){if(i){a+=s[l],i=!1;continue}if(r.i){if(n){if(s[l].match(/[a-z]/)){o?(a+=s[l],a+=`${s[l-2]}-${s[l]}`.toUpperCase(),o=!1):s[l+1]==="-"&&s[l+2]?.match(/[a-z]/)?(a+=s[l],o=!0):a+=`${s[l]}${s[l].toUpperCase()}`;continue}}else if(s[l].match(/[a-z]/)){a+=`[${s[l]}${s[l].toUpperCase()}]`;continue}}if(r.m){if(s[l]==="^"){a+=`(^|(?<=[\r
]))`;continue}else if(s[l]==="$"){a+=`($|(?=[\r
]))`;continue}}if(r.s&&s[l]==="."){a+=n?`${s[l]}\r
`:`[${s[l]}\r
]`;continue}a+=s[l],s[l]==="\\"?i=!0:n&&s[l]==="]"?n=!1:!n&&s[l]==="["&&(n=!0)}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return a}function Hu(t,e){if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&t.keyType?._def.typeName===te.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((s,a)=>({...s,[a]:ke(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",a]})??{}}),{}),additionalProperties:e.rejectedAdditionalProperties};let r={type:"object",additionalProperties:ke(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return r;if(t.keyType?._def.typeName===te.ZodString&&t.keyType._def.checks?.length){let{type:s,...a}=Bu(t.keyType._def,e);return{...r,propertyNames:a}}else{if(t.keyType?._def.typeName===te.ZodEnum)return{...r,propertyNames:{enum:t.keyType._def.values}};if(t.keyType?._def.typeName===te.ZodBranded&&t.keyType._def.type._def.typeName===te.ZodString&&t.keyType._def.type._def.checks?.length){let{type:s,...a}=zu(t.keyType._def,e);return{...r,propertyNames:a}}}return r}function ET(t,e){if(e.mapStrategy==="record")return Hu(t,e);let r=ke(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},s=ke(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,s],minItems:2,maxItems:2}}}function PT(t){let e=t.values,s=Object.keys(t.values).filter(i=>typeof e[e[i]]!="number").map(i=>e[i]),a=Array.from(new Set(s.map(i=>typeof i)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:s}}function RT(){return{not:{}}}function CT(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var Jo={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function OT(t,e){if(e.target==="openApi3")return TT(t,e);let r=t.options instanceof Map?Array.from(t.options.values()):t.options;if(r.every(s=>s._def.typeName in Jo&&(!s._def.checks||!s._def.checks.length))){let s=r.reduce((a,i)=>{let n=Jo[i._def.typeName];return n&&!a.includes(n)?[...a,n]:a},[]);return{type:s.length>1?s:s[0]}}else if(r.every(s=>s._def.typeName==="ZodLiteral"&&!s.description)){let s=r.reduce((a,i)=>{let n=typeof i._def.value;switch(n){case"string":case"number":case"boolean":return[...a,n];case"bigint":return[...a,"integer"];case"object":if(i._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(s.length===r.length){let a=s.filter((i,n,o)=>o.indexOf(i)===n);return{type:a.length>1?a:a[0],enum:r.reduce((i,n)=>i.includes(n._def.value)?i:[...i,n._def.value],[])}}}else if(r.every(s=>s._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((s,a)=>[...s,...a._def.values.filter(i=>!s.includes(i))],[])};return TT(t,e)}var TT=(t,e)=>{let r=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((s,a)=>ke(s._def,{...e,currentPath:[...e.currentPath,"anyOf",`${a}`]})).filter(s=>!!s&&(!e.strictUnions||typeof s=="object"&&Object.keys(s).length>0));return r.length?{anyOf:r}:void 0};function kT(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:Jo[t.innerType._def.typeName],nullable:!0}:{type:[Jo[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){let s=ke(t.innerType._def,{...e,currentPath:[...e.currentPath]});return s&&"$ref"in s?{allOf:[s],nullable:!0}:s&&{...s,nullable:!0}}let r=ke(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function AT(t,e){let r={type:"number"};if(!t.checks)return r;for(let s of t.checks)switch(s.kind){case"int":r.type="integer",kh(r,"type",s.message,e);break;case"min":e.target==="jsonSchema7"?s.inclusive?rt(r,"minimum",s.value,s.message,e):rt(r,"exclusiveMinimum",s.value,s.message,e):(s.inclusive||(r.exclusiveMinimum=!0),rt(r,"minimum",s.value,s.message,e));break;case"max":e.target==="jsonSchema7"?s.inclusive?rt(r,"maximum",s.value,s.message,e):rt(r,"exclusiveMaximum",s.value,s.message,e):(s.inclusive||(r.exclusiveMaximum=!0),rt(r,"maximum",s.value,s.message,e));break;case"multipleOf":rt(r,"multipleOf",s.value,s.message,e);break}return r}function IT(t,e){let r=e.target==="openAi",s={type:"object",properties:{}},a=[],i=t.shape();for(let o in i){let l=i[o];if(l===void 0||l._def===void 0)continue;let c=JV(l);c&&r&&(l instanceof ir&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),c=!1);let u=ke(l._def,{...e,currentPath:[...e.currentPath,"properties",o],propertyPath:[...e.currentPath,"properties",o]});u!==void 0&&(s.properties[o]=u,c||a.push(o))}a.length&&(s.required=a);let n=KV(t,e);return n!==void 0&&(s.additionalProperties=n),s}function KV(t,e){if(t.catchall._def.typeName!=="ZodNever")return ke(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function JV(t){try{return t.isOptional()}catch{return!0}}var DT=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return ke(t.innerType._def,e);let r=ke(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}};var LT=(t,e)=>{if(e.pipeStrategy==="input")return ke(t.in._def,e);if(e.pipeStrategy==="output")return ke(t.out._def,e);let r=ke(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),s=ke(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,s].filter(a=>a!==void 0)}};function $T(t,e){return ke(t.type._def,e)}function NT(t,e){let s={type:"array",uniqueItems:!0,items:ke(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&rt(s,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&rt(s,"maxItems",t.maxSize.value,t.maxSize.message,e),s}function FT(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((r,s)=>ke(r._def,{...e,currentPath:[...e.currentPath,"items",`${s}`]})).reduce((r,s)=>s===void 0?r:[...r,s],[]),additionalItems:ke(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((r,s)=>ke(r._def,{...e,currentPath:[...e.currentPath,"items",`${s}`]})).reduce((r,s)=>s===void 0?r:[...r,s],[])}}function jT(){return{not:{}}}function MT(){return{}}var UT=(t,e)=>ke(t.innerType._def,e);var qT=(t,e,r)=>{switch(e){case te.ZodString:return Bu(t,r);case te.ZodNumber:return AT(t,r);case te.ZodObject:return IT(t,r);case te.ZodBigInt:return hT(t,r);case te.ZodBoolean:return vT();case te.ZodDate:return Ah(t,r);case te.ZodUndefined:return jT();case te.ZodNull:return CT(r);case te.ZodArray:return mT(t,r);case te.ZodUnion:case te.ZodDiscriminatedUnion:return OT(t,r);case te.ZodIntersection:return _T(t,r);case te.ZodTuple:return FT(t,r);case te.ZodRecord:return Hu(t,r);case te.ZodLiteral:return wT(t,r);case te.ZodEnum:return bT(t);case te.ZodNativeEnum:return PT(t);case te.ZodNullable:return kT(t,r);case te.ZodOptional:return DT(t,r);case te.ZodMap:return ET(t,r);case te.ZodSet:return NT(t,r);case te.ZodLazy:return()=>t.getter()._def;case te.ZodPromise:return $T(t,r);case te.ZodNaN:case te.ZodNever:return RT();case te.ZodEffects:return xT(t,r);case te.ZodAny:return fT();case te.ZodUnknown:return MT();case te.ZodDefault:return yT(t,r);case te.ZodBranded:return zu(t,r);case te.ZodReadonly:return UT(t,r);case te.ZodCatch:return gT(t,r);case te.ZodPipeline:return LT(t,r);case te.ZodFunction:case te.ZodVoid:case te.ZodSymbol:return;default:return(s=>{})(e)}};function ke(t,e,r=!1){let s=e.seen.get(t);if(e.override){let o=e.override?.(t,e,s,r);if(o!==uT)return o}if(s&&!r){let o=QV(s,e);if(o!==void 0)return o}let a={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,a);let i=qT(t,t.typeName,e),n=typeof i=="function"?ke(i(),e):i;if(n&&YV(t,e,n),e.postProcess){let o=e.postProcess(n,t,e);return a.jsonSchema=n,o}return a.jsonSchema=n,n}var QV=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:XV(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((r,s)=>e.currentPath[s]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},XV=(t,e)=>{let r=0;for(;r<t.length&&r<e.length&&t[r]===e[r];r++);return[(t.length-r).toString(),...e.slice(r)].join("/")},YV=(t,e,r)=>(t.description&&(r.description=t.description,e.markdownDescription&&(r.markdownDescription=t.description)),r);var Vu=(t,e)=>{let r=dT(e),s=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((l,[c,u])=>({...l,[c]:ke(u._def,{...r,currentPath:[...r.basePath,r.definitionPath,c]},!0)??{}}),{}):void 0,a=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,i=ke(t._def,a===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,a]},!1)??{},n=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;n!==void 0&&(i.title=n);let o=a===void 0?s?{...i,[r.definitionPath]:s}:i:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,a].join("/"),[r.definitionPath]:{...s,[a]:i}};return r.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in o||"oneOf"in o||"allOf"in o||"type"in o&&Array.isArray(o.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),o};var Lh;(function(t){t.Completable="McpCompletable"})(Lh||(Lh={}));var Ai=class extends We{_parse(e){let{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}};Ai.create=(t,e)=>new Ai({type:t,typeName:Lh.Completable,complete:e.complete,...e5(e)});function e5(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:s,description:a}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(n,o)=>{var l,c;let{message:u}=t;return n.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??s)!==null&&l!==void 0?l:o.defaultError}:n.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:o.defaultError}},description:a}}var Wu=class{constructor(e,r){this._registeredResources={},this._registeredResourceTemplates={},this._registeredTools={},this._registeredPrompts={},this._toolHandlersInitialized=!1,this._completionHandlerInitialized=!1,this._resourceHandlersInitialized=!1,this._promptHandlersInitialized=!1,this.server=new qu(e,r)}async connect(e){return await this.server.connect(e)}async close(){await this.server.close()}setToolRequestHandlers(){this._toolHandlersInitialized||(this.server.assertCanSetRequestHandler(xu.shape.method.value),this.server.assertCanSetRequestHandler(bu.shape.method.value),this.server.registerCapabilities({tools:{listChanged:!0}}),this.server.setRequestHandler(xu,()=>({tools:Object.entries(this._registeredTools).filter(([,e])=>e.enabled).map(([e,r])=>{let s={name:e,title:r.title,description:r.description,inputSchema:r.inputSchema?Vu(r.inputSchema,{strictUnions:!0}):t5,annotations:r.annotations};return r.outputSchema&&(s.outputSchema=Vu(r.outputSchema,{strictUnions:!0})),s})})),this.server.setRequestHandler(bu,async(e,r)=>{let s=this._registeredTools[e.params.name];if(!s)throw new gt(vt.InvalidParams,`Tool ${e.params.name} not found`);if(!s.enabled)throw new gt(vt.InvalidParams,`Tool ${e.params.name} disabled`);let a;if(s.inputSchema){let i=await s.inputSchema.safeParseAsync(e.params.arguments);if(!i.success)throw new gt(vt.InvalidParams,`Invalid arguments for tool ${e.params.name}: ${i.error.message}`);let n=i.data,o=s.callback;try{a=await Promise.resolve(o(n,r))}catch(l){a={content:[{type:"text",text:l instanceof Error?l.message:String(l)}],isError:!0}}}else{let i=s.callback;try{a=await Promise.resolve(i(r))}catch(n){a={content:[{type:"text",text:n instanceof Error?n.message:String(n)}],isError:!0}}}if(s.outputSchema&&!a.isError){if(!a.structuredContent)throw new gt(vt.InvalidParams,`Tool ${e.params.name} has an output schema but no structured content was provided`);let i=await s.outputSchema.safeParseAsync(a.structuredContent);if(!i.success)throw new gt(vt.InvalidParams,`Invalid structured content for tool ${e.params.name}: ${i.error.message}`)}return a}),this._toolHandlersInitialized=!0)}setCompletionRequestHandler(){this._completionHandlerInitialized||(this.server.assertCanSetRequestHandler(_u.shape.method.value),this.server.registerCapabilities({completions:{}}),this.server.setRequestHandler(_u,async e=>{switch(e.params.ref.type){case"ref/prompt":return this.handlePromptCompletion(e,e.params.ref);case"ref/resource":return this.handleResourceCompletion(e,e.params.ref);default:throw new gt(vt.InvalidParams,`Invalid completion reference: ${e.params.ref}`)}}),this._completionHandlerInitialized=!0)}async handlePromptCompletion(e,r){let s=this._registeredPrompts[r.name];if(!s)throw new gt(vt.InvalidParams,`Prompt ${r.name} not found`);if(!s.enabled)throw new gt(vt.InvalidParams,`Prompt ${r.name} disabled`);if(!s.argsSchema)return Gu;let a=s.argsSchema.shape[e.params.argument.name];if(!(a instanceof Ai))return Gu;let n=await a._def.complete(e.params.argument.value,e.params.context);return BT(n)}async handleResourceCompletion(e,r){let s=Object.values(this._registeredResourceTemplates).find(n=>n.resourceTemplate.uriTemplate.toString()===r.uri);if(!s){if(this._registeredResources[r.uri])return Gu;throw new gt(vt.InvalidParams,`Resource template ${e.params.ref.uri} not found`)}let a=s.resourceTemplate.completeCallback(e.params.argument.name);if(!a)return Gu;let i=await a(e.params.argument.value,e.params.context);return BT(i)}setResourceRequestHandlers(){this._resourceHandlersInitialized||(this.server.assertCanSetRequestHandler(mu.shape.method.value),this.server.assertCanSetRequestHandler(hu.shape.method.value),this.server.assertCanSetRequestHandler(vu.shape.method.value),this.server.registerCapabilities({resources:{listChanged:!0}}),this.server.setRequestHandler(mu,async(e,r)=>{let s=Object.entries(this._registeredResources).filter(([i,n])=>n.enabled).map(([i,n])=>({uri:i,name:n.name,...n.metadata})),a=[];for(let i of Object.values(this._registeredResourceTemplates)){if(!i.resourceTemplate.listCallback)continue;let n=await i.resourceTemplate.listCallback(r);for(let o of n.resources)a.push({...i.metadata,...o})}return{resources:[...s,...a]}}),this.server.setRequestHandler(hu,async()=>({resourceTemplates:Object.entries(this._registeredResourceTemplates).map(([r,s])=>({name:r,uriTemplate:s.resourceTemplate.uriTemplate.toString(),...s.metadata}))})),this.server.setRequestHandler(vu,async(e,r)=>{let s=new URL(e.params.uri),a=this._registeredResources[s.toString()];if(a){if(!a.enabled)throw new gt(vt.InvalidParams,`Resource ${s} disabled`);return a.readCallback(s,r)}for(let i of Object.values(this._registeredResourceTemplates)){let n=i.resourceTemplate.uriTemplate.match(s.toString());if(n)return i.readCallback(s,n,r)}throw new gt(vt.InvalidParams,`Resource ${s} not found`)}),this.setCompletionRequestHandler(),this._resourceHandlersInitialized=!0)}setPromptRequestHandlers(){this._promptHandlersInitialized||(this.server.assertCanSetRequestHandler(gu.shape.method.value),this.server.assertCanSetRequestHandler(yu.shape.method.value),this.server.registerCapabilities({prompts:{listChanged:!0}}),this.server.setRequestHandler(gu,()=>({prompts:Object.entries(this._registeredPrompts).filter(([,e])=>e.enabled).map(([e,r])=>({name:e,title:r.title,description:r.description,arguments:r.argsSchema?s5(r.argsSchema):void 0}))})),this.server.setRequestHandler(yu,async(e,r)=>{let s=this._registeredPrompts[e.params.name];if(!s)throw new gt(vt.InvalidParams,`Prompt ${e.params.name} not found`);if(!s.enabled)throw new gt(vt.InvalidParams,`Prompt ${e.params.name} disabled`);if(s.argsSchema){let a=await s.argsSchema.safeParseAsync(e.params.arguments);if(!a.success)throw new gt(vt.InvalidParams,`Invalid arguments for prompt ${e.params.name}: ${a.error.message}`);let i=a.data,n=s.callback;return await Promise.resolve(n(i,r))}else{let a=s.callback;return await Promise.resolve(a(r))}}),this.setCompletionRequestHandler(),this._promptHandlersInitialized=!0)}resource(e,r,...s){let a;typeof s[0]=="object"&&(a=s.shift());let i=s[0];if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let n=this._createRegisteredResource(e,void 0,r,a,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),n}else{if(this._registeredResourceTemplates[e])throw new Error(`Resource template ${e} is already registered`);let n=this._createRegisteredResourceTemplate(e,void 0,r,a,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),n}}registerResource(e,r,s,a){if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let i=this._createRegisteredResource(e,s.title,r,s,a);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}else{if(this._registeredResourceTemplates[e])throw new Error(`Resource template ${e} is already registered`);let i=this._createRegisteredResourceTemplate(e,s.title,r,s,a);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}}_createRegisteredResource(e,r,s,a,i){let n={name:e,title:r,metadata:a,readCallback:i,enabled:!0,disable:()=>n.update({enabled:!1}),enable:()=>n.update({enabled:!0}),remove:()=>n.update({uri:null}),update:o=>{typeof o.uri<"u"&&o.uri!==s&&(delete this._registeredResources[s],o.uri&&(this._registeredResources[o.uri]=n)),typeof o.name<"u"&&(n.name=o.name),typeof o.title<"u"&&(n.title=o.title),typeof o.metadata<"u"&&(n.metadata=o.metadata),typeof o.callback<"u"&&(n.readCallback=o.callback),typeof o.enabled<"u"&&(n.enabled=o.enabled),this.sendResourceListChanged()}};return this._registeredResources[s]=n,n}_createRegisteredResourceTemplate(e,r,s,a,i){let n={resourceTemplate:s,title:r,metadata:a,readCallback:i,enabled:!0,disable:()=>n.update({enabled:!1}),enable:()=>n.update({enabled:!0}),remove:()=>n.update({name:null}),update:o=>{typeof o.name<"u"&&o.name!==e&&(delete this._registeredResourceTemplates[e],o.name&&(this._registeredResourceTemplates[o.name]=n)),typeof o.title<"u"&&(n.title=o.title),typeof o.template<"u"&&(n.resourceTemplate=o.template),typeof o.metadata<"u"&&(n.metadata=o.metadata),typeof o.callback<"u"&&(n.readCallback=o.callback),typeof o.enabled<"u"&&(n.enabled=o.enabled),this.sendResourceListChanged()}};return this._registeredResourceTemplates[e]=n,n}_createRegisteredPrompt(e,r,s,a,i){let n={title:r,description:s,argsSchema:a===void 0?void 0:_.object(a),callback:i,enabled:!0,disable:()=>n.update({enabled:!1}),enable:()=>n.update({enabled:!0}),remove:()=>n.update({name:null}),update:o=>{typeof o.name<"u"&&o.name!==e&&(delete this._registeredPrompts[e],o.name&&(this._registeredPrompts[o.name]=n)),typeof o.title<"u"&&(n.title=o.title),typeof o.description<"u"&&(n.description=o.description),typeof o.argsSchema<"u"&&(n.argsSchema=_.object(o.argsSchema)),typeof o.callback<"u"&&(n.callback=o.callback),typeof o.enabled<"u"&&(n.enabled=o.enabled),this.sendPromptListChanged()}};return this._registeredPrompts[e]=n,n}_createRegisteredTool(e,r,s,a,i,n,o){let l={title:r,description:s,inputSchema:a===void 0?void 0:_.object(a),outputSchema:i===void 0?void 0:_.object(i),annotations:n,callback:o,enabled:!0,disable:()=>l.update({enabled:!1}),enable:()=>l.update({enabled:!0}),remove:()=>l.update({name:null}),update:c=>{typeof c.name<"u"&&c.name!==e&&(delete this._registeredTools[e],c.name&&(this._registeredTools[c.name]=l)),typeof c.title<"u"&&(l.title=c.title),typeof c.description<"u"&&(l.description=c.description),typeof c.paramsSchema<"u"&&(l.inputSchema=_.object(c.paramsSchema)),typeof c.callback<"u"&&(l.callback=c.callback),typeof c.annotations<"u"&&(l.annotations=c.annotations),typeof c.enabled<"u"&&(l.enabled=c.enabled),this.sendToolListChanged()}};return this._registeredTools[e]=l,this.setToolRequestHandlers(),this.sendToolListChanged(),l}tool(e,...r){if(this._registeredTools[e])throw new Error(`Tool ${e} is already registered`);let s,a,i,n;if(typeof r[0]=="string"&&(s=r.shift()),r.length>1){let l=r[0];zT(l)?(a=r.shift(),r.length>1&&typeof r[0]=="object"&&r[0]!==null&&!zT(r[0])&&(n=r.shift())):typeof l=="object"&&l!==null&&(n=r.shift())}let o=r[0];return this._createRegisteredTool(e,void 0,s,a,i,n,o)}registerTool(e,r,s){if(this._registeredTools[e])throw new Error(`Tool ${e} is already registered`);let{title:a,description:i,inputSchema:n,outputSchema:o,annotations:l}=r;return this._createRegisteredTool(e,a,i,n,o,l,s)}prompt(e,...r){if(this._registeredPrompts[e])throw new Error(`Prompt ${e} is already registered`);let s;typeof r[0]=="string"&&(s=r.shift());let a;r.length>1&&(a=r.shift());let i=r[0],n=this._createRegisteredPrompt(e,void 0,s,a,i);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),n}registerPrompt(e,r,s){if(this._registeredPrompts[e])throw new Error(`Prompt ${e} is already registered`);let{title:a,description:i,argsSchema:n}=r,o=this._createRegisteredPrompt(e,a,i,n,s);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),o}isConnected(){return this.server.transport!==void 0}sendResourceListChanged(){this.isConnected()&&this.server.sendResourceListChanged()}sendToolListChanged(){this.isConnected()&&this.server.sendToolListChanged()}sendPromptListChanged(){this.isConnected()&&this.server.sendPromptListChanged()}};var t5={type:"object",properties:{}};function zT(t){return typeof t!="object"||t===null?!1:Object.keys(t).length===0||Object.values(t).some(r5)}function r5(t){return t!==null&&typeof t=="object"&&"parse"in t&&typeof t.parse=="function"&&"safeParse"in t&&typeof t.safeParse=="function"}function s5(t){return Object.entries(t.shape).map(([e,r])=>({name:e,description:r.description,required:!r.isOptional()}))}function BT(t){return{completion:{values:t.slice(0,100),total:t.length,hasMore:t.length>100}}}var Gu={completion:{values:[],hasMore:!1}};var vk=ae(require("http"),1);var Ne=ae(require("vscode"),1),va=ae(require("path"),1);async function HT(t={}){try{let e=xo(t.uri);return{content:[{type:"text",text:JSON.stringify(e,null,2)}]}}catch(e){throw console.error("Error getting diagnostics through MCP:",e),e}}async function VT({filePath:t,preview:e,startText:r,endText:s,selectToEndOfLine:a,makeFrontmost:i=!0}){try{if(!t)throw new Error("File path is required");let n;if(!va.isAbsolute(t)&&Ne.workspace.workspaceFolders&&Ne.workspace.workspaceFolders.length>0){let o=Ne.workspace.workspaceFolders[0].uri.fsPath,l=va.join(o,t);n=Ne.Uri.file(l),console.log(`Converted relative path '${t}' to absolute: '${l}'`)}else n=Ne.Uri.file(t);try{await Ne.workspace.fs.stat(n);let o=await Ne.workspace.openTextDocument(n),l=Ne.window.visibleTextEditors.some(p=>p.document.uri.toString()===n.toString()),c;if(i||!l?c=await Ne.window.showTextDocument(o,{preview:e,preserveFocus:!i}):c=Ne.window.visibleTextEditors.find(p=>p.document.uri.toString()===n.toString()),r&&c){let p=o.getText(),h={success:!0,filePath:n.fsPath,message:`Opened file: ${n.fsPath}`},d=p.indexOf(r);if(d!==-1){let m=o.positionAt(d),f;if(s){let g=p.substring(d+r.length).indexOf(s);if(g!==-1){let b=d+r.length+g+s.length;f=o.positionAt(b),a&&(f=new Ne.Position(f.line,Number.MAX_SAFE_INTEGER)),c.selection=new Ne.Selection(m,f),c.revealRange(new Ne.Range(m,f),Ne.TextEditorRevealType.InCenter),h.message=`Opened file and selected text from "${r}" to "${s}"`}else c.selection=new Ne.Selection(m,m),c.revealRange(new Ne.Range(m,m),Ne.TextEditorRevealType.InCenter),h.message=`Opened file and positioned at "${r}" (end text "${s}" not found)`}else f=o.positionAt(d+r.length),c.selection=new Ne.Selection(m,f),c.revealRange(new Ne.Range(m,f),Ne.TextEditorRevealType.InCenter),h.message=`Opened file and selected text "${r}"`}else h.message=`Opened file, but text "${r}" not found`;return{content:[{type:"text",text:h.message}]}}let u={success:!0,filePath:n.fsPath,fileUrl:o.uri.toString(),message:`Opened file: ${n.fsPath}`};return i||(u.languageId=o.languageId,u.lineCount=o.lineCount,u.isDirty=o.isDirty,u.isUntitled=o.isUntitled,u.isClosed=o.isClosed),{content:[{type:"text",text:i?u.message:JSON.stringify(u,null,2)}]}}catch{throw new Error(`File not found: ${n.fsPath}`)}}catch(n){throw console.error("Error opening file through MCP:",n),n}}async function GT(){try{let t=Ne.window.activeTextEditor,e=[];for(let s of Ne.window.tabGroups.all)for(let a of s.tabs)if(a.input instanceof Ne.TabInputText){let i=a.input.uri,n=Ne.workspace.textDocuments.find(l=>l.uri.toString()===i.toString()),o={uri:i.toString(),isActive:a.isActive,isPinned:a.isPinned,isPreview:a.isPreview,isDirty:a.isDirty,label:a.label,groupIndex:s.viewColumn?s.viewColumn-1:0,viewColumn:s.viewColumn,isGroupActive:s.isActive};n&&(o.fileName=n.fileName,o.languageId=n.languageId,o.lineCount=n.lineCount,o.isUntitled=n.isUntitled,t&&t.document.uri.toString()===i.toString()&&(o.selection={start:{line:t.selection.start.line,character:t.selection.start.character},end:{line:t.selection.end.line,character:t.selection.end.character},isReversed:t.selection.isReversed})),e.push(o)}return{content:[{type:"text",text:JSON.stringify({tabs:e},null,2)}]}}catch(t){throw console.error("Error getting open editors through MCP:",t),t}}async function WT(){try{let t=Ne.window.activeTextEditor;if(!t)return{content:[{type:"text",text:JSON.stringify({success:!1,message:"No active editor found"},null,2)}]};let e=t.selection,r=t.document,s=r.getText(e),a=r.uri.fsPath;return{content:[{type:"text",text:JSON.stringify({success:!0,text:s,filePath:a,fileUrl:r.uri.toString(),selection:{start:{line:e.start.line,character:e.start.character},end:{line:e.end.line,character:e.end.character},isEmpty:e.isEmpty}},null,2)}]}}catch(t){throw console.error("Error getting current selection through MCP:",t),t}}async function ZT(){try{let e=(Ne.workspace.workspaceFolders||[]).map(r=>({name:r.name,uri:r.uri.toString(),path:r.uri.fsPath,index:r.index}));return{content:[{type:"text",text:JSON.stringify({success:!0,folders:e,rootPath:Ne.workspace.rootPath||null,workspaceFile:Ne.workspace.workspaceFile?.toString()||null},null,2)}]}}catch(t){throw console.error("Error getting workspace folders through MCP:",t),t}}async function KT({filePath:t}){try{if(!t)throw new Error("File path is required");let e;if(!va.isAbsolute(t)&&Ne.workspace.workspaceFolders&&Ne.workspace.workspaceFolders.length>0){let s=Ne.workspace.workspaceFolders[0].uri.fsPath,a=va.join(s,t);e=Ne.Uri.file(a),console.log(`Converted relative path '${t}' to absolute: '${a}'`)}else e=Ne.Uri.file(t);let r=Ne.workspace.textDocuments.find(s=>s.uri.toString()===e.toString());return r?{content:[{type:"text",text:JSON.stringify({success:!0,filePath:e.fsPath,isDirty:r.isDirty,isUntitled:r.isUntitled},null,2)}]}:{content:[{type:"text",text:JSON.stringify({success:!1,message:`Document not open: ${e.fsPath}`},null,2)}]}}catch(e){throw console.error("Error checking document dirty state through MCP:",e),e}}async function JT({filePath:t}){try{if(!t)throw new Error("File path is required");let e;if(!va.isAbsolute(t)&&Ne.workspace.workspaceFolders&&Ne.workspace.workspaceFolders.length>0){let a=Ne.workspace.workspaceFolders[0].uri.fsPath,i=va.join(a,t);e=Ne.Uri.file(i),console.log(`Converted relative path '${t}' to absolute: '${i}'`)}else e=Ne.Uri.file(t);let r=Ne.workspace.textDocuments.find(a=>a.uri.toString()===e.toString());if(!r)return{content:[{type:"text",text:JSON.stringify({success:!1,message:`Document not open: ${e.fsPath}`},null,2)}]};let s=await r.save();return{content:[{type:"text",text:JSON.stringify({success:!0,filePath:e.fsPath,saved:s,message:s?"Document saved successfully":"Document was not dirty or save failed"},null,2)}]}}catch(e){throw console.error("Error saving document through MCP:",e),e}}var St=ae(require("vscode"),1),$h;async function a5(){if(!$h){let t=St.extensions.getExtension("ms-toolsai.jupyter");if(!t)throw new Error("Jupyter extension not installed");$h=Promise.resolve(t.activate())}return $h}function Ii(t,e){return t.error(e),{content:[{type:"text",text:e}]}}async function QT(t,e){let r=St.window.activeNotebookEditor;if(!r)return Ii(t,"No active notebook editor found.");let s;try{s=await a5()}catch{return Ii(t,"Unable to request Jupyter extension API. It is either not installed or not activated.")}let a=await s.kernels.getKernel(r.notebook.uri);if(!a)return Ii(t,"No kernel found for the active notebook. Please connect to a kernel.");if(a.language!=="python")return Ii(t,`Kernel language is ${a?.language}, not python.`);let i={content:[]};try{t.info(`Executing ${e}`);let n=new TextDecoder,o=await i5(e,r.notebook),l=r.notebook.getCells().find(p=>p.metadata.id===o);if(!l)return Ii(t,"No cell found in the notebook.");let c=r.notebook.getCells().indexOf(l);if(r.revealRange(new St.NotebookRange(c,c+1),St.NotebookEditorRevealType.InCenter),!await n5(t))return Ii(t,"Code execution cancelled by user. Ask the user how they would like to proceed.");await St.commands.executeCommand("notebook.cell.execute",{ranges:[{start:c,end:c+1}],document:r.notebook.uri});for(let p of l.outputs)for(let h of p.items)if(h.mime===o5){let d=JSON.parse(n.decode(h.data));t.appendLine(`Error executing code ${d.name}: ${d.message},/n ${d.stack}`),i.content.push({type:"text",text:`Error: ${d.name}: ${d.message},/n ${d.stack}`})}else if(h.mime===c5){let d=Buffer.from(h.data).toString("base64");i.content.push({type:"image",data:d,mimeType:h.mime})}else i.content.push({type:"text",text:n.decode(h.data)});t.info("Code execution completed")}catch(n){t.error(`Code execution failed with an error '${n}'`)}return i}async function n5(t){return(await St.window.showQuickPick([{label:"Execute",description:"Run the code in the notebook"},{label:"Cancel",description:"Do not execute the code"}],{title:"Claude Code Execution",placeHolder:"Choose whether to execute the code"}))?.label==="Execute"}async function i5(t,e){let r=new St.NotebookCellData(St.NotebookCellKind.Code,t,"python"),s=Math.random().toString(36).substring(2,15);r.metadata={id:s};let a=e.getCells().length,i=St.NotebookEdit.insertCells(a,[r]),n=new St.WorkspaceEdit;return n.set(e.uri,[i]),await St.workspace.applyEdit(n),s}var o5=St.NotebookCellOutputItem.error(new Error("")).mime,c5="image/png";var Zu=ae(require("vscode"),1),gs=ae(require("fs"),1),Ku=ae(require("path"),1),XT=ae(require("os"),1),YT=ae(require("http"),1);function l5(){return Math.floor(Math.random()*55536)+1e4}function eO(){let t=Ku.join(XT.homedir(),".claude","ide");return gs.existsSync(t)||gs.mkdirSync(t,{recursive:!0}),t}function Nh(t,e){let r=eO(),s=Ku.join(r,`${t}.lock`),a=gs.existsSync(s),i=Zu.workspace.workspaceFolders?.map(o=>o.uri.fsPath)||[],n={pid:process.ppid,workspaceFolders:i,ideName:Zu.env.appName,transport:"ws",runningInWindows:process.platform==="win32",authToken:e};return gs.writeFileSync(s,JSON.stringify(n)),a&&console.log(`Updated lock file with new workspace folders: ${s}`),s}function tO(t){let e=eO(),r=Ku.join(e,`${t}.lock`);if(gs.existsSync(r))try{gs.unlinkSync(r)}catch(s){console.error(`Failed to delete lock file ${r}:`,s)}}function u5(t){return new Promise(e=>{let r=YT.createServer();r.once("error",()=>{e(!1)}),r.once("listening",()=>{r.close(),e(!0)}),r.listen(t)})}async function rO(){for(let t=0;t<50;t++){let e=l5();if(await u5(e))return e}throw new Error("Failed to find an available port after multiple attempts")}var Rt=ae(require("vscode"),1),nO=ae(require("fs"),1);var sO=ae(require("vscode"),1);function Yr(){try{let t=sO.window.activeTerminal;t&&t.show()}catch(t){console.error("Error focusing terminal:",t)}}var ga;async function iO(t,e,r,s,a,i,n,o,l){t.info("diff from",s,"to",a,"as",n);let c=Rt.Uri.file(s);try{if((await Rt.workspace.openTextDocument(c)).isDirty){let k=nO.readFileSync(s,"utf8");c=e.createFile(s,k).uri}}catch{t.info("leftTempFileProvider.createFile",s),c=e.createFile(s,"").uri}let p=r.createFile(a,i).uri,h=await Rt.workspace.openTextDocument(p),d=I=>I.input instanceof Rt.TabInputTextDiff&&I.input.modified.toString()===p.toString();await Fh(t)>0&&await new Promise(I=>setTimeout(I,200));let f={preview:!1},v=i,g=i,b;Rt.workspace.onDidChangeTextDocument(I=>{I.document.uri.toString()===p.toString()&&(v=g,g=I.document.getText(),I.contentChanges.length>3&&I.reason!==Rt.TextDocumentChangeReason.Undo&&I.reason!==Rt.TextDocumentChangeReason.Redo&&(b={time:Date.now(),contents:v}))});let w=new Promise(I=>{l.push(Rt.workspace.onWillSaveTextDocument(k=>{if(k.document.uri.toString()===p.toString()){let A=k.document.getText();b&&Date.now()-b.time<500&&(A=b.contents),I(A)}}))}),R=!0;ga&&(ga.dispose(),ga=void 0);try{ga=Rt.commands.registerCommand("type",I=>{if(!(R&&Rt.window.activeTextEditor?.document.uri.toString()===p.toString()))return Rt.commands.executeCommand("default:type",I)}),setTimeout(()=>{R=!1,ga&&(ga.dispose(),ga=void 0)},1e3),l.push(ga)}catch(I){t.warn("Could not register type command interceptor:",I)}let C=Ju(),P=await Rt.commands.executeCommand("vscode.diff",c,p,n,f);t.info("diff result",P,n,c,p,f);try{await aO(()=>Ju().some(I=>I.label===n),1e3)}catch(I){let k=Ju().filter(A=>!C.some(L=>L.label===A.label)).map(A=>({label:A.label,isDiff:A.isDiff}));throw t.error(`Failed to open diff tab, possibly new tabs: ${JSON.stringify(k)}`),I}Yr();let T=new Promise(I=>{l.push(o(k=>{k.activeTab&&d(k.activeTab)&&I(k)}))}).then(I=>I.accepted?(t.info("diff_accepted",n),{content:[{type:"text",text:"FILE_SAVED"},{type:"text",text:h.getText()}]}):{content:[{type:"text",text:"DIFF_REJECTED"},{type:"text",text:n}]}),$=aO(()=>!Ju().some(I=>I.label===n)).then(()=>(t.info("tab_closed",n),{content:[{type:"text",text:"DIFF_REJECTED"},{type:"text",text:n}]})),D=w.then(async I=>(t.info("file_saved",n),{content:[{type:"text",text:"FILE_SAVED"},{type:"text",text:I}]})),j=[$,T];return Rt.workspace.getConfiguration("files").get("autoSave")==="off"&&j.push(D),await Promise.race(j)}function Ju(){return Rt.window.tabGroups.all.flatMap(t=>t.tabs.map(e=>({tab:e,label:e.label,isDiff:e.input instanceof Rt.TabInputTextDiff,viewColumn:t.viewColumn,isActive:e.isActive})))}function aO(t,e){return new Promise((r,s)=>{let a,i=setInterval(()=>{t()&&(clearInterval(i),a&&clearTimeout(a),r())},100);e&&(a=setTimeout(()=>{clearInterval(i),s(new Error(`Timeout waiting after ${e}ms`))},e))})}async function jh(t,e,r){t.environmentVariableCollection.replace(e,r),console.log(`Set ${e}=${r} in terminal environment (in-memory)`)}var O6=ae(tk(),1),k6=ae(Kh(),1),A6=ae(Xh(),1),pk=ae(cp(),1),iv=ae(uk(),1);var Ui=pk.default;var up=class{constructor(e){this.ws=e;this.opened=new Promise((r,s)=>{this.ws.readyState===Ui.OPEN?r():(this.ws.on("open",()=>{r()}),this.ws.on("error",a=>{s(a)}))}),this.ws.on("message",this.onMessageHandler),this.ws.on("error",this.onErrorHandler),this.ws.on("close",this.onCloseHandler)}started=!1;opened;onclose;onerror;onmessage;onMessageHandler=e=>{try{let r=JSON.parse(e.toString("utf-8")),s=QP.parse(r);this.onmessage?.(s)}catch(r){this.onErrorHandler(r)}};onErrorHandler=e=>{this.onerror?.(e instanceof Error?e:new Error("Failed to process message"))};onCloseHandler=()=>{this.onclose?.(),this.ws.off("message",this.onMessageHandler),this.ws.off("error",this.onErrorHandler),this.ws.off("close",this.onCloseHandler)};async start(){if(this.started)throw new Error("Start can only be called once per transport.");if(await this.opened,this.ws.readyState!==Ui.OPEN)throw new Error("WebSocket is not open. Cannot start transport.");this.started=!0}async close(){(this.ws.readyState===Ui.OPEN||this.ws.readyState===Ui.CONNECTING)&&this.ws.close(),this.onCloseHandler()}async send(e){if(this.ws.readyState!==Ui.OPEN)throw new Error("WebSocket is not open. Cannot send message.");let r=JSON.stringify(e);try{await new Promise((s,a)=>{this.ws.send(r,i=>{i?a(i):s()})})}catch(s){throw this.onErrorHandler(s),s}}};var ov=ae(require("vscode"),1);var Bs=null;function cv(){return Bs}function dk(t,e){let r=null,s=ov.window.onDidChangeTextEditorSelection(a=>{let i=a.textEditor,n=i.selection,o=i.document,c={text:o.getText(n),filePath:o.uri.fsPath,fileUrl:o.uri.toString(),selection:{start:{line:n.start.line,character:n.start.character},end:{line:n.end.line,character:n.end.character},isEmpty:n.isEmpty}},u=!Bs||Bs.text!==c.text||Bs.filePath!==c.filePath||Bs.selection.start.line!==c.selection.start.line||Bs.selection.start.character!==c.selection.start.character||Bs.selection.end.line!==c.selection.end.line||Bs.selection.end.character!==c.selection.end.character;Bs=c;let p=e();u&&p&&t.server&&(r&&clearTimeout(r),r=setTimeout(()=>{let h=e();h&&lv(c,h)},300))});return{dispose:()=>{s.dispose(),r&&clearTimeout(r)}}}function fk(t,e,r){t(()=>{let s=ov.window.activeTextEditor;if(!s)return;let a=s.selection,i={filePath:s.document.uri.fsPath};a.isEmpty||(i.lineStart=a.start.line,i.lineEnd=a.end.line);let n=r();n&&e.server&&(mk(i,n),Yr())})}function I6(){let t=lr.env.appName,e;switch(t.toLowerCase()){case"visual studio code":e="Claude Code VSCode MCP";break;case"cursor":e="Claude Code Cursor MCP";break;case"windsurf":e="Claude Code Windsurf MCP";break;default:e=`Claude Code ${t} MCP`}return e}function D6(t,e,r,s){t.logged.event(a=>{let i=s();i&&e.server?bk(r,a,i):uv.push(a)})}function gk(t,e,r,s,a,i,n){let o=new Wu({name:I6(),version:t.extension.packageJSON.version||"0.0.1"});o.tool("openDiff","Open a git diff for the file",{old_file_path:_.string().describe("Path to the file to show diff for. If not provided, uses active editor."),new_file_path:_.string().describe("Path to the file to show diff for. If not provided, uses active editor."),new_file_contents:_.string().describe("Contents of the new file. If not provided then the current file contents of new_file_path will be used."),tab_name:_.string().describe("Path to the file to show diff for. If not provided, uses active editor.")},async({old_file_path:b,new_file_path:w,new_file_contents:R,tab_name:C})=>{let P=[];try{return await iO(s,e,r,b,w,R,C,a,P)}catch(T){throw s.error(`Error opening diff: ${T}`),T}finally{for(let T of P)T.dispose()}}),o.tool("getDiagnostics","Get language diagnostics from VS Code",{uri:_.string().optional().describe("Optional file URI to get diagnostics for. If not provided, gets diagnostics for all files.")},HT),o.tool("close_tab",{tab_name:_.string()},async({tab_name:b})=>(await L6(b,s),setTimeout(()=>{Yr()},500),{content:[{type:"text",text:"TAB_CLOSED"}]})),o.tool("closeAllDiffTabs","Close all diff tabs in the editor",{},async()=>{let b=await Fh(s);return setTimeout(()=>{Yr()},500),{content:[{type:"text",text:`CLOSED_${b}_DIFF_TABS`}]}}),o.tool("openFile","Open a file in the editor and optionally select a range of text",{filePath:_.string().describe("Path to the file to open"),preview:_.boolean().describe("Whether to open the file in preview mode").default(!1),startText:_.string().describe("Text pattern to find the start of the selection range. Selects from the beginning of this match."),endText:_.string().describe("Text pattern to find the end of the selection range. Selects up to the end of this match. If not provided, only the startText match will be selected."),selectToEndOfLine:_.boolean().describe("If true, selection will extend to the end of the line containing the endText match.").default(!1),makeFrontmost:_.boolean().describe("Whether to make the file the active editor tab. If false, the file will be opened in the background without changing focus.").default(!0)},{readOnlyHint:!0},VT),o.tool("getOpenEditors","Get information about currently open editors",{},GT),o.tool("getWorkspaceFolders","Get all workspace folders currently open in the IDE",{},ZT),o.tool("getCurrentSelection","Get the current text selection in the active editor",{},WT),o.tool("checkDocumentDirty","Check if a document has unsaved changes (is dirty)",{filePath:_.string().describe("Path to the file to check")},KT),o.tool("saveDocument","Save a document with unsaved changes",{filePath:_.string().describe("Path to the file to save")},JT),o.tool("getLatestSelection","Get the most recent text selection (even if not in the active editor)",{},async()=>({content:[{type:"text",text:JSON.stringify(cv()||{success:!1,message:"No selection available"},null,2)}]})),o.tool("executeCode",`Execute python code in the Jupyter kernel for the current notebook file.
    
    All code will be executed in the current Jupyter kernel.
    
    Avoid declaring variables or modifying the state of the kernel unless the user
    explicitly asks for it.
    
    Any code executed will persist across calls to this tool, unless the kernel
    has been restarted.`,{code:_.string().describe("The code to be executed on the kernel.")},({code:b})=>QT(s,b));let l=vk.createServer(),c=new iv.default({server:l}),u=null,p=null,h=yl.getInstance(s),d=(0,hk.randomUUID)();c.on("connection",function(b,w){if(w.headers["x-claude-code-ide-authorization"]!==d){s.error("Unauthorized WebSocket connection attempt"),b.close(1008,"Unauthorized");return}if(s.info("New WS connection from:",w.url||"unknown"),u){s.info("Disconnecting previous WebSocket client"),p&&(h.unregisterClient(p),s.info(`Unregistered previous diagnostic client: ${p}`),p=null);try{u.close()}catch(P){s.error("Error closing previous transport:",P)}}let R=new up(b);u=R;let C=null;o.connect(R).then(()=>{s.info("MCP server connected to transport"),C=h.registerClient(P=>{R.send({jsonrpc:"2.0",method:"diagnostics_changed",params:{uris:P}}).catch(T=>{s.error("Error sending diagnostics notification:",T.message)})}),p=C,s.info(`Registered diagnostic client: ${C}`),setTimeout(()=>{let P=cv();P&&lv(P,R);let T=[...uv];uv.length=0;for(let $ of T)bk(s,$,R)},500)}).catch(P=>{console.error("Error connecting transport:",P),u=null;try{b.close()}catch(T){s.error("Error closing WebSocket:",T)}}),b.on("close",()=>{s.info("WS client disconnected"),u===R&&(u=null,C&&p===C&&(h.unregisterClient(C),s.info(`Unregistered diagnostic client: ${C}`),p=null))})});let m=()=>u;D6(n,o,s,m),fk(i,o,m);let f=dk(o,m),v=null;l.on("listening",()=>{let b=l.address();b&&typeof b!="string"&&(v=b.port)});let g=lr.workspace.onDidChangeWorkspaceFolders(()=>{v!==null&&(Nh(v,d),s.info(`Updated lock file for port ${v} with new workspace folders`))});return{httpServer:l,authToken:d,dispose:async()=>{v!==null&&(tO(v),s.info(`Deleted lock file for port ${v}`)),f.dispose(),g.dispose(),h.dispose(),l.close(),typeof o.close=="function"&&await o.close()}}}async function yk(t,e,r,s){try{let a=await rO(),i=null;return new Promise((n,o)=>{t.listen(a,"127.0.0.1",async()=>{s.info(`MCP Server running on port ${a} (localhost only)`),i=Nh(a,e),console.log(`Created lock file at ${i}`);try{await jh(r,"CLAUDE_CODE_SSE_PORT",String(a)),await jh(r,"ENABLE_IDE_INTEGRATION","true"),n(a)}catch(l){console.error("Failed to set environment variables:",l),o(l)}}).on("error",l=>{console.error("Failed to start MCP server:",l),lr.window.showErrorMessage(`Failed to start MCP server: ${l}`),o(l)})})}catch(a){throw console.error("Failed to start MCP server:",a),lr.window.showErrorMessage(`Failed to start MCP server: ${a}`),a}}async function xk(t,e){let r=t.input;if(r instanceof lr.TabInputTextDiff)try{await(await lr.workspace.openTextDocument(r.modified)).save()}catch(s){e.error("Error saving modified file:",s)}await lr.window.tabGroups.close(t)}async function L6(t,e){for(let r of lr.window.tabGroups.all)for(let s of r.tabs)if(s.label===t)return await xk(s,e),!0;return!1}async function Fh(t){let e=0;t.info("Closing all diff tabs in the editor...");for(let r of lr.window.tabGroups.all)for(let s of r.tabs)s.input instanceof lr.TabInputTextDiff&&s.label.includes("[Claude Code]")&&(await xk(s,t),e++);return t.info(`Closed ${e} diff tabs.`),e}function bk(t,e,r){t.info("Logging event:",e.eventName,e.eventData);let s={eventName:e.eventName,eventData:e.eventData??{}};r.send({jsonrpc:"2.0",method:"log_event",params:s}).catch(a=>{t.error("Error sending log event:",a)})}var uv=[];async function lv(t,e){try{e.send({jsonrpc:"2.0",method:"selection_changed",params:t}).catch(r=>{console.error("Error sending selection change notification:",r)})}catch(r){console.error("Error sending selection change notification:",r)}}async function mk(t,e){try{e.send({jsonrpc:"2.0",method:"at_mentioned",params:t}).catch(r=>{console.error("Error sending at-mentioned notification:",r)})}catch(r){console.error("Error sending at-mentioned notification:",r)}}var ft=ae(require("vscode"),1),_k=ae(require("path"),1);var wk=ae(Rf(),1);function $6(t){return typeof t=="string"&&["bottom","window","beside"].includes(t)}async function N6(t,e,r=!0,s,a){t.info("Creating new Claude terminal"),r&&ft.window.withProgress({location:ft.ProgressLocation.Notification,title:"Claude Code launching...",cancellable:!1},async l=>new Promise(c=>setTimeout(c,2e3)));let i=a==="beside"||a===void 0?{viewColumn:ft.ViewColumn.Beside}:a==="window"?{viewColumn:ft.ViewColumn.One}:void 0,n=ft.window.createTerminal({name:process.env.CLAUDE_CODE_TERMINAL_TITLE||"Claude Code",iconPath:ft.Uri.file(_k.join(e.extensionPath,"resources","claude-logo.svg")),location:i,isTransient:!0});ft.window.onDidEndTerminalShellExecution(l=>{l.terminal===n&&l.execution.commandLine.value.startsWith("claude ")&&(t.info(`Claude terminal closed after executing ${l.execution.commandLine.value}`),n.dispose())});let o=!1;return ft.window.onDidChangeTerminalShellIntegration(async l=>{let c="claude";s&&(c=(0,wk.quote)(["claude",s])),l.terminal===n&&!o&&(o=!0,t.info("Terminal shell integration available"),l.shellIntegration.executeCommand(c))}),setTimeout(()=>{!n.shellIntegration&&!o&&(o=!0,n.sendText("claude"))},3e3),n.show(),a==="window"&&await ft.commands.executeCommand("workbench.action.moveEditorToNewWindow"),{terminal:n,claudeRunning:!0}}function Sk(t,e,r){let s=async(a,i)=>{try{await N6(t,e,!0,a,i)}catch(n){t.error("Error running Claude Code:",n),ft.window.showErrorMessage(`Failed to run Claude Code: ${n}`)}};e.subscriptions.push(ft.commands.registerCommand("claude-vscode.terminal.open",(a,i)=>{r.logEvent("run_claude_command");let n=typeof a=="string"?a:void 0,o=$6(i)?i:void 0;s(n,o)})),e.subscriptions.push(ft.commands.registerCommand("claude-vscode.terminal.open.keyboard",()=>{r.logEvent("run_claude_command_keyboard"),s()}))}function Ek(t){let e=new ft.EventEmitter;return t.push(ft.commands.registerCommand("claude-code.acceptProposedDiff",async()=>{let r=ft.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!0,activeTab:r}),Yr()})),t.push(ft.commands.registerCommand("claude-code.rejectProposedDiff",async()=>{let r=ft.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!1,activeTab:r}),Yr()})),e.event}function Pk(t,e){let r=new ft.EventEmitter;return t.push(ft.commands.registerCommand("claude-code.insertAtMentioned",async()=>{if(e?.nativeAtMentionCallback){let s=ft.window.activeTextEditor;if(!s)return;let a=s.document,i=ft.workspace.asRelativePath(a.fileName),n=s.selection,o;if(n.isEmpty)o=`@${i}`;else{let c=n.start.line+1,u=n.end.line+1;o=c!==u?`@${i}#${c}-${u}`:`@${i}#${c}`}e.nativeAtMentionCallback(o)||r.fire({})}else r.fire({}),Yr()})),r.event}var Rk=ae(require("vscode"),1),pp=class{logged=new Rk.EventEmitter;logEvent(e,r){this.logged.fire({eventName:e,eventData:r})}};function Ck(t,e,r){t.subscriptions.push(e);let s=new pp;e.info("Claude code extension is now active?");let a=new Bo("_claude_fs_left");t.subscriptions.push(Hs.workspace.registerFileSystemProvider(a.scheme,a));let i=new Bo("_claude_fs_right");t.subscriptions.push(Hs.workspace.registerFileSystemProvider(i.scheme,i)),t.subscriptions.push(F6(i.scheme));let n=Ek(t.subscriptions),o=Pk(t.subscriptions,{output:e,context:t,nativeAtMentionCallback:r.nativeAtMentionCallback});Sk(e,t,s);try{let{httpServer:l,authToken:c,dispose:u}=gk(t,a,i,e,n,o,s);yk(l,c,t,e).catch(p=>{e.error("Failed to start MCP server:",p),Hs.window.showErrorMessage(`Failed to start MCP server: ${p}`)}),t.subscriptions.push({dispose:async()=>{await u()}})}catch(l){e.error("Error during extension activation:",l),Hs.window.showErrorMessage(`Failed to activate Claude Code extension: ${l}`)}}function F6(t){return Hs.window.onDidChangeVisibleTextEditors(e=>{let r=e.some(s=>s?.document.uri.scheme===t);Hs.commands.executeCommand("setContext","claude-code.viewingProposedDiff",r)})}function pv(t){let e=t.document,r=e.fileName,s=t.selection;if(s.isEmpty)return{filePath:r,startLine:s.start.line+1,endLine:s.start.line+1};{let a=e.getText(s);return{filePath:r,startLine:s.start.line+1,endLine:s.end.line+1,startColumn:s.start.character,endColumn:s.end.character,selectedText:a}}}var nc=ae(require("vscode"),1),dp=class{constructor(e){this.context=e}getModel(){let r=nc.workspace.getConfiguration("claude-code").get("selectedModel");return r||"default"}async setModel(e){await nc.workspace.getConfiguration("claude-code").update("selectedModel",e,nc.ConfigurationTarget.Global)}getThinkingLevel(){let e=this.context.globalState.get("thinkingLevel");return e||"off"}async setThinkingLevel(e){this.context.globalState.update("thinkingLevel",e)}};var Tk=!1;function j6(t){Tk=!0;let e=nt.window.createOutputChannel("Claude VSCode",{log:!0});t.subscriptions.push(e),nt.commands.executeCommand("setContext","claude-vscode.updateSupported",!1);let r=new dp(t),s=new zo("_claude_vscode_fs_left");t.subscriptions.push(nt.workspace.registerFileSystemProvider(s.scheme,s));let a=new zo("_claude_vscode_fs_right");t.subscriptions.push(nt.workspace.registerFileSystemProvider(a.scheme,a));let i=new eu("_claude_vscode_fs_readonly");t.subscriptions.push(nt.workspace.registerTextDocumentContentProvider(i.scheme,i)),t.subscriptions.push(q6(a.scheme));let n=fw(t.subscriptions),o=new nt.EventEmitter;t.subscriptions.push(o),M6(t.subscriptions,o);let l=o.event,c=U6(t.subscriptions),u=new qo(t.extensionUri,t,e,r,s,a,i,n,l,c,()=>ic);t.subscriptions.push(u),Ck(t,e,{nativeAtMentionCallback:p=>u.hasVisibleWebview()?(o.fire(p),!0):!1}),t.subscriptions.push(nt.window.registerWebviewViewProvider(qo.viewType,u,{webviewOptions:{retainContextWhenHidden:!0}})),nt.window.registerWebviewPanelSerializer("claudeVSCodePanel",{async deserializeWebviewPanel(p,h){u.setupPanel(p)}}),t.subscriptions.push(nt.commands.registerCommand("claude-vscode.editor.open",async()=>{let{startedInNewColumn:p}=u.createPanel();p&&nt.commands.executeCommand("workbench.action.lockEditorGroup")})),t.subscriptions.push(nt.commands.registerCommand("claude-vscode.sidebar.open",async()=>{nt.commands.executeCommand("setContext","claude-code:sidebarVisible",!0),await nt.commands.executeCommand("claudeVSCodeSidebar.focus")})),t.subscriptions.push(nt.commands.registerCommand("claude-vscode.window.open",async()=>{u.createPanel(),await nt.commands.executeCommand("workbench.action.moveEditorToNewWindow")})),t.subscriptions.push(nt.commands.registerCommand("claude-vscode.logout",async()=>{await new _i(wi(e),Xl()).logout()?(await u.notifyLogout(),nt.window.showInformationMessage("Successfully logged out from Claude")):nt.window.showErrorMessage("Failed to logout completely. Some credentials may remain.")})),t.subscriptions.push(nt.commands.registerCommand("claude-vscode.showLogs",()=>{e.show()}))}function M6(t,e){t.push(nt.commands.registerCommand("claude-vscode.insertAtMention",async()=>{let r=nt.window.activeTextEditor;if(!r)return;let s=r.document,a=nt.workspace.asRelativePath(s.fileName),i=r.selection;if(i.isEmpty){e.fire(`@${a}`);return}let n=i.start.line+1,o=i.end.line+1,l=n!==o?`@${a}#${n}-${o}`:`@${a}#${n}`;e.fire(l)}))}var ic;function U6(t){let e=new nt.EventEmitter;return t.push(nt.window.onDidChangeTextEditorSelection(async r=>{if(!(r.textEditor!==nt.window.activeTextEditor||await Cd(r.textEditor.document.uri))){if(r.selections.length===0){e.fire(void 0);return}ic=pv(r.textEditor),e.fire(ic)}})),t.push(nt.window.onDidChangeActiveTextEditor(async r=>{!r||await Cd(r.document.uri)||(ic=pv(r),e.fire(ic))})),e.event}function q6(t){return nt.window.onDidChangeVisibleTextEditors(e=>{let r=e.some(s=>s?.document.uri.scheme===t);nt.commands.executeCommand("setContext","claude-vscode.viewingProposedDiff",r)})}function z6(){console.log("Claude code extension is now deactivated"),Tk=!1}function B6(){return nt.window.tabGroups.all.flatMap(t=>t.tabs)}0&&(module.exports={activate,deactivate,openTabs});
/*! Bundled license information:

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
